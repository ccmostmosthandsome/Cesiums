!function(I,C){"object"==typeof exports&&"object"==typeof module?module.exports=C(require("Cesium")):"function"==typeof define&&define.amd?define(["Cesium"],C):"object"==typeof exports?exports.Cesiums=C(require("Cesium")):I.Cesiums=C(I.Cesium)}(window,function(__WEBPACK_EXTERNAL_MODULE__0__){return function(I){var C={};function g(Q){if(C[Q])return C[Q].exports;var F=C[Q]={i:Q,l:!1,exports:{}};return I[Q].call(F.exports,F,F.exports,g),F.l=!0,F.exports}return g.m=I,g.c=C,g.d=function(I,C,Q){g.o(I,C)||Object.defineProperty(I,C,{enumerable:!0,get:Q})},g.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},g.t=function(I,C){if(1&C&&(I=g(I)),8&C)return I;if(4&C&&"object"==typeof I&&I&&I.__esModule)return I;var Q=Object.create(null);if(g.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:I}),2&C&&"string"!=typeof I)for(var F in I)g.d(Q,F,function(C){return I[C]}.bind(null,F));return Q},g.n=function(I){var C=I&&I.__esModule?function(){return I.default}:function(){return I};return g.d(C,"a",C),C},g.o=function(I,C){return Object.prototype.hasOwnProperty.call(I,C)},g.p="/dist",g(g.s=6)}([function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJDZXNpdW1cIj8yN2MzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.ChoiceHelper = exports.DrawHelper = exports.Settings = exports.OfficialUtils = exports.EditableEntity = exports.DazzlingLabelEntity = exports.eventSystem = exports.Cartesian3s = exports.Cameras = exports.__dirpath = undefined;\n\nvar _Cameras = __webpack_require__(7);\n\nObject.defineProperty(exports, "Cameras", {\n    enumerable: true,\n    get: function get() {\n        return _Cameras.Cameras;\n    }\n});\n\nvar _Cartesian3s = __webpack_require__(4);\n\nObject.defineProperty(exports, "Cartesian3s", {\n    enumerable: true,\n    get: function get() {\n        return _Cartesian3s.Cartesian3s;\n    }\n});\n\nvar _EventSystem = __webpack_require__(5);\n\nObject.defineProperty(exports, "eventSystem", {\n    enumerable: true,\n    get: function get() {\n        return _EventSystem.eventSystem;\n    }\n});\n\nvar _DazzlingLabelEntity = __webpack_require__(9);\n\nObject.defineProperty(exports, "DazzlingLabelEntity", {\n    enumerable: true,\n    get: function get() {\n        return _DazzlingLabelEntity.DazzlingLabelEntity;\n    }\n});\n\nvar _EditableEntity = __webpack_require__(12);\n\nObject.defineProperty(exports, "EditableEntity", {\n    enumerable: true,\n    get: function get() {\n        return _EditableEntity.EditableEntity;\n    }\n});\n\nvar _Settings = __webpack_require__(13);\n\nObject.defineProperty(exports, "Settings", {\n    enumerable: true,\n    get: function get() {\n        return _Settings.Settings;\n    }\n});\n\nvar _ChoiceHelper = __webpack_require__(14);\n\nObject.defineProperty(exports, "ChoiceHelper", {\n    enumerable: true,\n    get: function get() {\n        return _ChoiceHelper.ChoiceHelper;\n    }\n});\n\n__webpack_require__(15);\n\nvar _OfficialUtils = __webpack_require__(3);\n\nvar officialUtils = _interopRequireWildcard(_OfficialUtils);\n\nvar _DrawHelper = __webpack_require__(16);\n\nvar drawHelper = _interopRequireWildcard(_DrawHelper);\n\n__webpack_require__(18);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar __dirpath = exports.__dirpath = getPathDir();\n\n/**\r\n * 用于组织管理输出,打包输出的内容依赖此文件的输出\r\n */\n/**Scene*/\n\n\n/**Util**/\nvar OfficialUtils = exports.OfficialUtils = officialUtils;\n\n/**Widgets**/\n\n\n/*ThirdParty*/\nvar DrawHelper = exports.DrawHelper = drawHelper;\n\n//遍历script 获取src路径\nfunction getPathDir() {\n    var scriptSrc = "";\n    var nodeList = document.querySelectorAll("script");\n    for (var i = 0; i < nodeList.length; i++) {\n        if (/Cesiums[^\\/]*$/.test(nodeList.item(i).src)) {\n            scriptSrc = nodeList.item(i).src;\n            break;\n        }\n    }\n\n    return scriptSrc.match(/(.+)\\/(Cesiums.js.*|Cesiums.min.js)/)[1];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJDYW1lcmFzIiwiQ2FydGVzaWFuM3MiLCJldmVudFN5c3RlbSIsIkRhenpsaW5nTGFiZWxFbnRpdHkiLCJFZGl0YWJsZUVudGl0eSIsIlNldHRpbmdzIiwiQ2hvaWNlSGVscGVyIiwib2ZmaWNpYWxVdGlscyIsImRyYXdIZWxwZXIiLCJfX2RpcnBhdGgiLCJnZXRQYXRoRGlyIiwiT2ZmaWNpYWxVdGlscyIsIkRyYXdIZWxwZXIiLCJzY3JpcHRTcmMiLCJub2RlTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJ0ZXN0IiwiaXRlbSIsInNyYyIsIm1hdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7d0JBTVFBLE87Ozs7Ozs7Ozs0QkFJQUMsVzs7Ozs7Ozs7OzRCQUNBQyxXOzs7Ozs7Ozs7b0NBSUFDLG1COzs7Ozs7Ozs7K0JBQ0FDLGM7Ozs7Ozs7Ozt5QkFRQUMsUTs7Ozs7Ozs7OzZCQU9BQyxZOzs7O0FBeEJSOztBQWFBOztJQUFZQyxhOztBQVFaOztJQUFZQyxVOztBQUtaOzs7O0FBakNPLElBQU1DLGdDQUFZQyxZQUFsQjs7QUFFUDs7O0FBR0E7OztBQWNBO0FBRU8sSUFBTUMsd0NBQWdCSixhQUF0Qjs7QUFFUDs7O0FBSUE7QUFFTyxJQUFNSyxrQ0FBYUosVUFBbkI7O0FBUVA7QUFDQSxTQUFTRSxVQUFULEdBQXNCO0FBQ2xCLFFBQUlHLFlBQVksRUFBaEI7QUFDQSxRQUFJQyxXQUFXQyxTQUFTQyxnQkFBVCxDQUEwQixRQUExQixDQUFmO0FBQ0EsU0FBSSxJQUFJQyxJQUFJLENBQVosRUFBZUEsSUFBR0gsU0FBU0ksTUFBM0IsRUFBa0NELEdBQWxDLEVBQXNDO0FBQ2xDLFlBQUcsaUJBQWlCRSxJQUFqQixDQUFzQkwsU0FBU00sSUFBVCxDQUFjSCxDQUFkLEVBQWlCSSxHQUF2QyxDQUFILEVBQStDO0FBQzNDUix3QkFBWUMsU0FBU00sSUFBVCxDQUFjSCxDQUFkLEVBQWlCSSxHQUE3QjtBQUNBO0FBQ0g7QUFDSjs7QUFFRCxXQUFPUixVQUFVUyxLQUFWLENBQWdCLHFDQUFoQixFQUF1RCxDQUF2RCxDQUFQO0FBQ0giLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBfX2RpcnBhdGggPSBnZXRQYXRoRGlyKCk7XHJcblxyXG4vKipcclxuICog55So5LqO57uE57uH566h55CG6L6T5Ye6LOaJk+WMhei+k+WHuueahOWGheWuueS+nei1luatpOaWh+S7tueahOi+k+WHulxyXG4gKi9cclxuLyoqU2NlbmUqL1xyXG5leHBvcnQge0NhbWVyYXN9IGZyb20gXCIuL1NjZW5lL0NhbWVyYXNcIlxyXG5pbXBvcnQgXCIuL1NjZW5lL0NhbWVyYXMuY3NzXCJcclxuXHJcbi8qKkNvcmUqL1xyXG5leHBvcnQge0NhcnRlc2lhbjNzfSBmcm9tIFwiLi9Db3JlL0NhcnRlc2lhbjNzXCJcclxuZXhwb3J0IHtldmVudFN5c3RlbX0gZnJvbSBcIi4vQ29yZS9FdmVudFN5c3RlbVwiXHJcblxyXG5cclxuLyoqRGF0YVNvdXJjZXMqL1xyXG5leHBvcnQge0RhenpsaW5nTGFiZWxFbnRpdHl9IGZyb20gXCIuL0RhdGFTb3VyY2VzL0RhenpsaW5nTGFiZWxFbnRpdHlcIlxyXG5leHBvcnQge0VkaXRhYmxlRW50aXR5fSBmcm9tIFwiLi9EYXRhU291cmNlcy9FZGl0YWJsZUVudGl0eVwiXHJcblxyXG5cclxuLyoqVXRpbCoqL1xyXG5pbXBvcnQgKiBhcyBvZmZpY2lhbFV0aWxzIGZyb20gXCIuL1V0aWwvT2ZmaWNpYWxVdGlsc1wiO1xyXG5leHBvcnQgY29uc3QgT2ZmaWNpYWxVdGlscyA9IG9mZmljaWFsVXRpbHM7XHJcblxyXG4vKipXaWRnZXRzKiovXHJcbmV4cG9ydCB7U2V0dGluZ3N9IGZyb20gIFwiLi9XaWRnZXRzL1NldHRpbmdzXCI7XHJcblxyXG5cclxuLypUaGlyZFBhcnR5Ki9cclxuaW1wb3J0ICogYXMgZHJhd0hlbHBlciBmcm9tIFwiLi9UaGlyZFBhcnR5L0RyYXdIZWxwZXJcIjtcclxuZXhwb3J0IGNvbnN0IERyYXdIZWxwZXIgPSBkcmF3SGVscGVyO1xyXG5cclxuZXhwb3J0IHtDaG9pY2VIZWxwZXJ9IGZyb20gXCIuL1RoaXJkUGFydHkvQ2hvaWNlSGVscGVyXCJcclxuXHJcbmltcG9ydCBcIi4vVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmNzc1wiXHJcblxyXG5cclxuXHJcbi8v6YGN5Y6Gc2NyaXB0IOiOt+WPlnNyY+i3r+W+hFxyXG5mdW5jdGlvbiBnZXRQYXRoRGlyKCkge1xyXG4gICAgbGV0IHNjcmlwdFNyYyA9IFwiXCI7XHJcbiAgICBsZXQgbm9kZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpO1xyXG4gICAgZm9yKGxldCBpID0gMDsgaTwgbm9kZUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgaWYoL0Nlc2l1bXNbXlxcL10qJC8udGVzdChub2RlTGlzdC5pdGVtKGkpLnNyYykpe1xyXG4gICAgICAgICAgICBzY3JpcHRTcmMgPSBub2RlTGlzdC5pdGVtKGkpLnNyYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzY3JpcHRTcmMubWF0Y2goLyguKylcXC8oQ2VzaXVtcy5qcy4qfENlc2l1bXMubWluLmpzKS8pWzFdO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar getWithDefault = exports.getWithDefault = function getWithDefault(element, defaultElement) {\n    return defined(element) ? element : defaultElement;\n};\n\nvar defined = exports.defined = function defined(element) {\n    return element !== null && element !== undefined;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9Ob3JtYWxVdGlscy5qcz85NzdlIl0sIm5hbWVzIjpbImdldFdpdGhEZWZhdWx0IiwiZWxlbWVudCIsImRlZmF1bHRFbGVtZW50IiwiZGVmaW5lZCIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxJQUFNQSwwQ0FBaUIsU0FBakJBLGNBQWlCLENBQUNDLE9BQUQsRUFBVUMsY0FBVixFQUE2QjtBQUN2RCxXQUFPQyxRQUFRRixPQUFSLElBQW1CQSxPQUFuQixHQUE2QkMsY0FBcEM7QUFDSCxDQUZNOztBQUlBLElBQU1DLDRCQUFVLFNBQVZBLE9BQVUsQ0FBQ0YsT0FBRCxFQUFZO0FBQy9CLFdBQU9BLFlBQVksSUFBWixJQUFvQkEsWUFBWUcsU0FBdkM7QUFDSCxDQUZNIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0V2l0aERlZmF1bHQgPSAoZWxlbWVudCwgZGVmYXVsdEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiBkZWZpbmVkKGVsZW1lbnQpID8gZWxlbWVudCA6IGRlZmF1bHRFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmaW5lZCA9IChlbGVtZW50KSA9PntcclxuICAgIHJldHVybiBlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQgIT09IHVuZGVmaW5lZDtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n/**\r\n * 获取绕某点的圆 SampledPositionProperty\r\n * @param lon 角度\r\n * @param lat 角度\r\n * @param height\r\n * @param radius\r\n */\nvar computeCirclularFlight = exports.computeCirclularFlight = function computeCirclularFlight(lon, lat, height, radius) {\n    var property = new Cesium.SampledPositionProperty();\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n\n    var increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n    for (var i = startAngle; i < endAngle; i += increment) {\n        var radians = Cesium.Math.toRadians(i);\n        var timeIncrement = i - startAngle;\n        var time = Cesium.JulianDate.addSeconds(start, timeIncrement, new Cesium.JulianDate());\n        var position = Cesium.Cartesian3.fromDegrees(lon + radius * 1.5 * Math.cos(radians), lat + radius * Math.sin(radians), height);\n        property.addSample(time, position);\n    }\n    return property;\n};\n\nvar computeCirclularFlightPositions = exports.computeCirclularFlightPositions = function computeCirclularFlightPositions(lon, lat, height, radius) {\n    var positions = [];\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n\n    var increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n    for (var i = startAngle; i < endAngle; i += increment) {\n        var radians = Cesium.Math.toRadians(i);\n        var position = Cesium.Cartesian3.fromDegrees(lon + radius * 1.5 * Math.cos(radians), lat + radius * Math.sin(radians), height);\n        positions.push(position);\n    }\n    return positions;\n};\n\nvar computeCirclularAugle = exports.computeCirclularAugle = function computeCirclularAugle(increment) {\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n    // let increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n\n    var angles = [];\n    for (var i = startAngle; i < endAngle; i += increment) {\n        angles.push(i);\n    }\n    return angles;\n};\n\nvar computeCircle = exports.computeCircle = function computeCircle(radius) {\n    var positions = [];\n    for (var i = 0; i < 360; i++) {\n        var radians = Cesium.Math.toRadians(i);\n        positions.push(new Cesium.Cartesian2(radius * Math.cos(radians), radius * Math.sin(radians)));\n    }\n    return positions;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9PZmZpY2lhbFV0aWxzLmpzP2IwNTYiXSwibmFtZXMiOlsiY29tcHV0ZUNpcmNsdWxhckZsaWdodCIsImxvbiIsImxhdCIsImhlaWdodCIsInJhZGl1cyIsInByb3BlcnR5IiwiQ2VzaXVtIiwiU2FtcGxlZFBvc2l0aW9uUHJvcGVydHkiLCJzdGFydEFuZ2xlIiwiTWF0aCIsIm5leHRSYW5kb21OdW1iZXIiLCJlbmRBbmdsZSIsImluY3JlbWVudCIsImkiLCJyYWRpYW5zIiwidG9SYWRpYW5zIiwidGltZUluY3JlbWVudCIsInRpbWUiLCJKdWxpYW5EYXRlIiwiYWRkU2Vjb25kcyIsInN0YXJ0IiwicG9zaXRpb24iLCJDYXJ0ZXNpYW4zIiwiZnJvbURlZ3JlZXMiLCJjb3MiLCJzaW4iLCJhZGRTYW1wbGUiLCJjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0UG9zaXRpb25zIiwicG9zaXRpb25zIiwicHVzaCIsImNvbXB1dGVDaXJjbHVsYXJBdWdsZSIsImFuZ2xlcyIsImNvbXB1dGVDaXJjbGUiLCJDYXJ0ZXNpYW4yIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7O0FBT08sSUFBTUEsMERBQXlCLFNBQXpCQSxzQkFBeUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE1BQVgsRUFBbUJDLE1BQW5CLEVBQThCO0FBQ2hFLFFBQUlDLFdBQVcsSUFBSUMsT0FBT0MsdUJBQVgsRUFBZjtBQUNBLFFBQUlDLGFBQWFGLE9BQU9HLElBQVAsQ0FBWUMsZ0JBQVosS0FBaUMsS0FBbEQ7QUFDQSxRQUFJQyxXQUFXSCxhQUFhLEtBQTVCOztBQUVBLFFBQUlJLFlBQVksQ0FBQ04sT0FBT0csSUFBUCxDQUFZQyxnQkFBWixLQUFpQyxHQUFqQyxHQUF1QyxHQUF4QyxJQUErQyxJQUEvQyxHQUFzRCxJQUF0RTtBQUNBLFNBQUssSUFBSUcsSUFBSUwsVUFBYixFQUF5QkssSUFBSUYsUUFBN0IsRUFBdUNFLEtBQUtELFNBQTVD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YW1wbGVkUG9zaXRpb25Qcm9wZXJ0eVxyXG4gKiBAcGFyYW0gbG9uIOinkuW6plxyXG4gKiBAcGFyYW0gbGF0IOinkuW6plxyXG4gKiBAcGFyYW0gaGVpZ2h0XHJcbiAqIEBwYXJhbSByYWRpdXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0ID0gKGxvbiwgbGF0LCBoZWlnaHQsIHJhZGl1cykgPT4ge1xyXG4gICAgbGV0IHByb3BlcnR5ID0gbmV3IENlc2l1bS5TYW1wbGVkUG9zaXRpb25Qcm9wZXJ0eSgpO1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuXHJcbiAgICBsZXQgaW5jcmVtZW50ID0gKENlc2l1bS5NYXRoLm5leHRSYW5kb21OdW1iZXIoKSAqIDIuMCAtIDEuMCkgKiAxMC4wICsgNDUuMDtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbnMgPSBDZXNpdW0uTWF0aC50b1JhZGlhbnMoaSk7XHJcbiAgICAgICAgbGV0IHRpbWVJbmNyZW1lbnQgPSBpIC0gc3RhcnRBbmdsZTtcclxuICAgICAgICBsZXQgdGltZSA9IENlc2l1bS5KdWxpYW5EYXRlLmFkZFNlY29uZHMoc3RhcnQsIHRpbWVJbmNyZW1lbnQsIG5ldyBDZXNpdW0uSnVsaWFuRGF0ZSgpKTtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhsb24gKyAocmFkaXVzICogMS41ICogTWF0aC5jb3MocmFkaWFucykpLCBsYXQgKyAocmFkaXVzICogTWF0aC5zaW4ocmFkaWFucykpLCBoZWlnaHQpO1xyXG4gICAgICAgIHByb3BlcnR5LmFkZFNhbXBsZSh0aW1lLCBwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvcGVydHk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0UG9zaXRpb25zID0gKGxvbiwgbGF0LCBoZWlnaHQsIHJhZGl1cykgPT4ge1xyXG4gICAgbGV0IHBvc2l0aW9ucyA9IFtdO1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuXHJcbiAgICBsZXQgaW5jcmVtZW50ID0gKENlc2l1bS5NYXRoLm5leHRSYW5kb21OdW1iZXIoKSAqIDIuMCAtIDEuMCkgKiAxMC4wICsgNDUuMDtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbnMgPSBDZXNpdW0uTWF0aC50b1JhZGlhbnMoaSk7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMobG9uICsgKHJhZGl1cyAqIDEuNSAqIE1hdGguY29zKHJhZGlhbnMpKSwgbGF0ICsgKHJhZGl1cyAqIE1hdGguc2luKHJhZGlhbnMpKSwgaGVpZ2h0KTtcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zaXRpb25zO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29tcHV0ZUNpcmNsdWxhckF1Z2xlID0gKGluY3JlbWVudCkgPT4ge1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuICAgIC8vIGxldCBpbmNyZW1lbnQgPSAoQ2VzaXVtLk1hdGgubmV4dFJhbmRvbU51bWJlcigpICogMi4wIC0gMS4wKSAqIDEwLjAgKyA0NS4wO1xyXG5cclxuICAgIGxldCBhbmdsZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgYW5nbGVzLnB1c2goaSlcclxuICAgIH1cclxuICAgIHJldHVybiBhbmdsZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2xlID0gKHJhZGl1cykgPT4ge1xyXG4gICAgdmFyIHBvc2l0aW9ucyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjA7IGkrKykge1xyXG4gICAgICAgIHZhciByYWRpYW5zID0gQ2VzaXVtLk1hdGgudG9SYWRpYW5zKGkpO1xyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKG5ldyBDZXNpdW0uQ2FydGVzaWFuMihyYWRpdXMgKiBNYXRoLmNvcyhyYWRpYW5zKSwgcmFkaXVzICogTWF0aC5zaW4ocmFkaWFucykpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbnM7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Cartesian3s = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Cartesian3s = exports.Cartesian3s = function () {\n    function Cartesian3s() {\n        _classCallCheck(this, Cartesian3s);\n    }\n\n    _createClass(Cartesian3s, null, [{\n        key: "toRadians",\n\n\n        /**\r\n         * 将地球坐标系基于WSG84椭球体转换成经纬度（弧度制）\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         * @returns {{height: *, latitude: *, longitude: *}}\r\n         */\n        value: function toRadians(cartesian3) {\n            return Cesium.Cartographic.fromCartesian(cartesian3);\n        }\n\n        /**\r\n         * 输出角度单位的经纬度\r\n         * @param {Cesium.Cartesian3}  cartesian3\r\n         * @returns {{height: *, latitude: *, longitude: *}}\r\n         */\n\n    }, {\n        key: "toDegrees",\n        value: function toDegrees(cartesian3) {\n            var cartographic = Cartesian3s.toRadians(cartesian3);\n            return {\n                height: cartographic.height,\n                latitude: Cesium.Math.toDegrees(cartographic.latitude),\n                longitude: Cesium.Math.toDegrees(cartographic.longitude)\n            };\n        }\n\n        /**\r\n         * 修正当前点位的高度\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         * @param {number} heightPlus - 修正高度，默认为5\r\n         */\n\n    }, {\n        key: "formatHeightPlus",\n        value: function formatHeightPlus(cartesian3) {\n            var heightPlus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, fromCartesian.height + heightPlus);\n        }\n\n        /**\r\n         * 修正当前点位的高度到0\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         */\n\n    }, {\n        key: "formatHeightZero",\n        value: function formatHeightZero(cartesian3) {\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n        }\n    }, {\n        key: "formatHeight",\n        value: function formatHeight(cartesian3, height) {\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, height);\n        }\n    }]);\n\n    return Cartesian3s;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29yZS9DYXJ0ZXNpYW4zcy5qcz85OTMwIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkNhcnRlc2lhbjNzIiwiY2FydGVzaWFuMyIsIkNhcnRvZ3JhcGhpYyIsImZyb21DYXJ0ZXNpYW4iLCJjYXJ0b2dyYXBoaWMiLCJ0b1JhZGlhbnMiLCJoZWlnaHQiLCJsYXRpdHVkZSIsIk1hdGgiLCJ0b0RlZ3JlZXMiLCJsb25naXR1ZGUiLCJoZWlnaHRQbHVzIiwiQ2FydGVzaWFuMyIsImZyb21SYWRpYW5zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7SUFBWUEsTTs7Ozs7O0lBRUNDLFcsV0FBQUEsVzs7Ozs7Ozs7O0FBRVQ7Ozs7O2tDQUtpQkMsVSxFQUFZO0FBQ3pCLG1CQUFPRixPQUFPRyxZQUFQLENBQW9CQyxhQUFwQixDQUFrQ0YsVUFBbEMsQ0FBUDtBQUNIOztBQUVEOzs7Ozs7OztrQ0FLaUJBLFUsRUFBWTtBQUN6QixnQkFBSUcsZUFBZUosWUFBWUssU0FBWixDQUFzQkosVUFBdEIsQ0FBbkI7QUFDQSxtQkFBTztBQUNISyx3QkFBUUYsYUFBYUUsTUFEbEI7QUFFSEMsMEJBQVVSLE9BQU9TLElBQVAsQ0FBWUMsU0FBWixDQUFzQkwsYUFBYUcsUUFBbkMsQ0FGUDtBQUdIRywyQkFBV1gsT0FBT1MsSUFBUCxDQUFZQyxTQUFaLENBQXNCTCxhQUFhTSxTQUFuQztBQUhSLGFBQVA7QUFLSDs7QUFFRDs7Ozs7Ozs7eUNBS3dCVCxVLEVBQTRCO0FBQUEsZ0JBQWhCVSxVQUFnQix1RUFBSCxDQUFHOztBQUNoRCxnQkFBSVIsZ0JBQWdCSCxZQUFZSyxTQUFaLENBQXNCSixVQUF0QixDQUFwQjtBQUNBLG1CQUFPRixPQUFPYSxVQUFQLENBQWtCQyxXQUFsQixDQUE4QlYsY0FBY08sU0FBNUMsRUFBdURQLGNBQWNJLFFBQXJFLEVBQStFSixjQUFjRyxNQUFkLEdBQXVCSyxVQUF0RyxDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7eUNBSXdCVixVLEVBQVk7QUFDaEMsZ0JBQUlFLGdCQUFnQkgsWUFBWUssU0FBWixDQUFzQkosVUFBdEIsQ0FBcEI7QUFDQSxtQkFBT0YsT0FBT2EsVUFBUCxDQUFrQkMsV0FBbEIsQ0FBOEJWLGNBQWNPLFNBQTVDLEVBQXVEUCxjQUFjSSxRQUFyRSxFQUErRSxDQUEvRSxDQUFQO0FBQ0g7OztxQ0FFbUJOLFUsRUFBWUssTSxFQUFRO0FBQ3BDLGdCQUFJSCxnQkFBZ0JILFlBQVlLLFNBQVosQ0FBc0JKLFVBQXRCLENBQXBCO0FBQ0EsbUJBQU9GLE9BQU9hLFVBQVAsQ0FBa0JDLFdBQWxCLENBQThCVixjQUFjTyxTQUE1QyxFQUF1RFAsY0FBY0ksUUFBckUsRUFBK0VELE1BQS9FLENBQVA7QUFDSCIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJ0ZXNpYW4zcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsIblnLDnkIPlnZDmoIfns7vln7rkuo5XU0c4NOakreeQg+S9k+i9rOaNouaIkOe7j+e6rOW6pu+8iOW8p+W6puWItu+8iVxyXG4gICAgICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2FydGVzaWFuM1xyXG4gICAgICogQHJldHVybnMge3toZWlnaHQ6ICosIGxhdGl0dWRlOiAqLCBsb25naXR1ZGU6ICp9fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdG9SYWRpYW5zKGNhcnRlc2lhbjMpIHtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGNhcnRlc2lhbjMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L6T5Ye66KeS5bqm5Y2V5L2N55qE57uP57qs5bqmXHJcbiAgICAgKiBAcGFyYW0ge0Nlc2l1bS5DYXJ0ZXNpYW4zfSAgY2FydGVzaWFuM1xyXG4gICAgICogQHJldHVybnMge3toZWlnaHQ6ICosIGxhdGl0dWRlOiAqLCBsb25naXR1ZGU6ICp9fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdG9EZWdyZWVzKGNhcnRlc2lhbjMpIHtcclxuICAgICAgICBsZXQgY2FydG9ncmFwaGljID0gQ2FydGVzaWFuM3MudG9SYWRpYW5zKGNhcnRlc2lhbjMpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhlaWdodDogY2FydG9ncmFwaGljLmhlaWdodCxcclxuICAgICAgICAgICAgbGF0aXR1ZGU6IENlc2l1bS5NYXRoLnRvRGVncmVlcyhjYXJ0b2dyYXBoaWMubGF0aXR1ZGUpLFxyXG4gICAgICAgICAgICBsb25naXR1ZGU6IENlc2l1bS5NYXRoLnRvRGVncmVlcyhjYXJ0b2dyYXBoaWMubG9uZ2l0dWRlKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkv67mraPlvZPliY3ngrnkvY3nmoTpq5jluqZcclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLkNhcnRlc2lhbjN9IGNhcnRlc2lhbjNcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRQbHVzIC0g5L+u5q2j6auY5bqm77yM6buY6K6k5Li6NVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZm9ybWF0SGVpZ2h0UGx1cyhjYXJ0ZXNpYW4zLCBoZWlnaHRQbHVzID0gNSkge1xyXG4gICAgICAgIGxldCBmcm9tQ2FydGVzaWFuID0gQ2FydGVzaWFuM3MudG9SYWRpYW5zKGNhcnRlc2lhbjMpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgZnJvbUNhcnRlc2lhbi5oZWlnaHQgKyBoZWlnaHRQbHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/ruato+W9k+WJjeeCueS9jeeahOmrmOW6puWIsDBcclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLkNhcnRlc2lhbjN9IGNhcnRlc2lhbjNcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZvcm1hdEhlaWdodFplcm8oY2FydGVzaWFuMykge1xyXG4gICAgICAgIGxldCBmcm9tQ2FydGVzaWFuID0gQ2FydGVzaWFuM3MudG9SYWRpYW5zKGNhcnRlc2lhbjMpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZvcm1hdEhlaWdodChjYXJ0ZXNpYW4zLCBoZWlnaHQpIHtcclxuICAgICAgICBsZXQgZnJvbUNhcnRlc2lhbiA9IENhcnRlc2lhbjNzLnRvUmFkaWFucyhjYXJ0ZXNpYW4zKTtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbVJhZGlhbnMoZnJvbUNhcnRlc2lhbi5sb25naXR1ZGUsIGZyb21DYXJ0ZXNpYW4ubGF0aXR1ZGUsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.eventSystem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _NormalUtils = __webpack_require__(2);\n\nvar _TypeUtils = __webpack_require__(8);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\r\n * 接管Cesium的事件系统（对于entity和primitive）\r\n */\n\nvar EventSystem = function () {\n    function EventSystem() {\n        var accuracy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n\n        _classCallCheck(this, EventSystem);\n\n        this._init = false;\n        this._accuracy = accuracy;\n    }\n\n    /**\r\n     * 单地图\r\n     * @param viewer\r\n     */\n\n\n    _createClass(EventSystem, [{\n        key: "setView",\n        value: function setView(viewer) {\n            if (!this._init) {\n                this.viewer = viewer;\n                if ((0, _NormalUtils.defined)(viewer)) {\n                    this._init = true;\n                    this.eventBind();\n                }\n            }\n            return this;\n        }\n    }, {\n        key: "setAccuracy",\n        value: function setAccuracy() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n\n            this._accuracy = value;\n            return this;\n        }\n    }, {\n        key: "eventBind",\n        value: function eventBind() {\n            var _this = this;\n\n            var handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(\'leftClick\', movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(\'leftDoubleClick\', movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n\n            handler.setInputAction(function (movement) {}, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(\'leftUp\', movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(\'leftDown\', movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n        }\n    }, {\n        key: "callPrimitiveCallback",\n        value: function callPrimitiveCallback(eventName, position) {\n            var pickedObject = this.viewer.scene.pick(position, this._accuracy, this._accuracy);\n            //primitive\n            if (pickedObject && pickedObject.primitive && pickedObject.primitive[eventName]) {\n                pickedObject.primitive[eventName](position);\n            }\n            //entity\n            if (pickedObject && (0, _TypeUtils.typeContaines)(pickedObject.id, "Entity") && pickedObject.id[eventName]) {\n                pickedObject.id[eventName](position);\n            }\n        }\n\n        /**\r\n         *\r\n         * @param {Cesium.Entity | Cesium.Primitive} obj\r\n         * @param {string} type\r\n         * @param callback\r\n         */\n\n    }, {\n        key: "setListener",\n        value: function setListener(obj, type, callback) {\n            if ((0, _NormalUtils.defined)(obj) && (0, _NormalUtils.defined)(type) && typeof callback === "function") {\n                obj[type] = callback;\n            }\n        }\n        //pass\n\n    }, {\n        key: "onLeftClick",\n        value: function onLeftClick(obj, callback) {\n            this.setListener(obj, EventType.LEFT_CLICK, callback);\n        }\n    }, {\n        key: "onLeftDoubleClick",\n        value: function onLeftDoubleClick(obj, callback) {\n            this.setListener(obj, EventType.LEFT_DOUBLE_CLICK, callback);\n        }\n    }, {\n        key: "onMouseMove",\n        value: function onMouseMove(obj, callback) {\n            this.setListener(obj, EventType.MOUSE_MOVE, callback);\n        }\n    }, {\n        key: "onLeftUp",\n        value: function onLeftUp(obj, callback) {\n            this.setListener(obj, EventType.LEFT_UP, callback);\n        }\n    }, {\n        key: "onLeftDown",\n        value: function onLeftDown(obj, callback) {\n            this.setListener(obj, EventType.LEFT_DOWN, callback);\n        }\n    }]);\n\n    return EventSystem;\n}();\n\nvar EventType = Object.freeze({\n    LEFT_CLICK: "leftClick",\n    LEFT_DOUBLE_CLICK: "leftDoubleClick",\n    MOUSE_MOVE: "mouseMove",\n    LEFT_UP: "leftUp",\n    LEFT_DOWN: "leftDown"\n});\n\nvar eventSystem = exports.eventSystem = new EventSystem();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29yZS9FdmVudFN5c3RlbS5qcz9kMGU4Il0sIm5hbWVzIjpbIkNlc2l1bSIsIkV2ZW50U3lzdGVtIiwiYWNjdXJhY3kiLCJfaW5pdCIsIl9hY2N1cmFjeSIsInZpZXdlciIsImV2ZW50QmluZCIsInZhbHVlIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwic2NlbmUiLCJjYW52YXMiLCJzZXRJbnB1dEFjdGlvbiIsIm1vdmVtZW50IiwiY2FsbFByaW1pdGl2ZUNhbGxiYWNrIiwicG9zaXRpb24iLCJTY3JlZW5TcGFjZUV2ZW50VHlwZSIsIkxFRlRfQ0xJQ0siLCJMRUZUX0RPVUJMRV9DTElDSyIsIk1PVVNFX01PVkUiLCJMRUZUX1VQIiwiTEVGVF9ET1dOIiwiZXZlbnROYW1lIiwicGlja2VkT2JqZWN0IiwicGljayIsInByaW1pdGl2ZSIsImlkIiwib2JqIiwidHlwZSIsImNhbGxiYWNrIiwic2V0TGlzdGVuZXIiLCJFdmVudFR5cGUiLCJPYmplY3QiLCJmcmVlemUiLCJldmVudFN5c3RlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0lBQVlBLE07O0FBQ1o7O0FBQ0E7Ozs7OztBQUVBOzs7O0lBSU1DLFc7QUFFRiwyQkFBMEI7QUFBQSxZQUFkQyxRQUFjLHVFQUFILENBQUc7O0FBQUE7O0FBQ3RCLGFBQUtDLEtBQUwsR0FBYSxLQUFiO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQkYsUUFBakI7QUFDSDs7QUFFRDs7Ozs7Ozs7Z0NBSVFHLE0sRUFBUTtBQUNaLGdCQUFJLENBQUMsS0FBS0YsS0FBVixFQUFpQjtBQUNiLHFCQUFLRSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxvQkFBSSwwQkFBUUEsTUFBUixDQUFKLEVBQXFCO0FBQ2pCLHlCQUFLRixLQUFMLEdBQWEsSUFBYjtBQUNBLHlCQUFLRyxTQUFMO0FBQ0g7QUFDSjtBQUNELG1CQUFPLElBQVA7QUFDSDs7O3NDQUdzQjtBQUFBLGdCQUFYQyxLQUFXLHVFQUFILENBQUc7O0FBQ25CLGlCQUFLSCxTQUFMLEdBQWlCRyxLQUFqQjtBQUNBLG1CQUFPLElBQVA7QUFDSDs7O29DQUVXO0FBQUE7O0FBQ1IsZ0JBQUlDLFVBQVUsSUFBSVIsT0FBT1MsdUJBQVgsQ0FBbUMsS0FBS0osTUFBTCxDQUFZSyxLQUFaLENBQWtCQyxNQUFyRCxDQUFkOztBQUVBSCxvQkFBUUksY0FBUixDQUF1QixVQUFDQyxRQUFELEVBQWM7QUFDakMsc0JBQUtDLHFCQUFMLENBQTJCLFdBQTNCLEVBQXdDRCxTQUFTRSxRQUFqRDtBQUNILGFBRkQsRUFFR2YsT0FBT2dCLG9CQUFQLENBQTRCQyxVQUYvQjs7QUFJQVQsb0JBQVFJLGNBQVIsQ0FBdUIsVUFBQ0MsUUFBRCxFQUFjO0FBQ2pDLHNCQUFLQyxxQkFBTCxDQUEyQixpQkFBM0IsRUFBOENELFNBQVNFLFFBQXZEO0FBQ0gsYUFGRCxFQUVHZixPQUFPZ0Isb0JBQVAsQ0FBNEJFLGlCQUYvQjs7QUFJQVYsb0JBQVFJLGNBQVIsQ0FBdUIsVUFBQ0MsUUFBRCxFQUFjLENBRXBDLENBRkQsRUFFR2IsT0FBT2dCLG9CQUFQLENBQTRCRyxVQUYvQjs7QUFJQVgsb0JBQVFJLGNBQVIsQ0FBdUIsVUFBQ0MsUUFBRCxFQUFjO0FBQ2pDLHNCQUFLQyxxQkFBTCxDQUEyQixRQUEzQixFQUFxQ0QsU0FBU0UsUUFBOUM7QUFDSCxhQUZELEVBRUdmLE9BQU9nQixvQkFBUCxDQUE0QkksT0FGL0I7O0FBSUFaLG9CQUFRSSxjQUFSLENBQXVCLFVBQUNDLFFBQUQsRUFBYztBQUNqQyxzQkFBS0MscUJBQUwsQ0FBMkIsVUFBM0IsRUFBdUNELFNBQVNFLFFBQWhEO0FBQ0gsYUFGRCxFQUVHZixPQUFPZ0Isb0JBQVAsQ0FBNEJLLFNBRi9CO0FBR0g7Ozs4Q0FFcUJDLFMsRUFBV1AsUSxFQUFVO0FBQ3ZDLGdCQUFJUSxlQUFlLEtBQUtsQixNQUFMLENBQVlLLEtBQVosQ0FBa0JjLElBQWxCLENBQXVCVCxRQUF2QixFQUFpQyxLQUFLWCxTQUF0QyxFQUFpRCxLQUFLQSxTQUF0RCxDQUFuQjtBQUNBO0FBQ0EsZ0JBQUltQixnQkFBZ0JBLGFBQWFFLFNBQTdCLElBQTBDRixhQUFhRSxTQUFiLENBQXVCSCxTQUF2QixDQUE5QyxFQUFpRjtBQUM3RUMsNkJBQWFFLFNBQWIsQ0FBdUJILFNBQXZCLEVBQWtDUCxRQUFsQztBQUNIO0FBQ0Q7QUFDQSxnQkFBSVEsZ0JBQWdCLDhCQUFjQSxhQUFhRyxFQUEzQixFQUErQixRQUEvQixDQUFoQixJQUE0REgsYUFBYUcsRUFBYixDQUFnQkosU0FBaEIsQ0FBaEUsRUFBNEY7QUFDeEZDLDZCQUFhRyxFQUFiLENBQWdCSixTQUFoQixFQUEyQlAsUUFBM0I7QUFDSDtBQUNKOztBQUVEOzs7Ozs7Ozs7b0NBTVlZLEcsRUFBS0MsSSxFQUFNQyxRLEVBQVU7QUFDN0IsZ0JBQUksMEJBQVFGLEdBQVIsS0FBZ0IsMEJBQVFDLElBQVIsQ0FBaEIsSUFBa0MsT0FBT0MsUUFBUCxLQUFvQixVQUExRCxFQUF1RTtBQUNuRUYsb0JBQUlDLElBQUosSUFBWUMsUUFBWjtBQUNIO0FBQ0o7QUFDRDs7OztvQ0FDWUYsRyxFQUFLRSxRLEVBQVU7QUFDdkIsaUJBQUtDLFdBQUwsQ0FBaUJILEdBQWpCLEVBQXNCSSxVQUFVZCxVQUFoQyxFQUE0Q1ksUUFBNUM7QUFDSDs7OzBDQUVpQkYsRyxFQUFLRSxRLEVBQVU7QUFDN0IsaUJBQUtDLFdBQUwsQ0FBaUJILEdBQWpCLEVBQXNCSSxVQUFVYixpQkFBaEMsRUFBbURXLFFBQW5EO0FBQ0g7OztvQ0FFV0YsRyxFQUFLRSxRLEVBQVU7QUFDdkIsaUJBQUtDLFdBQUwsQ0FBaUJILEdBQWpCLEVBQXNCSSxVQUFVWixVQUFoQyxFQUE0Q1UsUUFBNUM7QUFDSDs7O2lDQUVRRixHLEVBQUtFLFEsRUFBVTtBQUNwQixpQkFBS0MsV0FBTCxDQUFpQkgsR0FBakIsRUFBc0JJLFVBQVVYLE9BQWhDLEVBQXlDUyxRQUF6QztBQUNIOzs7bUNBRVVGLEcsRUFBS0UsUSxFQUFVO0FBQ3RCLGlCQUFLQyxXQUFMLENBQWlCSCxHQUFqQixFQUFzQkksVUFBVVYsU0FBaEMsRUFBMkNRLFFBQTNDO0FBQ0g7Ozs7OztBQUdMLElBQU1FLFlBQVlDLE9BQU9DLE1BQVAsQ0FBYztBQUM1QmhCLGdCQUFZLFdBRGdCO0FBRTVCQyx1QkFBbUIsaUJBRlM7QUFHNUJDLGdCQUFZLFdBSGdCO0FBSTVCQyxhQUFTLFFBSm1CO0FBSzVCQyxlQUFXO0FBTGlCLENBQWQsQ0FBbEI7O0FBUU8sSUFBTWEsb0NBQWMsSUFBSWpDLFdBQUosRUFBcEIiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcbmltcG9ydCB7ZGVmaW5lZH0gZnJvbSBcIi4uL1V0aWwvTm9ybWFsVXRpbHNcIlxyXG5pbXBvcnQge3R5cGVDb250YWluZXN9IGZyb20gXCIuLi9VdGlsL1R5cGVVdGlsc1wiXHJcblxyXG4vKipcclxuICog5o6l566hQ2VzaXVt55qE5LqL5Lu257O757uf77yI5a+55LqOZW50aXR55ZKMcHJpbWl0aXZl77yJXHJcbiAqL1xyXG5cclxuY2xhc3MgRXZlbnRTeXN0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFjY3VyYWN5ID0gMykge1xyXG4gICAgICAgIHRoaXMuX2luaXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9hY2N1cmFjeSA9IGFjY3VyYWN5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y2V5Zyw5Zu+XHJcbiAgICAgKiBAcGFyYW0gdmlld2VyXHJcbiAgICAgKi9cclxuICAgIHNldFZpZXcodmlld2VyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xyXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2aWV3ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCaW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldEFjY3VyYWN5KHZhbHVlID0gMykge1xyXG4gICAgICAgIHRoaXMuX2FjY3VyYWN5ID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnRCaW5kKCkge1xyXG4gICAgICAgIGxldCBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih0aGlzLnZpZXdlci5zY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxQcmltaXRpdmVDYWxsYmFjaygnbGVmdENsaWNrJywgbW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigobW92ZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2soJ2xlZnREb3VibGVDbGljaycsIG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9ET1VCTEVfQ0xJQ0spO1xyXG5cclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xyXG5cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrKCdsZWZ0VXAnLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfVVApO1xyXG5cclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxQcmltaXRpdmVDYWxsYmFjaygnbGVmdERvd24nLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9XTik7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrKGV2ZW50TmFtZSwgcG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgcGlja2VkT2JqZWN0ID0gdGhpcy52aWV3ZXIuc2NlbmUucGljayhwb3NpdGlvbiwgdGhpcy5fYWNjdXJhY3ksIHRoaXMuX2FjY3VyYWN5KTtcclxuICAgICAgICAvL3ByaW1pdGl2ZVxyXG4gICAgICAgIGlmIChwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LnByaW1pdGl2ZSAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgcGlja2VkT2JqZWN0LnByaW1pdGl2ZVtldmVudE5hbWVdKHBvc2l0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9lbnRpdHlcclxuICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHR5cGVDb250YWluZXMocGlja2VkT2JqZWN0LmlkLCBcIkVudGl0eVwiKSAmJiBwaWNrZWRPYmplY3QuaWRbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICBwaWNrZWRPYmplY3QuaWRbZXZlbnROYW1lXShwb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLkVudGl0eSB8IENlc2l1bS5QcmltaXRpdmV9IG9ialxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBzZXRMaXN0ZW5lcihvYmosIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKGRlZmluZWQob2JqKSAmJiBkZWZpbmVkKHR5cGUpICYmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikpIHtcclxuICAgICAgICAgICAgb2JqW3R5cGVdID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9wYXNzXHJcbiAgICBvbkxlZnRDbGljayhvYmosIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMaXN0ZW5lcihvYmosIEV2ZW50VHlwZS5MRUZUX0NMSUNLLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25MZWZ0RG91YmxlQ2xpY2sob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9ET1VCTEVfQ0xJQ0ssIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlTW92ZShvYmosIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMaXN0ZW5lcihvYmosIEV2ZW50VHlwZS5NT1VTRV9NT1ZFLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25MZWZ0VXAob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9VUCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTGVmdERvd24ob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9ET1dOLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IEV2ZW50VHlwZSA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgTEVGVF9DTElDSzogXCJsZWZ0Q2xpY2tcIixcclxuICAgIExFRlRfRE9VQkxFX0NMSUNLOiBcImxlZnREb3VibGVDbGlja1wiLFxyXG4gICAgTU9VU0VfTU9WRTogXCJtb3VzZU1vdmVcIixcclxuICAgIExFRlRfVVA6IFwibGVmdFVwXCIsXHJcbiAgICBMRUZUX0RPV046IFwibGVmdERvd25cIlxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGV2ZW50U3lzdGVtID0gbmV3IEV2ZW50U3lzdGVtKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},function(I,C,g){I.exports=g(1)},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Cameras = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _OfficialUtils = __webpack_require__(3);\n\nvar _ = __webpack_require__(1);\n\nvar _NormalUtils = __webpack_require__(2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Cameras = exports.Cameras = function () {\n    function Cameras() {\n        _classCallCheck(this, Cameras);\n    }\n\n    _createClass(Cameras, null, [{\n        key: "getPositionAwayByCamara",\n\n        /**\r\n         * 获取一个目标点位向摄像头方向移动distance米的点位\r\n         * @param camera\r\n         * @param position\r\n         * @param distance\r\n         * @returns {*}\r\n         */\n        value: function getPositionAwayByCamara(camera, position, distance) {\n            var totalDistance = Cesium.Cartesian3.distance(camera.position, position, new Cesium.Cartesian3());\n            var subtract = Cesium.Cartesian3.subtract(camera.position, position, new Cesium.Cartesian3());\n            var add = Cesium.Cartesian3.multiplyByScalar(subtract, distance / totalDistance, new Cesium.Cartesian3());\n            return Cesium.Cartesian3.add(position, add, new Cesium.Cartesian3());\n        }\n\n        /**\r\n         *\r\n         * @param camera\r\n         * @param position 围绕的点位\r\n         * @param radius 围绕的半径\r\n         * @param second 转一圈的秒数\r\n         * @param increment 绕圈精度\r\n         * @param pitch 俯角\r\n         */\n\n    }, {\n        key: "flyAroundPosition",\n        value: function flyAroundPosition(camera, position, radius) {\n            var second = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 20;\n            var increment = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.1;\n            var pitch = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -45;\n\n            var angles = (0, _OfficialUtils.computeCirclularAugle)(increment);\n            var index = 0;\n            var timeInterval = second * 1000 / angles.length;\n\n            var interval = setInterval(function () {\n                camera.lookAt(position, new Cesium.HeadingPitchRange(Cesium.Math.toRadians(angles[index]), Cesium.Math.toRadians(pitch), radius));\n                camera.lookAtTransform(Cesium.Matrix4.IDENTITY); //勉强确保摄像头坐标系正确\n                index = ++index % angles.length;\n            }, timeInterval);\n\n            return function () {\n                clearInterval(interval);\n                camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n            };\n        }\n\n        /**\r\n         * 类似于Camera.lookAt\r\n         * 第三个参数是 Cesium.HeadingPitchRange\r\n         * @param camera\r\n         * @param position 面向的点位\r\n         * @param heading\r\n         * @param pitch 俯仰角\r\n         * @param range 距离\r\n         * @param complete 飞行完成回调\r\n         * @param cancel 飞行取消回调\r\n         */\n\n    }, {\n        key: "flyAt",\n        value: function flyAt(camera, position) {\n            var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n                _ref$heading = _ref.heading,\n                heading = _ref$heading === undefined ? 0 : _ref$heading,\n                _ref$pitch = _ref.pitch,\n                pitch = _ref$pitch === undefined ? 0 : _ref$pitch,\n                _ref$range = _ref.range,\n                range = _ref$range === undefined ? 50 : _ref$range;\n\n            var complete = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n            var cancel = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n\n            pitch = Cesium.Math.toRadians(pitch);\n            heading = Cesium.Math.toRadians(heading);\n\n            // let x = Math.sqrt(1 / (Math.pow(Math.tan(-pitch), 2) + 1) / (1 + Math.pow(Math.tan(-heading), 2)));\n            // // let y = Math.sqrt(1 / (Math.pow(Math.tan(-pitch), 2) + 1) / (1 / (Math.pow(Math.tan(-heading), 2) + 1)));\n            // let z = Math.sqrt(Math.pow(Math.tan(-pitch), 2) / (Math.pow(Math.tan(-pitch), 2) + 1));\n            // let y = Math.sqrt(1 - Math.pow(x, 2) - (Math.pow(z, 2)));\n            // let relativePosition = Cesium.Cartesian3.multiplyByScalar(new Cesium.Cartesian3(x, y, z), range, new Cesium.Cartesian3());\n\n            var rotationTranslation = Cesium.Matrix4.fromRotationTranslation(Cesium.Matrix3.fromHeadingPitchRoll(new Cesium.HeadingPitchRoll(heading + Math.PI / 2, -pitch, 0)));\n            var relativePosition = Cesium.Matrix4.multiplyByPoint(rotationTranslation, new Cesium.Cartesian3(range, 0, 0), new Cesium.Cartesian3());\n\n            var earthTransform = Cesium.Transforms.eastNorthUpToFixedFrame(position, Cesium.Ellipsoid.WGS84, new Cesium.Matrix4());\n            var cameraPosition = Cesium.Matrix4.multiplyByPoint(earthTransform, relativePosition, new Cesium.Cartesian3());\n\n            camera.flyTo({\n                destination: cameraPosition,\n                orientation: {\n                    heading: heading,\n                    pitch: pitch,\n                    roll: 0.0\n                },\n                complete: complete,\n                cancel: cancel\n            });\n        }\n\n        /**\r\n         *  保存当前摄像头的位置\r\n         * @param camera\r\n         * @returns {string} uri编码后的数据\r\n         */\n\n    }, {\n        key: "saveCameraStatus",\n        value: function saveCameraStatus(camera) {\n            var data = {\n                position: camera.position,\n                heading: camera.heading,\n                pitch: camera.pitch,\n                roll: camera.roll\n            };\n            var dataCompress = [data.position.x.toFixed(2), data.position.y.toFixed(2), data.position.z.toFixed(2), data.heading.toFixed(2), data.pitch.toFixed(2), data.roll.toFixed(2)];\n\n            return encodeURIComponent(dataCompress.join(","));\n        }\n\n        /**\r\n         * 加载\r\n         * @param camera\r\n         * @param data\r\n         * @param isFly\r\n         */\n\n    }, {\n        key: "loadCameraStatus",\n        value: function loadCameraStatus(camera, data) {\n            var isFly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var errorCallback = arguments[3];\n\n            try {\n                var dataCompress = decodeURIComponent(data).split(",");\n\n                if ((0, _NormalUtils.defined)(dataCompress) && dataCompress.length >= 6) {\n                    var target = {\n                        destination: {\n                            x: parseFloat(dataCompress[0]),\n                            y: parseFloat(dataCompress[1]),\n                            z: parseFloat(dataCompress[2])\n                        },\n                        orientation: {\n                            heading: parseFloat(dataCompress[3]),\n                            pitch: parseFloat(dataCompress[4]),\n                            roll: parseFloat(dataCompress[5])\n                        }\n                    };\n                    if (isFly) {\n                        camera.flyTo(target);\n                    } else {\n                        camera.setView(target);\n                    }\n                } else throw "not define position| heading | pitch | roll";\n            } catch (e) {\n                console.error(e);\n                if (typeof errorCallback === \'function\') errorCallback(e);\n            }\n        }\n    }]);\n\n    return Cameras;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvU2NlbmUvQ2FtZXJhcy5qcz8yNWQ2Il0sIm5hbWVzIjpbIkNlc2l1bSIsIkNhbWVyYXMiLCJjYW1lcmEiLCJwb3NpdGlvbiIsImRpc3RhbmNlIiwidG90YWxEaXN0YW5jZSIsIkNhcnRlc2lhbjMiLCJzdWJ0cmFjdCIsImFkZCIsIm11bHRpcGx5QnlTY2FsYXIiLCJyYWRpdXMiLCJzZWNvbmQiLCJpbmNyZW1lbnQiLCJwaXRjaCIsImFuZ2xlcyIsImluZGV4IiwidGltZUludGVydmFsIiwibGVuZ3RoIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImxvb2tBdCIsIkhlYWRpbmdQaXRjaFJhbmdlIiwiTWF0aCIsInRvUmFkaWFucyIsImxvb2tBdFRyYW5zZm9ybSIsIk1hdHJpeDQiLCJJREVOVElUWSIsImNsZWFySW50ZXJ2YWwiLCJoZWFkaW5nIiwicmFuZ2UiLCJjb21wbGV0ZSIsImNhbmNlbCIsInJvdGF0aW9uVHJhbnNsYXRpb24iLCJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsIk1hdHJpeDMiLCJmcm9tSGVhZGluZ1BpdGNoUm9sbCIsIkhlYWRpbmdQaXRjaFJvbGwiLCJQSSIsInJlbGF0aXZlUG9zaXRpb24iLCJtdWx0aXBseUJ5UG9pbnQiLCJlYXJ0aFRyYW5zZm9ybSIsIlRyYW5zZm9ybXMiLCJlYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSIsIkVsbGlwc29pZCIsIldHUzg0IiwiY2FtZXJhUG9zaXRpb24iLCJmbHlUbyIsImRlc3RpbmF0aW9uIiwib3JpZW50YXRpb24iLCJyb2xsIiwiZGF0YSIsImRhdGFDb21wcmVzcyIsIngiLCJ0b0ZpeGVkIiwieSIsInoiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiaXNGbHkiLCJlcnJvckNhbGxiYWNrIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3BsaXQiLCJ0YXJnZXQiLCJwYXJzZUZsb2F0Iiwic2V0VmlldyIsImUiLCJjb25zb2xlIiwiZXJyb3IiXSwi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O0FBQ0g7QUFDSixpQkFsQkQsTUFrQk8sTUFBTSw2Q0FBTjtBQUNWLGFBdEJELENBc0JFLE9BQU9HLENBQVAsRUFBVTtBQUNSQyx3QkFBUUMsS0FBUixDQUFjRixDQUFkO0FBQ0Esb0JBQUksT0FBT04sYUFBUCxLQUF5QixVQUE3QixFQUF5Q0EsY0FBY00sQ0FBZDtBQUM1QztBQUNKIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDZXNpdW0gZnJvbSBcIkNlc2l1bVwiO1xyXG5pbXBvcnQge2NvbXB1dGVDaXJjbHVsYXJBdWdsZX0gZnJvbSBcIi4uL1V0aWwvT2ZmaWNpYWxVdGlsc1wiXHJcbmltcG9ydCB7Q2FydGVzaWFuM3N9IGZyb20gXCIuLlwiO1xyXG5pbXBvcnQge2RlZmluZWR9IGZyb20gXCIuLi9VdGlsL05vcm1hbFV0aWxzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1lcmFzIHtcclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5LiA5Liq55uu5qCH54K55L2N5ZCR5pGE5YOP5aS05pa55ZCR56e75YqoZGlzdGFuY2XnsbPnmoTngrnkvY1cclxuICAgICAqIEBwYXJhbSBjYW1lcmFcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxyXG4gICAgICogQHBhcmFtIGRpc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFBvc2l0aW9uQXdheUJ5Q2FtYXJhKGNhbWVyYSwgcG9zaXRpb24sIGRpc3RhbmNlKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsRGlzdGFuY2UgPSBDZXNpdW0uQ2FydGVzaWFuMy5kaXN0YW5jZShjYW1lcmEucG9zaXRpb24sIHBvc2l0aW9uLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XHJcbiAgICAgICAgbGV0IHN1YnRyYWN0ID0gQ2VzaXVtLkNhcnRlc2lhbjMuc3VidHJhY3QoY2FtZXJhLnBvc2l0aW9uLCBwb3NpdGlvbiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG4gICAgICAgIGxldCBhZGQgPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKHN1YnRyYWN0LCBkaXN0YW5jZSAvIHRvdGFsRGlzdGFuY2UsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuYWRkKHBvc2l0aW9uLCBhZGQsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYW1lcmFcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiDlm7Tnu5XnmoTngrnkvY1cclxuICAgICAqIEBwYXJhbSByYWRpdXMg5Zu057uV55qE5Y2K5b6EXHJcbiAgICAgKiBAcGFyYW0gc2Vjb25kIOi9rOS4gOWciOeahOenkuaVsFxyXG4gICAgICogQHBhcmFtIGluY3JlbWVudCDnu5XlnIjnsr7luqZcclxuICAgICAqIEBwYXJhbSBwaXRjaCDkv6/op5JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZseUFyb3VuZFBvc2l0aW9uKGNhbWVyYSwgcG9zaXRpb24sIHJhZGl1cywgc2Vjb25kID0gMjAsIGluY3JlbWVudCA9IDAuMSwgcGl0Y2ggPSAtNDUpIHtcclxuICAgICAgICBsZXQgYW5nbGVzID0gY29tcHV0ZUNpcmNsdWxhckF1Z2xlKGluY3JlbWVudCk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBsZXQgdGltZUludGVydmFsID0gc2Vjb25kICogMTAwMCAvIGFuZ2xlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgY2FtZXJhLmxvb2tBdChwb3NpdGlvbiwgbmV3IENlc2l1bS5IZWFkaW5nUGl0Y2hSYW5nZShDZXNpdW0uTWF0aC50b1JhZGlhbnMoYW5nbGVzW2luZGV4XSksIENlc2l1bS5NYXRoLnRvUmFkaWFucyhwaXRjaCksIHJhZGl1cykpXHJcbiAgICAgICAgICAgIGNhbWVyYS5sb29rQXRUcmFuc2Zvcm0oQ2VzaXVtLk1hdHJpeDQuSURFTlRJVFkpOy8v5YuJ5by656Gu5L+d5pGE5YOP5aS05Z2Q5qCH57O75q2j56GuXHJcbiAgICAgICAgICAgIGluZGV4ID0gKCsraW5kZXgpICUgYW5nbGVzLmxlbmd0aDtcclxuICAgICAgICB9LCB0aW1lSW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgY2FtZXJhLmxvb2tBdFRyYW5zZm9ybShDZXNpdW0uTWF0cml4NC5JREVOVElUWSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57G75Ly85LqOQ2FtZXJhLmxvb2tBdFxyXG4gICAgICog56ys5LiJ5Liq5Y+C5pWw5pivIENlc2l1bS5IZWFkaW5nUGl0Y2hSYW5nZVxyXG4gICAgICogQHBhcmFtIGNhbWVyYVxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIOmdouWQkeeahOeCueS9jVxyXG4gICAgICogQHBhcmFtIGhlYWRpbmdcclxuICAgICAqIEBwYXJhbSBwaXRjaCDkv6/ku7Dop5JcclxuICAgICAqIEBwYXJhbSByYW5nZSDot53nprtcclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDpo57ooYzlrozmiJDlm57osINcclxuICAgICAqIEBwYXJhbSBjYW5jZWwg6aOe6KGM5Y+W5raI5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmbHlBdChjYW1lcmEsIHBvc2l0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmcgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICBwaXRjaCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gNTAsXHJcbiAgICAgICAgICAgICAgICAgfSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgY2FuY2VsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIH0pIHtcclxuICAgICAgICBwaXRjaCA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhwaXRjaCk7XHJcbiAgICAgICAgaGVhZGluZyA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhoZWFkaW5nKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IHggPSBNYXRoLnNxcnQoMSAvIChNYXRoLnBvdyhNYXRoLnRhbigtcGl0Y2gpLCAyKSArIDEpIC8gKDEgKyBNYXRoLnBvdyhNYXRoLnRhbigtaGVhZGluZyksIDIpKSk7XHJcbiAgICAgICAgLy8gLy8gbGV0IHkgPSBNYXRoLnNxcnQoMSAvIChNYXRoLnBvdyhNYXRoLnRhbigtcGl0Y2gpLCAyKSArIDEpIC8gKDEgLyAoTWF0aC5wb3coTWF0aC50YW4oLWhlYWRpbmcpLCAyKSArIDEpKSk7XHJcbiAgICAgICAgLy8gbGV0IHogPSBNYXRoLnNxcnQoTWF0aC5wb3coTWF0aC50YW4oLXBpdGNoKSwgMikgLyAoTWF0aC5wb3coTWF0aC50YW4oLXBpdGNoKSwgMikgKyAxKSk7XHJcbiAgICAgICAgLy8gbGV0IHkgPSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHgsIDIpIC0gKE1hdGgucG93KHosIDIpKSk7XHJcbiAgICAgICAgLy8gbGV0IHJlbGF0aXZlUG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKG5ldyBDZXNpdW0uQ2FydGVzaWFuMyh4LCB5LCB6KSwgcmFuZ2UsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcclxuXHJcbiAgICAgICAgbGV0IHJvdGF0aW9uVHJhbnNsYXRpb24gPSBDZXNpdW0uTWF0cml4NC5mcm9tUm90YXRpb25UcmFuc2xhdGlvbihDZXNpdW0uTWF0cml4My5mcm9tSGVhZGluZ1BpdGNoUm9sbChuZXcgQ2VzaXVtLkhlYWRpbmdQaXRjaFJvbGwoaGVhZGluZyArIE1hdGguUEkgLyAyLCAtcGl0Y2gsIDApKSk7XHJcbiAgICAgICAgbGV0IHJlbGF0aXZlUG9zaXRpb24gPSBDZXNpdW0uTWF0cml4NC5tdWx0aXBseUJ5UG9pbnQocm90YXRpb25UcmFuc2xhdGlvbiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKHJhbmdlLCAwLCAwKSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG5cclxuICAgICAgICBsZXQgZWFydGhUcmFuc2Zvcm0gPSBDZXNpdW0uVHJhbnNmb3Jtcy5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShwb3NpdGlvbiwgQ2VzaXVtLkVsbGlwc29pZC5XR1M4NCwgbmV3IENlc2l1bS5NYXRyaXg0KCkpO1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3NpdGlvbiA9IENlc2l1bS5NYXRyaXg0Lm11bHRpcGx5QnlQb2ludChlYXJ0aFRyYW5zZm9ybSwgcmVsYXRpdmVQb3NpdGlvbiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG5cclxuICAgICAgICBjYW1lcmEuZmx5VG8oe1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogY2FtZXJhUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiBoZWFkaW5nLFxyXG4gICAgICAgICAgICAgICAgcGl0Y2g6IHBpdGNoLFxyXG4gICAgICAgICAgICAgICAgcm9sbDogMC4wXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSxcclxuICAgICAgICAgICAgY2FuY2VsOiBjYW5jZWxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDkv53lrZjlvZPliY3mkYTlg4/lpLTnmoTkvY3nva5cclxuICAgICAqIEBwYXJhbSBjYW1lcmFcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHVyaee8lueggeWQjueahOaVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2F2ZUNhbWVyYVN0YXR1cyhjYW1lcmEpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGNhbWVyYS5wb3NpdGlvbixcclxuICAgICAgICAgICAgaGVhZGluZzogY2FtZXJhLmhlYWRpbmcsXHJcbiAgICAgICAgICAgIHBpdGNoOiBjYW1lcmEucGl0Y2gsXHJcbiAgICAgICAgICAgIHJvbGw6IGNhbWVyYS5yb2xsLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRhdGFDb21wcmVzcyA9IFtcclxuICAgICAgICAgICAgZGF0YS5wb3NpdGlvbi54LnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgIGRhdGEucG9zaXRpb24ueS50b0ZpeGVkKDIpLFxyXG4gICAgICAgICAgICBkYXRhLnBvc2l0aW9uLnoudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgZGF0YS5oZWFkaW5nLnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgIGRhdGEucGl0Y2gudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgZGF0YS5yb2xsLnRvRml4ZWQoMilcclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGF0YUNvbXByZXNzLmpvaW4oXCIsXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vVxyXG4gICAgICogQHBhcmFtIGNhbWVyYVxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqIEBwYXJhbSBpc0ZseVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbG9hZENhbWVyYVN0YXR1cyhjYW1lcmEsIGRhdGEsIGlzRmx5ID0gZmFsc2UsIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YUNvbXByZXNzID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpLnNwbGl0KFwiLFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGRhdGFDb21wcmVzcykgJiYgZGF0YUNvbXByZXNzLmxlbmd0aCA+PSA2KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogcGFyc2VGbG9hdChkYXRhQ29tcHJlc3NbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6OiBwYXJzZUZsb2F0KGRhdGFDb21wcmVzc1syXSlcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzNdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2g6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzRdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sbDogcGFyc2VGbG9hdChkYXRhQ29tcHJlc3NbNV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0ZseSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5mbHlUbyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuc2V0Vmlldyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgdGhyb3cgXCJub3QgZGVmaW5lIHBvc2l0aW9ufCBoZWFkaW5nIHwgcGl0Y2ggfCByb2xsXCI7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGVycm9yQ2FsbGJhY2soZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.getType = exports.typeContaines = exports.isType = undefined;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _NormalUtils = __webpack_require__(2);\n\nvar isType = exports.isType = function isType(instance, typeName) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        return instance.constructor.toString().match(/^function\\s*([^\\s(]+)/)[1] === typeName;\n    }\n    return false;\n};\n\n/**\r\n * 类名包含\r\n * @param instance\r\n * @param typeName\r\n * @returns {boolean}\r\n */\nvar typeContaines = exports.typeContaines = function typeContaines(instance, typeName) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        var typeMatchGroup = instance.constructor.toString().match(/^function\\s*([^\\s(]+)/);\n        if ((0, _NormalUtils.defined)(typeMatchGroup) && (0, _NormalUtils.defined)(typeMatchGroup[1])) {\n            return typeMatchGroup[1].indexOf(typeName) !== -1;\n        }\n    }\n    return false;\n};\n\nvar getType = exports.getType = function getType(instance) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        var typeMatchGroup = instance.constructor.toString().match(/^function\\s*([^\\s(]+)/);\n        if ((0, _NormalUtils.defined)(typeMatchGroup) && (0, _NormalUtils.defined)(typeMatchGroup[1])) {\n            return typeMatchGroup[1];\n        }\n    }\n    return undefined;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9UeXBlVXRpbHMuanM/MGFhMCJdLCJuYW1lcyI6WyJpc1R5cGUiLCJpbnN0YW5jZSIsInR5cGVOYW1lIiwiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsIm1hdGNoIiwidHlwZUNvbnRhaW5lcyIsInR5cGVNYXRjaEdyb3VwIiwiaW5kZXhPZiIsImdldFR5cGUiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVPLElBQU1BLDBCQUFTLFNBQVRBLE1BQVMsQ0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQzFDLFFBQUksUUFBT0QsUUFBUCx5Q0FBT0EsUUFBUCxPQUFvQixRQUFwQixJQUFnQywwQkFBUUEsU0FBU0UsV0FBakIsQ0FBcEMsRUFBbUU7QUFDL0QsZUFBT0YsU0FBU0UsV0FBVCxDQUFxQkMsUUFBckIsR0FBZ0NDLEtBQWhDLENBQXNDLHVCQUF0QyxFQUErRCxDQUEvRCxNQUFzRUgsUUFBN0U7QUFDSDtBQUNELFdBQU8sS0FBUDtBQUNILENBTE07O0FBT1A7Ozs7OztBQU1PLElBQU1JLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ0wsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQ2pELFFBQUksUUFBT0QsUUFBUCx5Q0FBT0EsUUFBUCxPQUFvQixRQUFwQixJQUFnQywwQkFBUUEsU0FBU0UsV0FBakIsQ0FBcEMsRUFBbUU7QUFDL0QsWUFBSUksaUJBQWlCTixTQUFTRSxXQUFULENBQXFCQyxRQUFyQixHQUFnQ0MsS0FBaEMsQ0FBc0MsdUJBQXRDLENBQXJCO0FBQ0EsWUFBSSwwQkFBUUUsY0FBUixLQUEyQiwwQkFBUUEsZUFBZSxDQUFmLENBQVIsQ0FBL0IsRUFBMkQ7QUFDdkQsbUJBQU9BLGVBQWUsQ0FBZixFQUFrQkMsT0FBbEIsQ0FBMEJOLFFBQTFCLE1BQXdDLENBQUMsQ0FBaEQ7QUFDSDtBQUNKO0FBQ0QsV0FBTyxLQUFQO0FBQ0gsQ0FSTTs7QUFVQSxJQUFNTyw0QkFBVSxTQUFWQSxPQUFVLENBQUNSLFFBQUQsRUFBYztBQUNqQyxRQUFJLFFBQU9BLFFBQVAseUNBQU9BLFFBQVAsT0FBb0IsUUFBcEIsSUFBZ0MsMEJBQVFBLFNBQVNFLFdBQWpCLENBQXBDLEVBQW1FO0FBQy9ELFlBQUlJLGlCQUFpQk4sU0FBU0UsV0FBVCxDQUFxQkMsUUFBckIsR0FBZ0NDLEtBQWhDLENBQXNDLHVCQUF0QyxDQUFyQjtBQUNBLFlBQUksMEJBQVFFLGNBQVIsS0FBMkIsMEJBQVFBLGVBQWUsQ0FBZixDQUFSLENBQS9CLEVBQTJEO0FBQ3ZELG1CQUFPQSxlQUFlLENBQWYsQ0FBUDtBQUNIO0FBQ0o7QUFDRCxXQUFPRyxTQUFQO0FBQ0gsQ0FSTSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkZWZpbmVkfSBmcm9tIFwiLi9Ob3JtYWxVdGlsc1wiXHJcblxyXG5leHBvcnQgY29uc3QgaXNUeXBlID0gKGluc3RhbmNlLCB0eXBlTmFtZSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gXCJvYmplY3RcIiAmJiBkZWZpbmVkKGluc3RhbmNlLmNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9eZnVuY3Rpb25cXHMqKFteXFxzKF0rKS8pWzFdID09PSB0eXBlTmFtZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOexu+WQjeWMheWQq1xyXG4gKiBAcGFyYW0gaW5zdGFuY2VcclxuICogQHBhcmFtIHR5cGVOYW1lXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHR5cGVDb250YWluZXMgPSAoaW5zdGFuY2UsIHR5cGVOYW1lKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlID09PSBcIm9iamVjdFwiICYmIGRlZmluZWQoaW5zdGFuY2UuY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgbGV0IHR5cGVNYXRjaEdyb3VwID0gaW5zdGFuY2UuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKihbXlxccyhdKykvKTtcclxuICAgICAgICBpZiAoZGVmaW5lZCh0eXBlTWF0Y2hHcm91cCkgJiYgZGVmaW5lZCh0eXBlTWF0Y2hHcm91cFsxXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVNYXRjaEdyb3VwWzFdLmluZGV4T2YodHlwZU5hbWUpICE9PSAtMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUeXBlID0gKGluc3RhbmNlKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlID09PSBcIm9iamVjdFwiICYmIGRlZmluZWQoaW5zdGFuY2UuY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgbGV0IHR5cGVNYXRjaEdyb3VwID0gaW5zdGFuY2UuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKihbXlxccyhdKykvKTtcclxuICAgICAgICBpZiAoZGVmaW5lZCh0eXBlTWF0Y2hHcm91cCkgJiYgZGVmaW5lZCh0eXBlTWF0Y2hHcm91cFsxXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVNYXRjaEdyb3VwWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.DazzlingLabelEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _Cartesian3s = __webpack_require__(4);\n\nvar _Math = __webpack_require__(10);\n\nvar _BaseEntity2 = __webpack_require__(11);\n\nvar _index = __webpack_require__(1);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 无法解决单个entity引用模型的问题\r\n */\nvar DazzlingLabelEntity = exports.DazzlingLabelEntity = function (_BaseEntity) {\n    _inherits(DazzlingLabelEntity, _BaseEntity);\n\n    /**\r\n     *\r\n     * @param config\r\n     * @param modelColor\r\n     * @param width\r\n     * @param timePeriod\r\n     * @param relativeSize\r\n     */\n    function DazzlingLabelEntity(config) {\n        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n            _ref$modelColor = _ref.modelColor,\n            modelColor = _ref$modelColor === undefined ? Cesium.Color.DARKVIOLET : _ref$modelColor,\n            _ref$line = _ref.line;\n\n        _ref$line = _ref$line === undefined ? {} : _ref$line;\n        var _ref$line$width = _ref$line.width,\n            width = _ref$line$width === undefined ? 5 : _ref$line$width,\n            _ref$ring = _ref.ring;\n        _ref$ring = _ref$ring === undefined ? {} : _ref$ring;\n        var _ref$ring$timePeriod = _ref$ring.timePeriod,\n            timePeriod = _ref$ring$timePeriod === undefined ? 10 : _ref$ring$timePeriod,\n            _ref$ring$relativeSiz = _ref$ring.relativeSize,\n            relativeSize = _ref$ring$relativeSiz === undefined ? 1 : _ref$ring$relativeSiz;\n\n        _classCallCheck(this, DazzlingLabelEntity);\n\n        // let simpleSin = new SimpleSinBuilder().setPeriod(20).setAmplitude(1).setPhase(0).build();\n        var _this = _possibleConstructorReturn(this, (DazzlingLabelEntity.__proto__ || Object.getPrototypeOf(DazzlingLabelEntity)).call(this, config));\n\n        var simpleCos = new _Math.SimpleCosBuilder().setPeriod(timePeriod / 2).setAmplitude(-0.5).setPhase(0).build();\n        var startTime = Cesium.JulianDate.now();\n\n        _this.ringEntity = new Cesium.Entity({\n            position: new Cesium.CallbackProperty(function (time, result) {\n                return _Cartesian3s.Cartesian3s.formatHeight(config.position, (0.5 + simpleCos.calc(Cesium.JulianDate.secondsDifference(Cesium.JulianDate.now(), startTime) % (timePeriod / 2))) * _Cartesian3s.Cartesian3s.toRadians(config.position).height);\n            }, false),\n            model: {\n                uri: _index.__dirpath + "/resources/圆环.glb",\n                scale: new Cesium.CallbackProperty(function (time, result) {\n                    // this.viewer.scene.camera.position\n                    return Cesium.Cartesian3.distance(config.position, _this.viewer.scene.camera.position) * relativeSize / 340;\n                    // return 0.1;\n                }, false),\n                maximumScale: 1,\n                color: modelColor,\n                show: new Cesium.CallbackProperty(function (time, result) {\n                    return _this.selected;\n                }, false)\n            },\n            polyline: {\n                positions: [_Cartesian3s.Cartesian3s.formatHeightZero(config.position), config.position],\n                width: width,\n                material: modelColor\n            }\n        });\n        _this.ringEntity.parent = _this;\n\n        _this.initEvent();\n        _this.selected = false;\n        return _this;\n    }\n\n    _createClass(DazzlingLabelEntity, [{\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            this.viewer = viewer;\n            viewer.entities.add(this);\n            viewer.entities.add(this.ringEntity);\n        }\n    }, {\n        key: "removeViewer",\n        value: function removeViewer(viewer) {\n            viewer.entities.add(this);\n            viewer.entities.add(this.ringEntity);\n        }\n    }]);\n\n    return DazzlingLabelEntity;\n}(_BaseEntity2.BaseEntity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvRGF6emxpbmdMYWJlbEVudGl0eS5qcz8yZTFmIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkRhenpsaW5nTGFiZWxFbnRpdHkiLCJjb25maWciLCJtb2RlbENvbG9yIiwiQ29sb3IiLCJEQVJLVklPTEVUIiwibGluZSIsIndpZHRoIiwicmluZyIsInRpbWVQZXJpb2QiLCJyZWxhdGl2ZVNpemUiLCJzaW1wbGVDb3MiLCJTaW1wbGVDb3NCdWlsZGVyIiwic2V0UGVyaW9kIiwic2V0QW1wbGl0dWRlIiwic2V0UGhhc2UiLCJidWlsZCIsInN0YXJ0VGltZSIsIkp1bGlhbkRhdGUiLCJub3ciLCJyaW5nRW50aXR5IiwiRW50aXR5IiwicG9zaXRpb24iLCJDYWxsYmFja1Byb3BlcnR5IiwidGltZSIsInJlc3VsdCIsIkNhcnRlc2lhbjNzIiwiZm9ybWF0SGVpZ2h0IiwiY2FsYyIsInNlY29uZHNEaWZmZXJlbmNlIiwidG9SYWRpYW5zIiwiaGVpZ2h0IiwibW9kZWwiLCJ1cmkiLCJfX2RpcnBhdGgiLCJzY2FsZSIsIkNhcnRlc2lhbjMiLCJkaXN0YW5jZSIsInZpZXdlciIsInNjZW5lIiwiY2FtZXJhIiwibWF4aW11bVNjYWxlIiwiY29sb3IiLCJzaG93Iiwic2VsZWN0ZWQiLCJwb2x5bGluZSIsInBvc2l0aW9ucyIsImZvcm1hdEhlaWdodFplcm8iLCJtYXRlcmlhbCIsInBhcmVudCIsImluaXRFdmVudCIsImVudGl0aWVzIiwiYWRkIiwiQmFzZUVudGl0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0lBQVlBLE07O0FBQ1o7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7QUFFQTs7O0lBR2FDLG1CLFdBQUFBLG1COzs7QUFDVDs7Ozs7Ozs7QUFRQSxpQ0FBWUMsTUFBWixFQVNRO0FBQUEsdUZBQUosRUFBSTtBQUFBLG1DQVJKQyxVQVFJO0FBQUEsWUFSSkEsVUFRSSxtQ0FSU0gsT0FBT0ksS0FB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bnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtDYXJ0ZXNpYW4zc30gZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuM3NcIjtcclxuaW1wb3J0IHtTaW1wbGVDb3NCdWlsZGVyfSBmcm9tIFwiLi4vVXRpbC9NYXRoXCJcclxuaW1wb3J0IHtCYXNlRW50aXR5fSBmcm9tIFwiLi9CYXNlRW50aXR5XCI7XHJcbmltcG9ydCB7X19kaXJwYXRofSBmcm9tIFwiLi4vaW5kZXhcIjtcclxuXHJcbi8qKlxyXG4gKiDml6Dms5Xop6PlhrPljZXkuKplbnRpdHnlvJXnlKjmqKHlnovnmoTpl67pophcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEYXp6bGluZ0xhYmVsRW50aXR5IGV4dGVuZHMgQmFzZUVudGl0eSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICAgKiBAcGFyYW0gbW9kZWxDb2xvclxyXG4gICAgICogQHBhcmFtIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0gdGltZVBlcmlvZFxyXG4gICAgICogQHBhcmFtIHJlbGF0aXZlU2l6ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHtcclxuICAgICAgICBtb2RlbENvbG9yID0gQ2VzaXVtLkNvbG9yLkRBUktWSU9MRVQsXHJcbiAgICAgICAgbGluZToge1xyXG4gICAgICAgICAgICB3aWR0aCA9IDVcclxuICAgICAgICB9ID0ge30sXHJcbiAgICAgICAgcmluZzoge1xyXG4gICAgICAgICAgICB0aW1lUGVyaW9kID0gMTAsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlU2l6ZSA9IDFcclxuICAgICAgICB9ID0ge31cclxuICAgIH0gPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZylcclxuICAgICAgICAvLyBsZXQgc2ltcGxlU2luID0gbmV3IFNpbXBsZVNpbkJ1aWxkZXIoKS5zZXRQZXJpb2QoMjApLnNldEFtcGxpdHVkZSgxKS5zZXRQaGFzZSgwKS5idWlsZCgpO1xyXG4gICAgICAgIGxldCBzaW1wbGVDb3MgPSBuZXcgU2ltcGxlQ29zQnVpbGRlcigpLnNldFBlcmlvZCh0aW1lUGVyaW9kIC8gMikuc2V0QW1wbGl0dWRlKC0wLjUpLnNldFBoYXNlKDApLmJ1aWxkKCk7XHJcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IENlc2l1bS5KdWxpYW5EYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLnJpbmdFbnRpdHkgPSBuZXcgQ2VzaXVtLkVudGl0eSh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgQ2VzaXVtLkNhbGxiYWNrUHJvcGVydHkoKHRpbWUsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENhcnRlc2lhbjNzLmZvcm1hdEhlaWdodChjb25maWcucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgKDAuNSArIHNpbXBsZUNvcy5jYWxjKENlc2l1bS5KdWxpYW5EYXRlLnNlY29uZHNEaWZmZXJlbmNlKENlc2l1bS5KdWxpYW5EYXRlLm5vdygpLCBzdGFydFRpbWUpICUgKHRpbWVQZXJpb2QgLyAyKSkpICogQ2FydGVzaWFuM3MudG9SYWRpYW5zKGNvbmZpZy5wb3NpdGlvbikuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSksXHJcbiAgICAgICAgICAgIG1vZGVsOiB7XHJcbiAgICAgICAgICAgICAgICB1cmk6IF9fZGlycGF0aCArIFwiL3Jlc291cmNlcy/lnIbnjq8uZ2xiXCIsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogbmV3IENlc2l1bS5DYWxsYmFja1Byb3BlcnR5KCh0aW1lLCByZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnZpZXdlci5zY2VuZS5jYW1lcmEucG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UoY29uZmlnLnBvc2l0aW9uLCB0aGlzLnZpZXdlci5zY2VuZS5jYW1lcmEucG9zaXRpb24pICogcmVsYXRpdmVTaXplIC8gMzQwO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiAwLjE7XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSksXHJcbiAgICAgICAgICAgICAgICBtYXhpbXVtU2NhbGU6IDEsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogbW9kZWxDb2xvcixcclxuICAgICAgICAgICAgICAgIHNob3c6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eSgodGltZSwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9seWxpbmU6IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uczogW0NhcnRlc2lhbjNzLmZvcm1hdEhlaWdodFplcm8oY29uZmlnLnBvc2l0aW9uKSwgY29uZmlnLnBvc2l0aW9uXSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBtb2RlbENvbG9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJpbmdFbnRpdHkucGFyZW50ID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5pbml0RXZlbnQoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlld2VyKHZpZXdlcikge1xyXG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcyk7XHJcbiAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh0aGlzLnJpbmdFbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVZpZXdlcih2aWV3ZXIpIHtcclxuICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMpO1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5yaW5nRW50aXR5KTtcclxuICAgIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar SimpleSin = exports.SimpleSin = function () {\n    function SimpleSin(A, k, b) {\n        _classCallCheck(this, SimpleSin);\n\n        this.A = A;\n        this.k = k;\n        this.b = b;\n        return this;\n    }\n\n    _createClass(SimpleSin, [{\n        key: "calc",\n        value: function calc(x) {\n            return Math.sin(this.k * x + this.b) * this.A;\n        }\n    }]);\n\n    return SimpleSin;\n}();\n\nvar SimpleSinBuilder = exports.SimpleSinBuilder = function () {\n    function SimpleSinBuilder() {\n        _classCallCheck(this, SimpleSinBuilder);\n    }\n\n    _createClass(SimpleSinBuilder, [{\n        key: "setPeriod",\n        value: function setPeriod(number) {\n            this.k = 2 * Math.PI / number;\n            return this;\n        }\n    }, {\n        key: "setAmplitude",\n        value: function setAmplitude(number) {\n            this.A = number;\n            return this;\n        }\n    }, {\n        key: "setPhase",\n        value: function setPhase(number) {\n            this.b = number;\n            return this;\n        }\n    }, {\n        key: "build",\n        value: function build() {\n            return new SimpleSin(this.A, this.k, this.b);\n        }\n    }]);\n\n    return SimpleSinBuilder;\n}();\n\nvar simpleCos = exports.simpleCos = function () {\n    function simpleCos(A, k, b) {\n        _classCallCheck(this, simpleCos);\n\n        this.A = A;\n        this.k = k;\n        this.b = b;\n        return this;\n    }\n\n    _createClass(simpleCos, [{\n        key: "calc",\n        value: function calc(x) {\n            return Math.cos(this.k * x + this.b) * this.A;\n        }\n    }]);\n\n    return simpleCos;\n}();\n\nvar SimpleCosBuilder = exports.SimpleCosBuilder = function () {\n    function SimpleCosBuilder() {\n        _classCallCheck(this, SimpleCosBuilder);\n    }\n\n    _createClass(SimpleCosBuilder, [{\n        key: "setPeriod",\n        value: function setPeriod(number) {\n            this.k = 2 * Math.PI / number;\n            return this;\n        }\n    }, {\n        key: "setAmplitude",\n        value: function setAmplitude(number) {\n            this.A = number;\n            return this;\n        }\n    }, {\n        key: "setPhase",\n        value: function setPhase(number) {\n            this.b = number;\n            return this;\n        }\n    }, {\n        key: "build",\n        value: function build() {\n            return new simpleCos(this.A, this.k, this.b);\n        }\n    }]);\n\n    return SimpleCosBuilder;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9NYXRoLmpzPzRiY2QiXSwibmFtZXMiOlsiU2ltcGxlU2luIiwiQSIsImsiLCJiIiwieCIsIk1hdGgiLCJzaW4iLCJTaW1wbGVTaW5CdWlsZGVyIiwibnVtYmVyIiwiUEkiLCJzaW1wbGVDb3MiLCJjb3MiLCJTaW1wbGVDb3NCdWlsZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU8sSUFBTUE7QUFDVCx1QkFBWUMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCQyxDQUFsQixFQUFxQjtBQUFBOztBQUNqQixhQUFLRixDQUFMLEdBQVNBLENBQVQ7QUFDQSxhQUFLQyxDQUFMLEdBQVNBLENBQVQ7QUFDQSxhQUFLQyxDQUFMLEdBQVNBLENBQVQ7QUFDQSxlQUFPLElBQVA7QUFDSDs7QUFOUTtBQUFBO0FBQUEsNkJBUUpDLENBUkksRUFRRDtBQUNKLG1CQUFPQyxLQUFLQyxHQUFMLENBQVMsS0FBS0osQ0FBTCxHQUFTRSxDQUFULEdBQWEsS0FBS0QsQ0FBM0IsSUFBZ0MsS0FBS0YsQ0FBNUM7QUFDSDtBQVZROztBQUFBO0FBQUEsR0FBTjs7QUFhQSxJQUFNTTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEsa0NBQ0NDLE1BREQsRUFDUztBQUNkLGlCQUFLTixDQUFMLEdBQVMsSUFBSUcsS0FBS0ksRUFBVCxHQUFjRCxNQUF2QjtBQUNBLG1CQUFPLElBQVA7QUFDSDtBQUpRO0FBQUE7QUFBQSxxQ0FNSUEsTUFOSixFQU1ZO0FBQ2pCLGlCQUFLUCxDQUFMLEdBQVNPLE1BQVQ7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFUUTtBQUFBO0FBQUEsaUNBV0FBLE1BWEEsRUFXUTtBQUNiLGlCQUFLTCxDQUFMLEdBQVNLLE1BQVQ7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFkUTtBQUFBO0FBQUEsZ0NBZ0JEO0FBQ0osbUJBQU8sSUFBSVIsU0FBSixDQUFjLEtBQUtDLENBQW5CLEVBQXNCLEtBQUtDLENBQTNCLEVBQThCLEtBQUtDLENBQW5DLENBQVA7QUFDSDtBQWxCUTs7QUFBQTtBQUFBLEdBQU47O0FBc0JBLElBQU1PO0FBQ1QsdUJBQVlULENBQVosRUFBZUMsQ0FBZixFQUFrQkMsQ0FBbEIsRUFBcUI7QUFBQTs7QUFDakIsYUFBS0YsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsYUFBS0MsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsYUFBS0MsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsZUFBTyxJQUFQO0FBQ0g7O0FBTlE7QUFBQTtBQUFBLDZCQVFKQyxDQVJJLEVBUUQ7QUFDSixtQkFBT0MsS0FBS00sR0FBTCxDQUFTLEtBQUtULENBQUwsR0FBU0UsQ0FBVCxHQUFhLEtBQUtELENBQTNCLElBQWdDLEtBQUtGLENBQTVDO0FBQ0g7QUFWUTs7QUFBQTtBQUFBLEdBQU47O0FBYUEsSUFBTVc7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLGtDQUNDSixNQURELEVBQ1M7QUFDZCxpQkFBS04sQ0FBTCxHQUFTLElBQUlHLEtBQUtJLEVBQVQsR0FBY0QsTUFBdkI7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFKUTtBQUFBO0FBQUEscUNBTUlBLE1BTkosRUFNWTtBQUNqQixpQkFBS1AsQ0FBTCxHQUFTTyxNQUFUO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBVFE7QUFBQTtBQUFBLGlDQVdBQSxNQVhBLEVBV1E7QUFDYixpQkFBS0wsQ0FBTCxHQUFTSyxNQUFUO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBZFE7QUFBQTtBQUFBLGdDQWdCRDtBQUNKLG1CQUFPLElBQUlFLFNBQUosQ0FBYyxLQUFLVCxDQUFuQixFQUFzQixLQUFLQyxDQUEzQixFQUE4QixLQUFLQyxDQUFuQyxDQUFQO0FBQ0g7QUFsQlE7O0FBQUE7QUFBQSxHQUFOIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNpbXBsZVNpbiA9IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKEEsIGssIGIpIHtcclxuICAgICAgICB0aGlzLkEgPSBBO1xyXG4gICAgICAgIHRoaXMuayA9IGs7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjYWxjKHgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zaW4odGhpcy5rICogeCArIHRoaXMuYikgKiB0aGlzLkE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaW1wbGVTaW5CdWlsZGVyID0gY2xhc3Mge1xyXG4gICAgc2V0UGVyaW9kKG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuayA9IDIgKiBNYXRoLlBJIC8gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFtcGxpdHVkZShudW1iZXIpIHtcclxuICAgICAgICB0aGlzLkEgPSBudW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGhhc2UobnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5iID0gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlU2luKHRoaXMuQSwgdGhpcy5rLCB0aGlzLmIpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3Qgc2ltcGxlQ29zID0gY2xhc3MgIHtcclxuICAgIGNvbnN0cnVjdG9yKEEsIGssIGIpIHtcclxuICAgICAgICB0aGlzLkEgPSBBO1xyXG4gICAgICAgIHRoaXMuayA9IGs7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjYWxjKHgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5jb3ModGhpcy5rICogeCArIHRoaXMuYikgKiB0aGlzLkE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaW1wbGVDb3NCdWlsZGVyID0gY2xhc3Mge1xyXG4gICAgc2V0UGVyaW9kKG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuayA9IDIgKiBNYXRoLlBJIC8gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFtcGxpdHVkZShudW1iZXIpIHtcclxuICAgICAgICB0aGlzLkEgPSBudW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGhhc2UobnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5iID0gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgc2ltcGxlQ29zKHRoaXMuQSwgdGhpcy5rLCB0aGlzLmIpXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.BaseEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _EventSystem = __webpack_require__(5);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 基础entity\r\n * 改变了，继承改变 display/hide/add/remove方向\r\n * 选择选中接口对外开放\r\n * 点击事件\r\n */\nvar BaseEntity = exports.BaseEntity = function (_Cesium$Entity) {\n    _inherits(BaseEntity, _Cesium$Entity);\n\n    function BaseEntity(config) {\n        _classCallCheck(this, BaseEntity);\n\n        return _possibleConstructorReturn(this, (BaseEntity.__proto__ || Object.getPrototypeOf(BaseEntity)).call(this, config));\n    }\n\n    _createClass(BaseEntity, [{\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            viewer.entities.add(this);\n        }\n    }, {\n        key: "removeViewer",\n        value: function removeViewer(viewer) {\n            viewer.entities.remove(this);\n        }\n    }, {\n        key: "display",\n        value: function display() {\n            this.show = true;\n        }\n    }, {\n        key: "hide",\n        value: function hide() {\n            this.show = false;\n        }\n    }, {\n        key: "setSelected",\n        value: function setSelected() {\n            var selected = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            this.selected = selected;\n        }\n    }, {\n        key: "cancelSelected",\n        value: function cancelSelected() {\n            this.selected = false;\n        }\n    }, {\n        key: "onSelect",\n        value: function onSelect() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n            this._selectedCallback = callback;\n        }\n    }, {\n        key: "onRelease",\n        value: function onRelease() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n            this._releaseCallback = callback;\n        }\n    }, {\n        key: "initEvent",\n        value: function initEvent() {\n            var _this2 = this;\n\n            _EventSystem.eventSystem.onLeftClick(this, function (position) {\n                // this.onSelected ^= true;//反向\n                if (typeof _this2.onClickCallback === "function") {\n                    _this2.onClickCallback(position);\n                }\n            });\n        }\n    }, {\n        key: "onClick",\n        value: function onClick(callback) {\n            this.onClickCallback = callback;\n        }\n    }, {\n        key: "selected",\n        set: function set(selected) {\n            this._selected = selected;\n            if (this.selected) {\n                typeof this._selectedCallback() === "function" && this._selectedCallback();\n            } else {\n                typeof this._releaseCallback === "function" && this._releaseCallback();\n            }\n        },\n        get: function get() {\n            return this._selected;\n        }\n    }]);\n\n    return BaseEntity;\n}(Cesium.Entity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvQmFzZUVudGl0eS5qcz9iNGQzIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkJhc2VFbnRpdHkiLCJjb25maWciLCJ2aWV3ZXIiLCJlbnRpdGllcyIsImFkZCIsInJlbW92ZSIsInNob3ciLCJzZWxlY3RlZCIsImNhbGxiYWNrIiwiX3NlbGVjdGVkQ2FsbGJhY2siLCJfcmVsZWFzZUNhbGxiYWNrIiwiZXZlbnRTeXN0ZW0iLCJvbkxlZnRDbGljayIsInBvc2l0aW9uIiwib25DbGlja0NhbGxiYWNrIiwiX3NlbGVjdGVkIiwiRW50aXR5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7SUFBWUEsTTs7QUFDWjs7Ozs7Ozs7OztBQUVBOzs7Ozs7SUFNYUMsVSxXQUFBQSxVOzs7QUFDVCx3QkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUFBLHVIQUNWQSxNQURVO0FBRW5COzs7O2tDQUVTQyxNLEVBQVE7QUFDZEEsbUJBQU9DLFFBQVAsQ0FBZ0JDLEdBQWhCLENBQW9CLElBQXBCO0FBQ0g7OztxQ0FFWUYsTSxFQUFRO0FBQ2pCQSxtQkFBT0MsUUFBUCxDQUFnQkUsTUFBaEIsQ0FBdUIsSUFBdkI7QUFDSDs7O2tDQUVTO0FBQ04saUJBQUtDLElBQUwsR0FBWSxJQUFaO0FBQ0g7OzsrQkFFTTtBQUNILGlCQUFLQSxJQUFMLEdBQVksS0FBWjtBQUNIOzs7c0NBZTRCO0FBQUEsZ0JBQWpCQyxRQUFpQix1RUFBTixJQUFNOztBQUN6QixpQkFBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDSDs7O3lDQUVnQjtBQUNiLGlCQUFLQSxRQUFMLEdBQWdCLEtBQWhCO0FBQ0g7OzttQ0FHRTtBQUFBLGdCQURNQyxRQUNOLHVFQURpQixZQUFNLENBQ3pCLENBQUU7O0FBQ0MsaUJBQUtDLGlCQUFMLEdBQXlCRCxRQUF6QjtBQUNIOzs7b0NBR0U7QUFBQSxnQkFET0EsUUFDUCx1RUFEa0IsWUFBTSxDQUMxQixDQUFFOztBQUNDLGlCQUFLRSxnQkFBTCxHQUF3QkYsUUFBeEI7QUFDSDs7O29DQUVXO0FBQUE7O0FBQ1JHLHFDQUFZQyxXQUFaLENBQXdCLElBQXhCLEVBQThCLFVBQUNDLFFBQUQsRUFBYztBQUN4QztBQUNBLG9CQUFJLE9BQU8sT0FBS0MsZUFBWixLQUFnQyxVQUFwQyxFQUFnRDtBQUM1QywyQkFBS0EsZUFBTCxDQUFxQkQsUUFBckI7QUFDSDtBQUNKLGFBTEQ7QUFNSDs7O2dDQUVPTCxRLEVBQVU7QUFDZCxpQkFBS00sZUFBTCxHQUF1Qk4sUUFBdkI7QUFDSDs7OzBCQTFDWUQsUSxFQUFTO0FBQ2xCLGlCQUFLUSxTQUFMLEdBQWlCUixRQUFqQjtBQUNBLGdCQUFHLEtBQUtBLFFBQVIsRUFBaUI7QUFDYix1QkFBTyxLQUFLRSxpQkFBTCxFQUFQLEtBQW9DLFVBQXBDLElBQWtELEtBQUtBLGlCQUFMLEVBQWxEO0FBQ0gsYUFGRCxNQUVLO0FBQ0QsdUJBQU8sS0FBS0MsZ0JBQVosS0FBaUMsVUFBakMsSUFBK0MsS0FBS0EsZ0JBQUwsRUFBL0M7QUFDSDtBQUNKLFM7NEJBRWE7QUFDVixtQkFBTyxLQUFLSyxTQUFaO0FBQ0g7Ozs7RUFoQzJCaEIsT0FBT2lCLE0iLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDZXNpdW0gZnJvbSBcIkNlc2l1bVwiO1xyXG5pbXBvcnQge2V2ZW50U3lzdGVtfSBmcm9tIFwiLi4vQ29yZS9FdmVudFN5c3RlbVwiO1xyXG5cclxuLyoqXHJcbiAqIOWfuuehgGVudGl0eVxyXG4gKiDmlLnlj5jkuobvvIznu6fmib/mlLnlj5ggZGlzcGxheS9oaWRlL2FkZC9yZW1vdmXmlrnlkJFcclxuICog6YCJ5oup6YCJ5Lit5o6l5Y+j5a+55aSW5byA5pS+XHJcbiAqIOeCueWHu+S6i+S7tlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJhc2VFbnRpdHkgZXh0ZW5kcyBDZXNpdW0uRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlld2VyKHZpZXdlcikge1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVmlld2VyKHZpZXdlcikge1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheSgpIHtcclxuICAgICAgICB0aGlzLnNob3cgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNlbGVjdGVkKHNlbGVjdGVkKXtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgICAgIGlmKHRoaXMuc2VsZWN0ZWQpe1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fc2VsZWN0ZWRDYWxsYmFjaygpID09PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5fc2VsZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fcmVsZWFzZUNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5fcmVsZWFzZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZWxlY3RlZCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTZWxlY3RlZChzZWxlY3RlZCA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2FuY2VsU2VsZWN0ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2VsZWN0KGNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBvblJlbGVhc2UoY2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5fcmVsZWFzZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEV2ZW50KCkge1xyXG4gICAgICAgIGV2ZW50U3lzdGVtLm9uTGVmdENsaWNrKHRoaXMsIChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAvLyB0aGlzLm9uU2VsZWN0ZWQgXj0gdHJ1ZTsvL+WPjeWQkVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25DbGlja0NhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb25DbGljayhjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.EditableEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditableEntity = exports.EditableEntity = function (_Cesium$Entity) {\n    _inherits(EditableEntity, _Cesium$Entity);\n\n    function EditableEntity() {\n        _classCallCheck(this, EditableEntity);\n\n        return _possibleConstructorReturn(this, (EditableEntity.__proto__ || Object.getPrototypeOf(EditableEntity)).apply(this, arguments));\n    }\n\n    _createClass(EditableEntity, [{\n        key: "test",\n        value: function test() {\n            console.log("test");\n        }\n    }], [{\n        key: "test2",\n        value: function test2() {\n            console.log("test2");\n        }\n    }]);\n\n    return EditableEntity;\n}(Cesium.Entity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvRWRpdGFibGVFbnRpdHkuanM/ZDBhOCJdLCJuYW1lcyI6WyJDZXNpdW0iLCJFZGl0YWJsZUVudGl0eSIsImNvbnNvbGUiLCJsb2ciLCJFbnRpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOzs7Ozs7Ozs7O0lBRUNDLGMsV0FBQUEsYzs7Ozs7Ozs7Ozs7K0JBQ0g7QUFDRkMsb0JBQVFDLEdBQVIsQ0FBWSxNQUFaO0FBQ0g7OztnQ0FFYTtBQUNWRCxvQkFBUUMsR0FBUixDQUFZLE9BQVo7QUFDSDs7OztFQVArQkgsT0FBT0ksTSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRWRpdGFibGVFbnRpdHkgZXh0ZW5kcyBDZXNpdW0uRW50aXR5e1xyXG4gICAgdGVzdCgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdGVzdDIoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRlc3QyXCIpO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Settings = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\r\n * 记录一些常用的设置\r\n */\nvar Settings = exports.Settings = function () {\n    function Settings() {\n        _classCallCheck(this, Settings);\n    }\n\n    _createClass(Settings, null, [{\n        key: "cancelDefaultDbLeftClick",\n\n        /**\r\n         * 清除默认的双击事件\r\n         * @param viewer\r\n         */\n        value: function cancelDefaultDbLeftClick(viewer) {\n            viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        }\n    }, {\n        key: "cancelTilt",\n        value: function cancelTilt(viewer) {\n            viewer.scene.screenSpaceCameraController.enableTilt = false;\n        }\n    }, {\n        key: "cancelRotate",\n        value: function cancelRotate(viewer) {\n            viewer.scene.screenSpaceCameraController.enableRotate = false;\n        }\n    }]);\n\n    return Settings;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvV2lkZ2V0cy9TZXR0aW5ncy5qcz9lYWMwIl0sIm5hbWVzIjpbIkNlc2l1bSIsIlNldHRpbmdzIiwidmlld2VyIiwiY2VzaXVtV2lkZ2V0Iiwic2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJyZW1vdmVJbnB1dEFjdGlvbiIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9ET1VCTEVfQ0xJQ0siLCJzY2VuZSIsInNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlciIsImVuYWJsZVRpbHQiLCJlbmFibGVSb3RhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOzs7Ozs7QUFFWjs7O0lBR2FDLFEsV0FBQUEsUTs7Ozs7Ozs7QUFDVDs7OztpREFJZ0NDLE0sRUFBTztBQUNuQ0EsbUJBQU9DLFlBQVAsQ0FBb0JDLHVCQUFwQixDQUE0Q0MsaUJBQTVDLENBQThETCxPQUFPTSxvQkFBUCxDQUE0QkMsaUJBQTFGO0FBQ0g7OzttQ0FFaUJMLE0sRUFBTztBQUNyQkEsbUJBQU9NLEtBQVAsQ0FBYUMsMkJBQWIsQ0FBeUNDLFVBQXpDLEdBQXNELEtBQXREO0FBQ0g7OztxQ0FFbUJSLE0sRUFBTztBQUN2QkEsbUJBQU9NLEtBQVAsQ0FBYUMsMkJBQWIsQ0FBeUNFLFlBQXpDLEdBQXdELEtBQXhEO0FBQ0giLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDZXNpdW0gZnJvbSBcIkNlc2l1bVwiO1xyXG5cclxuLyoqXHJcbiAqIOiusOW9leS4gOS6m+W4uOeUqOeahOiuvue9rlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIC8qKlxyXG4gICAgICog5riF6Zmk6buY6K6k55qE5Y+M5Ye75LqL5Lu2XHJcbiAgICAgKiBAcGFyYW0gdmlld2VyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjYW5jZWxEZWZhdWx0RGJMZWZ0Q2xpY2sodmlld2VyKXtcclxuICAgICAgICB2aWV3ZXIuY2VzaXVtV2lkZ2V0LnNjcmVlblNwYWNlRXZlbnRIYW5kbGVyLnJlbW92ZUlucHV0QWN0aW9uKENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPVUJMRV9DTElDSylcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2FuY2VsVGlsdCh2aWV3ZXIpe1xyXG4gICAgICAgIHZpZXdlci5zY2VuZS5zY3JlZW5TcGFjZUNhbWVyYUNvbnRyb2xsZXIuZW5hYmxlVGlsdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjYW5jZWxSb3RhdGUodmlld2VyKXtcclxuICAgICAgICB2aWV3ZXIuc2NlbmUuc2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyLmVuYWJsZVJvdGF0ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ChoiceHelper = ChoiceHelper;\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _index = __webpack_require__(1);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// export const ChoiceHelper =  factory(Cesium,DrawHelper);\n\n\n/**\r\n * @param {Object} config\r\n * @param {Object} config.viewer - Cesium.viewer对象\r\n * @param {Object} config.toolbar - toolbar,为空则不创建\r\n * @param {Element} config.toolbar.container - toolbar所在容器\r\n * @param {string[]} config.toolbar.buttons - 包括 'polygon', 'circle', 'extent' 代表多边形、圆形、矩形\r\n * @param {Object} config.dom - dom事件绑定模式\r\n * @param {Element} config.polygon - 绑定开始画polygon的事件\r\n * @param {Element} config.marker - 绑定开始画marker的事件\r\n * @param {Element} config.extent - 绑定开始画extent的事件\r\n * @param {Element} config.circle - 绑定开始画circle的事件\r\n * @param {Element} config.clear - 清空绘制事件\r\n * @param {Element} config.cancel - 结束绘制事件\r\n * @param {Array} config.callbacks - 选择回调，可配置多种选择回调\r\n * @param {function(Cesium.Entity):boolean} config.callbacks.choice[].filter - 过滤器，即选择器,确认为需要选择的对象，返回ture\r\n * @param {function(Cesium.Entity[])} config.callbacks.choice[].onChoice - 选择回调\r\n * @param {function(Cesium.Cartesian3)} config.callbacks.marker - marker创建回调\r\n * @param {function} config.callbacks.afterClick - 工具栏点击回调\r\n * {\r\n *     viewer: viewer对象,\r\n *     toolbar:{\r\n *         container: toolbar所在容器,\r\n *         buttons: [],//\r\n *     },\r\n *     dom:{//\r\n *             polygon: function | dom ,\r\n *             marker: function | dom ,\r\n *             extent: function | dom ,\r\n *             circle: function | dom ,\r\n *             clear : dom,\r\n *             cancel : dom\r\n *     },\r\n *     callbacks:{\r\n *          choice:[{\r\n *             filter: function\r\n *             onChoice: function\r\n *         }],\r\n *         marker: function,\r\n *         afterClick: function,\r\n *     }\r\n * }\r\n * @constructor\r\n */\n/*   if (typeof exports === 'object' && typeof module === 'object')\r\n       module.exports = factory(require('Cesium'), require('DrawHelper'));\r\n   else if (typeof define === 'function' && define.amd)\r\n       define('ChoiceHelper', [ 'Cesium', 'DrawHelper'], factory);\r\n   else {\r\n       root.ChoiceHelper = factory(root.Cesium, root.DrawHelper);\r\n   }*/\nfunction ChoiceHelper(config) {\n    this._cesiumViewer = config.viewer;\n    this.util = new Util(this._cesiumViewer);\n\n    this._scene = this._cesiumViewer.scene;\n    this._drawHelper = new _index.DrawHelper(this._cesiumViewer);\n    this._option = config;\n    this._afterClick = config.callbacks.afterClick;\n\n    this._primitives = [];\n    var me = this;\n\n    if (Cesium.defined(config.toolbar) && Cesium.defined(config.toolbar.container)) {\n        this._toolbarContainer = config.toolbar.container;\n\n        this._toolbar = this._drawHelper.addToolbar(this._toolbarContainer, {\n            buttons: config.toolbar.buttons,\n            clickCallback: function clickCallback(event) {\n                //移除之前绘制的\n                me._afterClick && me._afterClick();\n                me.util.getWithDefault(me._primitives, []).forEach(function (element, index) {\n                    me._scene.primitives.remove(element);\n                });\n            },\n            //点位选取策略配置\n            pickStrategy: pickStrategy\n        });\n    } else if (Cesium.defined(config.dom)) {\n        this._toolbar = this._drawHelper.addToolbar(document.body, { buttons: [] });\n        var toolbar = this._toolbar;\n        config.dom.polygon && function () {\n            var lastOnclick = config.dom.polygon.onclick;\n            config.dom.polygon.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingPolygon({\n                    callback: function callback(positions, self) {\n                        toolbar.executeListeners({ name: 'polygonCreated', positions: positions });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.polygon).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingPolygon({\n            //         callback: function (positions, self) {\n            //             toolbar.executeListeners({name: 'polygonCreated', positions: positions});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.polygon && function () {\n            var lastOnclick = config.dom.polyline.onclick;\n            config.dom.polyline.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingPolyline({\n                    callback: function callback(positions, self) {\n                        toolbar.executeListeners({ name: 'polylineCreated', positions: positions });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.polyline).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingPolyline({\n            //         callback: function (positions, self) {\n            //             toolbar.executeListeners({name: 'polylineCreated', positions: positions});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.marker && function () {\n            var lastOnclick = config.dom.marker.onclick;\n            config.dom.marker.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingMarker({\n                    callback: function callback(position, self) {\n                        toolbar.executeListeners({ name: 'markerCreated', position: position });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.marker).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingMarker({\n            //         callback: function (position, self) {\n            //             toolbar.executeListeners({name: 'markerCreated', position: position});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.extent && function () {\n            var lastOnclick = config.dom.extent.onclick;\n\n            config.dom.extent.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingExtent({\n                    callback: function callback(extent, self) {\n                        toolbar.executeListeners({ name: 'extentCreated', extent: extent });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.extent).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingExtent({\n            //         callback: function (extent, self) {\n            //             toolbar.executeListeners({name: 'extentCreated', extent: extent});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.circle && function () {\n            var lastOnclick = config.dom.circle.onclick;\n\n            config.dom.circle.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingCircle({\n                    callback: function callback(center, radius, self) {\n                        toolbar.executeListeners({ name: 'circleCreated', center: center, radius: radius });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.circle).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingCircle({\n            //         callback: function (center, radius, self) {\n            //             toolbar.executeListeners({name: 'circleCreated', center: center, radius: radius});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.clear && function () {\n            var lastOnclick = config.dom.clear.onclick;\n\n            config.dom.clear.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n            };\n            // $(config.dom.clear).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //\n            // });\n        }();\n        config.dom.cancel && function () {\n            var lastOnclick = config.dom.cancel.onclick;\n\n            config.dom.cancel.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.stopDrawing();\n            };\n            // $(config.dom.cancel).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.stopDrawing()\n            // });\n        }();\n    } else {\n        console.error(\"传入参数有误！\");\n        return;\n    }\n    this._eventInit();\n}\n\nvar pickStrategy = function pickStrategy(position, viewer) {\n    if (Cesium.defined(viewer.scene.pick(position)) && viewer.scene.pickPositionSupported) {\n        return viewer.scene.pickPosition(position);\n        // var fromCartesian = Cesium.Cartographic.fromCartesian(viewer.scene.pickPosition(position));\n        // return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    } else {\n        var fromCartesian = Cesium.Cartographic.fromCartesian(viewer.scene.camera.pickEllipsoid(position));\n        return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    }\n};\n\nChoiceHelper.prototype._optionReload = function () {};\n\nChoiceHelper.prototype._eventInit = function () {\n    var me = this;\n    me._toolbar.addListener('polygonCreated', function (event) {\n        var polygon = new _index.DrawHelper.PolygonPrimitive({\n            positions: event.positions,\n            material: Cesium.Material.fromType('Checkerboard')\n        });\n\n        console.log(event);\n        var LatLngPaths = [];\n\n        me.util.getWithDefault(event.positions, []).forEach(function (position, index) {\n            LatLngPaths.push(me.util.Cartesian3ToLatLng(position));\n        });\n\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var latlng = Cesium.Cartographic.fromCartesian(entity.position.getValue(0));\n                if (me.util._isInPolygon(latlng, LatLngPaths)) {\n                    parseEntities.push(entity);\n                }\n            });\n            return parseEntities;\n        });\n    });\n    // circle.center :  Cartesian3\n    // circle.ellipsoid._maximumRadius : number\n    // circle.ellipsoid._minimumRadius : number\n    me._toolbar.addListener('circleCreated', function (event) {\n\n        // var r = event.radius\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var latlng = Cesium.Cartographic.fromCartesian(entity.position.getValue(0));\n                var groundPosition = Cesium.Cartesian3.fromRadians(latlng.longitude, latlng.latitude, 0.0);\n                if (Cesium.Cartesian3.distance(me.util.getCesiumHightZero(event.center), groundPosition) <= event.radius) {\n                    parseEntities.push(entity);\n                }\n            });\n\n            return parseEntities;\n        });\n    });\n\n    //Cesium.Rectangle.subsample(e.extent)\n    me._toolbar.addListener('extentCreated', function (e) {\n        var extent = e.extent;\n\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var cartesian3ToLatLng = me.util.Cartesian3ToLatLng(entity.position.getValue(0));\n                if (extent.west <= cartesian3ToLatLng.longitude && extent.east >= cartesian3ToLatLng.longitude && extent.south <= cartesian3ToLatLng.latitude && extent.north >= cartesian3ToLatLng.latitude) {\n                    parseEntities.push(entity);\n                }\n            });\n\n            return parseEntities;\n        });\n    });\n\n    me._toolbar.addListener('markerCreated', function (event) {\n        me._option.callbacks.marker(event.position);\n        // loggingMessage('Marker created at ' + event.position.toString());\n        // create one common billboard collection for all billboards\n        // var b = new Cesium.BillboardCollection();\n        // viewer.scene.primitives.add(b);\n        // var billboard = b.add({\n        //     show : true,\n        //     position : event.position,\n        //     pixelOffset : new Cesium.Cartesian2(0, 0),\n        //     eyeOffset : new Cesium.Cartesian3(0.0, 0.0, 0.0),\n        //     horizontalOrigin : Cesium.HorizontalOrigin.CENTER,\n        //     verticalOrigin : Cesium.VerticalOrigin.CENTER,\n        //     scale : 1.0,\n        //     image: './img/glyphicons_242_google_maps.png',\n        //     color : new Cesium.Color(1.0, 1.0, 1.0, 1.0)\n        // });\n        // billboard.setEditable();\n    });\n};\n\nChoiceHelper.prototype.setOption = function (option) {};\n\nChoiceHelper.prototype._callBack = function () {};\n\nChoiceHelper.prototype._filterExecuter = function (containsCallback) {\n    var me = this;\n    //选出在圈内的entities\n    var containEntities = containsCallback(me._cesiumViewer.entities.values);\n\n    me.util.getWithDefault(me._option.callbacks.choice, []).forEach(function (callback, index) {\n        var entities = [];\n        //过滤出需要的entity\n        me.util.getWithDefault(containEntities, []).forEach(function (entity, index2) {\n            if (callback.filter(entity)) entities.push(entity);\n        });\n        //callback\n        callback.onChoice(entities);\n    });\n};\n\nfunction Util(viewer) {\n    this._viewer = viewer;\n    this._ellipsoid = this._viewer.scene.globe._ellipsoid;\n}\n\n/**\r\n * 将Cartesian3转为经纬度\r\n * @param cartesian3\r\n * @returns {{height:number,latitude:number,longitude:number}}\r\n */\nUtil.prototype.Cartesian3ToLatLng = function (cartesian3) {\n    // return  Cesium.Cartographic.fromCartesian(cartesian3);\n    return this._ellipsoid.cartesianToCartographic(cartesian3);\n};\n/**\r\n * 但是Cesium不支持此类\r\n * @param cartesian3\r\n * @return {{height: *, latitude: *, longitude: *}}\r\n * @constructor\r\n */\nUtil.prototype.Cartesian3ToDegrees = function (cartesian3) {\n    var cartographic = this._ellipsoid.cartesianToCartographic(cartesian3);\n    var degree = {\n        height: cartographic.height,\n        latitude: Cesium.Math.toDegrees(cartographic.latitude),\n        longitude: Cesium.Math.toDegrees(cartographic.longitude)\n    };\n    return degree;\n};\n\nUtil.prototype.getWithDefault = function (element, defaultElement) {\n    return element ? element : defaultElement;\n};\n\n/**\r\n * 获取当前点位的近地点位\r\n * @param {Cesium.Cartesian3} cartesian3\r\n * @return {Cesium.Cartesian3}\r\n */\nUtil.prototype.getCesiumHightZero = function (cartesian3) {\n    var fromCartesian = Cesium.Cartographic.fromCartesian(cartesian3);\n    return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n};\n\n/**\r\n * 修正当前点位的高度\r\n * @param {Cesium.Cartesian3} cartesian3\r\n * @param {number} heightPlus\r\n * @return {Cesium.Cartesian3}\r\n */\nUtil.prototype.formatHetightPlusNumber = function (cartesian3, heightPlus) {\n    var fromCartesian = Cesium.Cartographic.fromCartesian(cartesian3);\n    return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, fromCartesian.height + heightPlus);\n};\n\n/**\r\n *\r\n * @param position\r\n * @param paths\r\n */\nUtil.prototype._isInPolygon = function (position, paths) {\n    var x = position.longitude;\n    var y = position.latitude;\n\n    var isum,\n        icount,\n        index = 0;\n    var dLon1 = 0,\n        dLon2 = 0,\n        dLat1 = 0,\n        dLat2 = 0,\n        dLon;\n\n    if (paths.size < 3) {\n        return false;\n    }\n\n    isum = 0;\n    icount = paths.length;\n\n    for (index = 0; index < icount - 1; index++) {\n        if (index === icount - 1) {\n            dLon1 = paths[index].longitude;\n            dLat1 = paths[index].latitude;\n            dLon2 = paths[0].longitude;\n            dLat2 = paths[0].latitude;\n        } else {\n            dLon1 = paths[index].longitude;\n            dLat1 = paths[index].latitude;\n            dLon2 = paths[index + 1].longitude;\n            dLat2 = paths[index + 1].latitude;\n        }\n\n        if (y >= dLat1 && y < dLat2 || y >= dLat2 && y < dLat1) {\n            if (Math.abs(dLat1 - dLat2) > 0) {\n                dLon = dLon1 - (dLon1 - dLon2) * (dLat1 - y) / (dLat1 - dLat2);\n                if (dLon < x) isum++;\n            }\n        }\n    }\n\n    return isum % 2 !== 0;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9DaG9pY2VIZWxwZXIuanM/NTJiNiJdLCJuYW1lcyI6WyJDaG9pY2VIZWxwZXIiLCJDZXNpdW0iLCJjb25maWciLCJfY2VzaXVtVmlld2VyIiwidmlld2VyIiwidXRpbCIsIlV0aWwiLCJfc2NlbmUiLCJzY2VuZSIsIl9kcmF3SGVscGVyIiwiRHJhd0hlbHBlciIsIl9vcHRpb24iLCJfYWZ0ZXJDbGljayIsImNhbGxiYWNrcyIsImFmdGVyQ2xpY2siLCJfcHJpbWl0aXZlcyIsIm1lIiwiZGVmaW5lZCIsInRvb2xiYXIiLCJjb250YWluZXIiLCJfdG9vbGJhckNvbnRhaW5lciIsIl90b29sYmFyIiwiYWRkVG9vbGJhciIsImJ1dHRvbnMiLCJjbGlja0NhbGxiYWNrIiwiZXZlbnQiLCJnZXRXaXRoRGVmYXVsdCIsImZvckVhY2giLCJlbGVtZW50IiwiaW5kZXgiLCJwcmltaXRpdmVzIiwicmVtb3ZlIiwicGlja1N0cmF0ZWd5IiwiZG9tIiwiZG9jdW1lbnQiLCJib2R5IiwicG9seWdvbiIsImxhc3RPbmNsaWNrIiwib25jbGljayIsImUiLCJzdGFydERyYXdpbmdQb2x5Z29uIiwiY2FsbGJhY2siLCJwb3NpdGlvbnMiLCJzZWxmIiwiZXhlY3V0ZUxpc3RlbmVycyIsIm5hbWUiLCJzdHJhdGVneSIsInBvbHlsaW5lIiwic3RhcnREcmF3aW5nUG9seWxpbmUiLCJtYXJrZXIiLCJzdGFydERyYXdpbmdNYXJrZXIiLCJwb3NpdGlvbiIsImV4dGVudCIsInN0YXJ0RHJhd2luZ0V4dGVudCIsImNpcmNsZSIsInN0YXJ0RHJhd2luZ0NpcmNsZSIsImNlbnRlciIsInJhZGl1cyIsImNsZWFyIiwiY2FuY2VsIiwic3RvcERyYXdpbmciLCJjb25zb2xlIiwiZXJyb3IiLCJfZXZlbnRJbml0IiwicGljayIsInBpY2tQb3NpdGlvblN1cHBvcnRlZCIsInBpY2tQb3NpdGlvbiIsImZyb21DYXJ0ZXNpYW4iLCJDYXJ0b2dyYXBoaWMiLCJjYW1lcmEiLCJwaWNrRWxsaXBzb2lkIiwiQ2FydGVzaWFuMyIsImZyb21SYWRpYW5zIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJwcm90b3R5cGUiLCJfb3B0aW9uUmVsb2FkIiwiYWRkTGlzdGVuZXIiLCJQb2x5Z29uUHJpbWl0aXZlIiwibWF0ZXJpYWwiLCJNYXRlcmlhbCIsImZyb21UeXBlIiwibG9nIiwiTGF0TG5nUGF0aHMiLCJwdXNoIiwiQ2FydGVzaWFuM1RvTGF0TG5nIiwiX2ZpbHRlckV4ZWN1dGVyIiwiZW50aXRpZXMiLCJwYXJzZUVudGl0aWVzIiwiZW50aXR5IiwibGF0bG5nIiwiZ2V0VmFsdWUiLCJfaXNJblBvbHlnb24iLCJncm91bmRQb3NpdGlvbiIsImRpc3RhbmNlIiwiZ2V0Q2VzaXVtSGlnaHRaZXJvIiwiY2FydGVzaWFuM1RvTGF0TG5nIiwid2VzdCIsImVhc3QiLCJzb3V0aCIsIm5vcnRoIiwic2V0T3B0aW9uIiwib3B0aW9uIiwiX2NhbGxCYWNrIiwiY29udGFpbnNDYWxsYmFjayIsImNvbnRhaW5FbnRpdGllcyIsInZhbHVlcyIsImNob2ljZSIsImluZGV4MiIsImZpbHRlciIsIm9uQ2hvaWNlIiwiX3ZpZXdlciIsIl9lbGxpcHNvaWQiLCJnbG9iZSIsImNhcnRlc2lhbjMiLCJjYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyIsIkNhcnRlc2lhbjNUb0RlZ3JlZXMiLCJjYXJ0b2dyYXBoaWMiLCJkZWdyZWUiLCJoZWlnaHQiLCJNYXRoIiwidG9EZWdyZWVzIiwiZGVmYXVsdEVsZW1lbnQiLCJmb3JtYXRIZXRpZ2h0UGx1c051bWJlciIsImhlaWdodFBsdXMiLCJwYXRocyIsIngiLCJ5IiwiaXN1bSIsImljb3VudCIsImRMb24xIiwiZExvbjIiLCJkTGF0MSIsImRMYXQyIiwiZExvbiIsInNpemUiLCJsZW5ndGgiLCJhYnMiXSwibWFwcGluZ3MiOiI7Ozs7O1FBd0RnQkEsWSxHQUFBQSxZOztBQWpEaEI7O0lBQVlDLE07O0FBQ1o7Ozs7QUFFQTs7O0FBR0E7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QUVEUCxXQUFPLENBQVA7QUFDQUMsYUFBU0osTUFBTVcsTUFBZjs7QUFFQSxTQUFLM0csUUFBUSxDQUFiLEVBQWdCQSxRQUFRb0csU0FBUyxDQUFqQyxFQUFvQ3BHLE9BQXBDLEVBQTZDO0FBQ3pDLFlBQUlBLFVBQVVvRyxTQUFTLENBQXZCLEVBQTBCO0FBQ3RCQyxvQkFBUUwsTUFBTWhHLEtBQU4sRUFBYTRDLFNBQXJCO0FBQ0EyRCxvQkFBUVAsTUFBTWhHLEtBQU4sRUFBYTZDLFFBQXJCO0FBQ0F5RCxvQkFBUU4sTUFBTSxDQUFOLEVBQVNwRCxTQUFqQjtBQUNBNEQsb0JBQVFSLE1BQU0sQ0FBTixFQUFTbkQsUUFBakI7QUFDSCxTQUxELE1BTUs7QUFDRHdELG9CQUFRTCxNQUFNaEcsS0FBTixFQUFhNEMsU0FBckI7QUFDQTJELG9CQUFRUCxNQUFNaEcsS0FBTixFQUFhNkMsUUFBckI7QUFDQXlELG9CQUFRTixNQUFNaEcsUUFBUSxDQUFkLEVBQWlCNEMsU0FBekI7QUFDQTRELG9CQUFRUixNQUFNaEcsUUFBUSxDQUFkLEVBQWlCNkMsUUFBekI7QUFDSDs7QUFFRCxZQUFNcUQsS0FBS0ssS0FBTixJQUFpQkwsSUFBSU0sS0FBdEIsSUFBbUNOLEtBQUtNLEtBQU4sSUFBaUJOLElBQUlLLEtBQTNELEVBQW9FO0FBQ2hFLGdCQUFJWixLQUFLaUIsR0FBTCxDQUFTTCxRQUFRQyxLQUFqQixJQUEwQixDQUE5QixFQUFpQztBQUM3QkMsdUJBQU9KLFFBQVMsQ0FBQ0EsUUFBUUMsS0FBVCxLQUFtQkMsUUFBUUwsQ0FBM0IsQ0FBRCxJQUFtQ0ssUUFBUUMsS0FBM0MsQ0FBZjtBQUNBLG9CQUFJQyxPQUFPUixDQUFYLEVBQ0lFO0FBQ1A7QUFDSjtBQUNKOztBQUVELFdBQVFBLE9BQU8sQ0FBUixLQUFlLENBQXRCO0FBQ0gsQ0F0Q0QiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXHJcbiAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnQ2VzaXVtJyksIHJlcXVpcmUoJ0RyYXdIZWxwZXInKSk7XHJcbiAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcclxuICAgICAgIGRlZmluZSgnQ2hvaWNlSGVscGVyJywgWyAnQ2VzaXVtJywgJ0RyYXdIZWxwZXInXSwgZmFjdG9yeSk7XHJcbiAgIGVsc2Uge1xyXG4gICAgICAgcm9vdC5DaG9pY2VIZWxwZXIgPSBmYWN0b3J5KHJvb3QuQ2VzaXVtLCByb290LkRyYXdIZWxwZXIpO1xyXG4gICB9Ki9cclxuaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtEcmF3SGVscGVyfSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IENob2ljZUhlbHBlciA9ICBmYWN0b3J5KENlc2l1bSxEcmF3SGVscGVyKTtcclxuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnLnZpZXdlciAtIENlc2l1bS52aWV3ZXLlr7nosaFcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy50b29sYmFyIC0gdG9vbGJhcizkuLrnqbrliJnkuI3liJvlu7pcclxuICogQHBhcmFtIHtFbGVtZW50fSBjb25maWcudG9vbGJhci5jb250YWluZXIgLSB0b29sYmFy5omA5Zyo5a655ZmoXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNvbmZpZy50b29sYmFyLmJ1dHRvbnMgLSDljIXmi6wgJ3BvbHlnb24nLCAnY2lyY2xlJywgJ2V4dGVudCcg5Luj6KGo5aSa6L655b2i44CB5ZyG5b2i44CB55+p5b2iXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuZG9tIC0gZG9t5LqL5Lu257uR5a6a5qih5byPXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLnBvbHlnb24gLSDnu5HlrprlvIDlp4vnlLtwb2x5Z29u55qE5LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLm1hcmtlciAtIOe7keWumuW8gOWni+eUu21hcmtlcueahOS6i+S7tlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbmZpZy5leHRlbnQgLSDnu5HlrprlvIDlp4vnlLtleHRlbnTnmoTkuovku7ZcclxuICogQHBhcmFtIHtFbGVtZW50fSBjb25maWcuY2lyY2xlIC0g57uR5a6a5byA5aeL55S7Y2lyY2xl55qE5LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLmNsZWFyIC0g5riF56m657uY5Yi25LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLmNhbmNlbCAtIOe7k+adn+e7mOWItuS6i+S7tlxyXG4gKiBAcGFyYW0ge0FycmF5fSBjb25maWcuY2FsbGJhY2tzIC0g6YCJ5oup5Zue6LCD77yM5Y+v6YWN572u5aSa56eN6YCJ5oup5Zue6LCDXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQ2VzaXVtLkVudGl0eSk6Ym9vbGVhbn0gY29uZmlnLmNhbGxiYWNrcy5jaG9pY2VbXS5maWx0ZXIgLSDov4fmu6TlmajvvIzljbPpgInmi6nlmags56Gu6K6k5Li66ZyA6KaB6YCJ5oup55qE5a+56LGh77yM6L+U5ZuedHVyZVxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKENlc2l1bS5FbnRpdHlbXSl9IGNvbmZpZy5jYWxsYmFja3MuY2hvaWNlW10ub25DaG9pY2UgLSDpgInmi6nlm57osINcclxuICogQHBhcmFtIHtmdW5jdGlvbihDZXNpdW0uQ2FydGVzaWFuMyl9IGNvbmZpZy5jYWxsYmFja3MubWFya2VyIC0gbWFya2Vy5Yib5bu65Zue6LCDXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbmZpZy5jYWxsYmFja3MuYWZ0ZXJDbGljayAtIOW3peWFt+agj+eCueWHu+Wbnuiwg1xyXG4gKiB7XHJcbiAqICAgICB2aWV3ZXI6IHZpZXdlcuWvueixoSxcclxuICogICAgIHRvb2xiYXI6e1xyXG4gKiAgICAgICAgIGNvbnRhaW5lcjogdG9vbGJhcuaJgOWcqOWuueWZqCxcclxuICogICAgICAgICBidXR0b25zOiBbXSwvL1xyXG4gKiAgICAgfSxcclxuICogICAgIGRvbTp7Ly9cclxuICogICAgICAgICAgICAgcG9seWdvbjogZnVuY3Rpb24gfCBkb20gLFxyXG4gKiAgICAgICAgICAgICBtYXJrZXI6IGZ1bmN0aW9uIHwgZG9tICxcclxuICogICAgICAgICAgICAgZXh0ZW50OiBmdW5jdGlvbiB8IGRvbSAsXHJcbiAqICAgICAgICAgICAgIGNpcmNsZTogZnVuY3Rpb24gfCBkb20gLFxyXG4gKiAgICAgICAgICAgICBjbGVhciA6IGRvbSxcclxuICogICAgICAgICAgICAgY2FuY2VsIDogZG9tXHJcbiAqICAgICB9LFxyXG4gKiAgICAgY2FsbGJhY2tzOntcclxuICogICAgICAgICAgY2hvaWNlOlt7XHJcbiAqICAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb25cclxuICogICAgICAgICAgICAgb25DaG9pY2U6IGZ1bmN0aW9uXHJcbiAqICAgICAgICAgfV0sXHJcbiAqICAgICAgICAgbWFya2VyOiBmdW5jdGlvbixcclxuICogICAgICAgICBhZnRlckNsaWNrOiBmdW5jdGlvbixcclxuICogICAgIH1cclxuICogfVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VIZWxwZXIoY29uZmlnKSB7XHJcbiAgICB0aGlzLl9jZXNpdW1WaWV3ZXIgPSBjb25maWcudmlld2VyO1xyXG4gICAgdGhpcy51dGlsID0gbmV3IFV0aWwodGhpcy5fY2VzaXVtVmlld2VyKTtcclxuXHJcbiAgICB0aGlzLl9zY2VuZSA9IHRoaXMuX2Nlc2l1bVZpZXdlci5zY2VuZTtcclxuICAgIHRoaXMuX2RyYXdIZWxwZXIgPSBuZXcgRHJhd0hlbHBlcih0aGlzLl9jZXNpdW1WaWV3ZXIpO1xyXG4gICAgdGhpcy5fb3B0aW9uID0gY29uZmlnO1xyXG4gICAgdGhpcy5fYWZ0ZXJDbGljayA9IGNvbmZpZy5jYWxsYmFja3MuYWZ0ZXJDbGljaztcclxuXHJcbiAgICB0aGlzLl9wcmltaXRpdmVzID0gW107XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG5cclxuICAgIGlmIChDZXNpdW0uZGVmaW5lZChjb25maWcudG9vbGJhcikgJiYgQ2VzaXVtLmRlZmluZWQoY29uZmlnLnRvb2xiYXIuY29udGFpbmVyKSkge1xyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXJDb250YWluZXIgPSBjb25maWcudG9vbGJhci5jb250YWluZXI7XHJcblxyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXIgPSB0aGlzLl9kcmF3SGVscGVyLmFkZFRvb2xiYXIodGhpcy5fdG9vbGJhckNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICBidXR0b25zOiBjb25maWcudG9vbGJhci5idXR0b25zLFxyXG4gICAgICAgICAgICBjbGlja0NhbGxiYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8v56e76Zmk5LmL5YmN57uY5Yi255qEXHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChtZS5fcHJpbWl0aXZlcywgW10pLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWUuX3NjZW5lLnByaW1pdGl2ZXMucmVtb3ZlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy/ngrnkvY3pgInlj5bnrZbnlaXphY3nva5cclxuICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChDZXNpdW0uZGVmaW5lZChjb25maWcuZG9tKSkge1xyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXIgPSB0aGlzLl9kcmF3SGVscGVyLmFkZFRvb2xiYXIoZG9jdW1lbnQuYm9keSwge2J1dHRvbnM6IFtdfSk7XHJcbiAgICAgICAgdmFyIHRvb2xiYXIgPSB0aGlzLl90b29sYmFyO1xyXG4gICAgICAgIGNvbmZpZy5kb20ucG9seWdvbiAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20ucG9seWdvbi5vbmNsaWNrO1xyXG4gICAgICAgICAgICBjb25maWcuZG9tLnBvbHlnb24ub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0T25jbGljayAmJiBsYXN0T25jbGljayhlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nUG9seWdvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMsIHNlbGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAncG9seWdvbkNyZWF0ZWQnLCBwb3NpdGlvbnM6IHBvc2l0aW9uc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKGNvbmZpZy5kb20ucG9seWdvbikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdQb2x5Z29uKHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHBvc2l0aW9ucywgc2VsZikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0b29sYmFyLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdwb2x5Z29uQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gICAgICAgICBzdHJhdGVneToge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IHBpY2tTdHJhdGVneVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9KCk7XHJcbiAgICAgICAgY29uZmlnLmRvbS5wb2x5Z29uICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5wb2x5bGluZS5vbmNsaWNrO1xyXG4gICAgICAgICAgICBjb25maWcuZG9tLnBvbHlsaW5lLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nUG9seWxpbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb25zLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ3BvbHlsaW5lQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IHBpY2tTdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICQoY29uZmlnLmRvbS5wb2x5bGluZSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdQb2x5bGluZSh7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMsIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAncG9seWxpbmVDcmVhdGVkJywgcG9zaXRpb25zOiBwb3NpdGlvbnN9KTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH0oKTtcclxuICAgICAgICBjb25maWcuZG9tLm1hcmtlciAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20ubWFya2VyLm9uY2xpY2s7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20ubWFya2VyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nTWFya2VyKHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHBvc2l0aW9uLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ21hcmtlckNyZWF0ZWQnLCBwb3NpdGlvbjogcG9zaXRpb259KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLm1hcmtlcikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdNYXJrZXIoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb24sIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnbWFya2VyQ3JlYXRlZCcsIHBvc2l0aW9uOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uZXh0ZW50ICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5leHRlbnQub25jbGljaztcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20uZXh0ZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nRXh0ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGV4dGVudCwgc2VsZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdleHRlbnRDcmVhdGVkJywgZXh0ZW50OiBleHRlbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLmV4dGVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdFeHRlbnQoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZXh0ZW50LCBzZWxmKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2V4dGVudENyZWF0ZWQnLCBleHRlbnQ6IGV4dGVudH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uY2lyY2xlICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5jaXJjbGUub25jbGljaztcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20uY2lyY2xlLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nQ2lyY2xlKHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNlbnRlciwgcmFkaXVzLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2NpcmNsZUNyZWF0ZWQnLCBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLmNpcmNsZSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdDaXJjbGUoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2VudGVyLCByYWRpdXMsIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnY2lyY2xlQ3JlYXRlZCcsIGNlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1c30pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uY2xlYXIgJiYgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdE9uY2xpY2sgPSBjb25maWcuZG9tLmNsZWFyLm9uY2xpY2s7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuZG9tLmNsZWFyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICQoY29uZmlnLmRvbS5jbGVhcikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH0oKTtcclxuICAgICAgICBjb25maWcuZG9tLmNhbmNlbCAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20uY2FuY2VsLm9uY2xpY2s7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuZG9tLmNhbmNlbC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RPbmNsaWNrICYmIGxhc3RPbmNsaWNrKGUpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2FmdGVyQ2xpY2sgJiYgbWUuX2FmdGVyQ2xpY2soKTtcclxuICAgICAgICAgICAgICAgIG1lLl9kcmF3SGVscGVyLnN0b3BEcmF3aW5nKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKGNvbmZpZy5kb20uY2FuY2VsKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbWUuX2FmdGVyQ2xpY2sgJiYgbWUuX2FmdGVyQ2xpY2soKTtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9kcmF3SGVscGVyLnN0b3BEcmF3aW5nKClcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi5Lyg5YWl5Y+C5pWw5pyJ6K+v77yBXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2V2ZW50SW5pdCgpO1xyXG59XHJcblxyXG52YXIgcGlja1N0cmF0ZWd5ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2aWV3ZXIpIHtcclxuICAgIGlmIChDZXNpdW0uZGVmaW5lZCh2aWV3ZXIuc2NlbmUucGljayhwb3NpdGlvbikpICYmIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb25TdXBwb3J0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdmlld2VyLnNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgLy8gdmFyIGZyb21DYXJ0ZXNpYW4gPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4odmlld2VyLnNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgICAgIC8vIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmcm9tQ2FydGVzaWFuID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKHZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbikpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLl9vcHRpb25SZWxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG59XHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLl9ldmVudEluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgbWUuX3Rvb2xiYXIuYWRkTGlzdGVuZXIoJ3BvbHlnb25DcmVhdGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgRHJhd0hlbHBlci5Qb2x5Z29uUHJpbWl0aXZlKHtcclxuICAgICAgICAgICAgcG9zaXRpb25zOiBldmVudC5wb3NpdGlvbnMsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uTWF0ZXJpYWwuZnJvbVR5cGUoJ0NoZWNrZXJib2FyZCcpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KVxyXG4gICAgICAgIHZhciBMYXRMbmdQYXRocyA9IFtdO1xyXG5cclxuICAgICAgICBtZS51dGlsLmdldFdpdGhEZWZhdWx0KGV2ZW50LnBvc2l0aW9ucywgW10pLmZvckVhY2goZnVuY3Rpb24gKHBvc2l0aW9uLCBpbmRleCkge1xyXG4gICAgICAgICAgICBMYXRMbmdQYXRocy5wdXNoKG1lLnV0aWwuQ2FydGVzaWFuM1RvTGF0TG5nKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBtZS5fZmlsdGVyRXhlY3V0ZXIoZnVuY3Rpb24gKGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZUVudGl0aWVzID0gW107XHJcbiAgICAgICAgICAgIG1lLnV0aWwuZ2V0V2l0aERlZmF1bHQoZW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGVudGl0eS5wb3NpdGlvbi5nZXRWYWx1ZSgwKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWUudXRpbC5faXNJblBvbHlnb24obGF0bG5nLCBMYXRMbmdQYXRocykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZUVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVudGl0aWVzO1xyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8gY2lyY2xlLmNlbnRlciA6ICBDYXJ0ZXNpYW4zXHJcbiAgICAvLyBjaXJjbGUuZWxsaXBzb2lkLl9tYXhpbXVtUmFkaXVzIDogbnVtYmVyXHJcbiAgICAvLyBjaXJjbGUuZWxsaXBzb2lkLl9taW5pbXVtUmFkaXVzIDogbnVtYmVyXHJcbiAgICBtZS5fdG9vbGJhci5hZGRMaXN0ZW5lcignY2lyY2xlQ3JlYXRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICAvLyB2YXIgciA9IGV2ZW50LnJhZGl1c1xyXG4gICAgICAgIG1lLl9maWx0ZXJFeGVjdXRlcihmdW5jdGlvbiAoZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdmFyIHBhcnNlRW50aXRpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIG1lLnV0aWwuZ2V0V2l0aERlZmF1bHQoZW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGVudGl0eS5wb3NpdGlvbi5nZXRWYWx1ZSgwKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdW5kUG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhsYXRsbmcubG9uZ2l0dWRlLCBsYXRsbmcubGF0aXR1ZGUsIDAuMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UobWUudXRpbC5nZXRDZXNpdW1IaWdodFplcm8oZXZlbnQuY2VudGVyKSwgZ3JvdW5kUG9zaXRpb24pIDw9IGV2ZW50LnJhZGl1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW50aXRpZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0Nlc2l1bS5SZWN0YW5nbGUuc3Vic2FtcGxlKGUuZXh0ZW50KVxyXG4gICAgbWUuX3Rvb2xiYXIuYWRkTGlzdGVuZXIoJ2V4dGVudENyZWF0ZWQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBleHRlbnQgPSBlLmV4dGVudDtcclxuXHJcbiAgICAgICAgbWUuX2ZpbHRlckV4ZWN1dGVyKGZ1bmN0aW9uIChlbnRpdGllcykge1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VFbnRpdGllcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChlbnRpdGllcywgW10pLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4zVG9MYXRMbmcgPSBtZS51dGlsLkNhcnRlc2lhbjNUb0xhdExuZyhlbnRpdHkucG9zaXRpb24uZ2V0VmFsdWUoMCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVudC53ZXN0IDw9IGNhcnRlc2lhbjNUb0xhdExuZy5sb25naXR1ZGUgJiYgZXh0ZW50LmVhc3QgPj0gY2FydGVzaWFuM1RvTGF0TG5nLmxvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGV4dGVudC5zb3V0aCA8PSBjYXJ0ZXNpYW4zVG9MYXRMbmcubGF0aXR1ZGUgJiYgZXh0ZW50Lm5vcnRoID49IGNhcnRlc2lhbjNUb0xhdExuZy5sYXRpdHVkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW50aXRpZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZS5fdG9vbGJhci5hZGRMaXN0ZW5lcignbWFya2VyQ3JlYXRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIG1lLl9vcHRpb24uY2FsbGJhY2tzLm1hcmtlcihldmVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgLy8gbG9nZ2luZ01lc3NhZ2UoJ01hcmtlciBjcmVhdGVkIGF0ICcgKyBldmVudC5wb3NpdGlvbi50b1N0cmluZygpKTtcclxuICAgICAgICAvLyBjcmVhdGUgb25lIGNvbW1vbiBiaWxsYm9hcmQgY29sbGVjdGlvbiBmb3IgYWxsIGJpbGxib2FyZHNcclxuICAgICAgICAvLyB2YXIgYiA9IG5ldyBDZXNpdW0uQmlsbGJvYXJkQ29sbGVjdGlvbigpO1xyXG4gICAgICAgIC8vIHZpZXdlci5zY2VuZS5wcmltaXRpdmVzLmFkZChiKTtcclxuICAgICAgICAvLyB2YXIgYmlsbGJvYXJkID0gYi5hZGQoe1xyXG4gICAgICAgIC8vICAgICBzaG93IDogdHJ1ZSxcclxuICAgICAgICAvLyAgICAgcG9zaXRpb24gOiBldmVudC5wb3NpdGlvbixcclxuICAgICAgICAvLyAgICAgcGl4ZWxPZmZzZXQgOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgMCksXHJcbiAgICAgICAgLy8gICAgIGV5ZU9mZnNldCA6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygwLjAsIDAuMCwgMC4wKSxcclxuICAgICAgICAvLyAgICAgaG9yaXpvbnRhbE9yaWdpbiA6IENlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAvLyAgICAgdmVydGljYWxPcmlnaW4gOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIC8vICAgICBzY2FsZSA6IDEuMCxcclxuICAgICAgICAvLyAgICAgaW1hZ2U6ICcuL2ltZy9nbHlwaGljb25zXzI0Ml9nb29nbGVfbWFwcy5wbmcnLFxyXG4gICAgICAgIC8vICAgICBjb2xvciA6IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAxLjAsIDEuMCwgMS4wKVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIGJpbGxib2FyZC5zZXRFZGl0YWJsZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLnNldE9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuXHJcbn1cclxuXHJcbkNob2ljZUhlbHBlci5wcm90b3R5cGUuX2NhbGxCYWNrID0gZnVuY3Rpb24gKCkge1xyXG5cclxufVxyXG5cclxuQ2hvaWNlSGVscGVyLnByb3RvdHlwZS5fZmlsdGVyRXhlY3V0ZXIgPSBmdW5jdGlvbiAoY29udGFpbnNDYWxsYmFjaykge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIC8v6YCJ5Ye65Zyo5ZyI5YaF55qEZW50aXRpZXNcclxuICAgIHZhciBjb250YWluRW50aXRpZXMgPSBjb250YWluc0NhbGxiYWNrKG1lLl9jZXNpdW1WaWV3ZXIuZW50aXRpZXMudmFsdWVzKTtcclxuXHJcbiAgICBtZS51dGlsLmdldFdpdGhEZWZhdWx0KG1lLl9vcHRpb24uY2FsbGJhY2tzLmNob2ljZSwgW10pLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrLCBpbmRleCkge1xyXG4gICAgICAgIHZhciBlbnRpdGllcyA9IFtdO1xyXG4gICAgICAgIC8v6L+H5ruk5Ye66ZyA6KaB55qEZW50aXR5XHJcbiAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChjb250YWluRW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4Mikge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suZmlsdGVyKGVudGl0eSkpIGVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY2FsbGJhY2tcclxuICAgICAgICBjYWxsYmFjay5vbkNob2ljZShlbnRpdGllcyk7XHJcbiAgICB9KVxyXG5cclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBVdGlsKHZpZXdlcikge1xyXG4gICAgdGhpcy5fdmlld2VyID0gdmlld2VyO1xyXG4gICAgdGhpcy5fZWxsaXBzb2lkID0gdGhpcy5fdmlld2VyLnNjZW5lLmdsb2JlLl9lbGxpcHNvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIZDYXJ0ZXNpYW4z6L2s5Li657uP57qs5bqmXHJcbiAqIEBwYXJhbSBjYXJ0ZXNpYW4zXHJcbiAqIEByZXR1cm5zIHt7aGVpZ2h0Om51bWJlcixsYXRpdHVkZTpudW1iZXIsbG9uZ2l0dWRlOm51bWJlcn19XHJcbiAqL1xyXG5VdGlsLnByb3RvdHlwZS5DYXJ0ZXNpYW4zVG9MYXRMbmcgPSBmdW5jdGlvbiAoY2FydGVzaWFuMykge1xyXG4gICAgLy8gcmV0dXJuICBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuMyk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbjMpO1xyXG59XHJcbi8qKlxyXG4gKiDkvYbmmK9DZXNpdW3kuI3mlK/mjIHmraTnsbtcclxuICogQHBhcmFtIGNhcnRlc2lhbjNcclxuICogQHJldHVybiB7e2hlaWdodDogKiwgbGF0aXR1ZGU6ICosIGxvbmdpdHVkZTogKn19XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuVXRpbC5wcm90b3R5cGUuQ2FydGVzaWFuM1RvRGVncmVlcyA9IGZ1bmN0aW9uIChjYXJ0ZXNpYW4zKSB7XHJcbiAgICB2YXIgY2FydG9ncmFwaGljID0gdGhpcy5fZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbjMpO1xyXG4gICAgdmFyIGRlZ3JlZSA9IHtcclxuICAgICAgICBoZWlnaHQ6IGNhcnRvZ3JhcGhpYy5oZWlnaHQsXHJcbiAgICAgICAgbGF0aXR1ZGU6IENlc2l1bS5NYXRoLnRvRGVncmVlcyhjYXJ0b2dyYXBoaWMubGF0aXR1ZGUpLFxyXG4gICAgICAgIGxvbmdpdHVkZTogQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGNhcnRvZ3JhcGhpYy5sb25naXR1ZGUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVncmVlO1xyXG59XHJcblxyXG5VdGlsLnByb3RvdHlwZS5nZXRXaXRoRGVmYXVsdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBkZWZhdWx0RWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPyBlbGVtZW50IDogZGVmYXVsdEVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5blvZPliY3ngrnkvY3nmoTov5HlnLDngrnkvY1cclxuICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2FydGVzaWFuM1xyXG4gKiBAcmV0dXJuIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICovXHJcblV0aWwucHJvdG90eXBlLmdldENlc2l1bUhpZ2h0WmVybyA9IGZ1bmN0aW9uIChjYXJ0ZXNpYW4zKSB7XHJcbiAgICB2YXIgZnJvbUNhcnRlc2lhbiA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjYXJ0ZXNpYW4zKTtcclxuICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkv67mraPlvZPliY3ngrnkvY3nmoTpq5jluqZcclxuICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2FydGVzaWFuM1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0UGx1c1xyXG4gKiBAcmV0dXJuIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICovXHJcblV0aWwucHJvdG90eXBlLmZvcm1hdEhldGlnaHRQbHVzTnVtYmVyID0gZnVuY3Rpb24gKGNhcnRlc2lhbjMsIGhlaWdodFBsdXMpIHtcclxuICAgIHZhciBmcm9tQ2FydGVzaWFuID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGNhcnRlc2lhbjMpO1xyXG4gICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21SYWRpYW5zKGZyb21DYXJ0ZXNpYW4ubG9uZ2l0dWRlLCBmcm9tQ2FydGVzaWFuLmxhdGl0dWRlLCBmcm9tQ2FydGVzaWFuLmhlaWdodCArIGhlaWdodFBsdXMpO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwb3NpdGlvblxyXG4gKiBAcGFyYW0gcGF0aHNcclxuICovXHJcblV0aWwucHJvdG90eXBlLl9pc0luUG9seWdvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgcGF0aHMpIHtcclxuICAgIHZhciB4ID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG4gICAgdmFyIHkgPSBwb3NpdGlvbi5sYXRpdHVkZTtcclxuXHJcbiAgICB2YXIgaXN1bSwgaWNvdW50LCBpbmRleCA9IDA7XHJcbiAgICB2YXIgZExvbjEgPSAwLCBkTG9uMiA9IDAsIGRMYXQxID0gMCwgZExhdDIgPSAwLCBkTG9uO1xyXG5cclxuICAgIGlmIChwYXRocy5zaXplIDwgMykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpc3VtID0gMDtcclxuICAgIGljb3VudCA9IHBhdGhzLmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBpY291bnQgLSAxOyBpbmRleCsrKSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBpY291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgIGRMb24xID0gcGF0aHNbaW5kZXhdLmxvbmdpdHVkZTtcclxuICAgICAgICAgICAgZExhdDEgPSBwYXRoc1tpbmRleF0ubGF0aXR1ZGU7XHJcbiAgICAgICAgICAgIGRMb24yID0gcGF0aHNbMF0ubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgICBkTGF0MiA9IHBhdGhzWzBdLmxhdGl0dWRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZExvbjEgPSBwYXRoc1tpbmRleF0ubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgICBkTGF0MSA9IHBhdGhzW2luZGV4XS5sYXRpdHVkZTtcclxuICAgICAgICAgICAgZExvbjIgPSBwYXRoc1tpbmRleCArIDFdLmxvbmdpdHVkZTtcclxuICAgICAgICAgICAgZExhdDIgPSBwYXRoc1tpbmRleCArIDFdLmxhdGl0dWRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCgoeSA+PSBkTGF0MSkgJiYgKHkgPCBkTGF0MikpIHx8ICgoeSA+PSBkTGF0MikgJiYgKHkgPCBkTGF0MSkpKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkTGF0MSAtIGRMYXQyKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRMb24gPSBkTG9uMSAtICgoZExvbjEgLSBkTG9uMikgKiAoZExhdDEgLSB5KSkgLyAoZExhdDEgLSBkTGF0Mik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZExvbiA8IHgpXHJcbiAgICAgICAgICAgICAgICAgICAgaXN1bSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoaXN1bSAlIDIpICE9PSAwO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvU2NlbmUvQ2FtZXJhcy5jc3M/MWRkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Created by thomas on 9/01/14.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * (c) www.geocento.com\r\n * www.metaaps.com\r\n * <pre>\r\n *      update:\r\n *          2018-9-17:\r\n *              - pickStrategy属性兼容性\r\n *              - 适配stopDrawing在未开始标绘的情况\r\n *          2019-9-24:\r\n *              - 对属性带有modeType:billboard的entity加入setEditable(boolean)的方法,用于改变位置\r\n * </pre>\r\n *\r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n    if (( false ? undefined : _typeof(exports)) === 'object' && ( false ? undefined : _typeof(module)) === 'object') module.exports = factory(__webpack_require__(0));else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(window, function (Cesium) {\n    // static variables\n    var ellipsoid = Cesium.Ellipsoid.WGS84;\n\n    /**\r\n     *\r\n     * @param { Cesium.Cartesian2} position\r\n     * @param {Cesium.Viewer} viewer\r\n     * @return {Cesium.Cartesian3}\r\n     */\n    var defaultPickStrategy = function defaultPickStrategy(position, viewer) {\n        return viewer.scene.camera.pickEllipsoid(position);\n    };\n\n    // constructor\n    function _(cesiumWidget) {\n        this._viewer = cesiumWidget;\n        this._scene = cesiumWidget.scene;\n        this._tooltip = createTooltip(cesiumWidget.container);\n        this._surfaces = [];\n        //适配\n        Cesium.defined(Cesium.ContextLimits) && (Cesium.ContextLimits._maximumAliasedLineWidth = 10);\n\n        this.initialiseHandlers();\n\n        this.enhancePrimitives();\n        enhanceWithListeners(this);\n    }\n\n    _.prototype.initialiseHandlers = function () {\n        var scene = this._scene;\n        var _self = this;\n        // scene events\n        var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function callPrimitiveCallback(name, position) {\n            if (_self._handlersMuted == true) return;\n            var pickedObject = scene.pick(position);\n            if (pickedObject && pickedObject.primitive && pickedObject.primitive[name]) {\n                pickedObject.primitive[name](position);\n            }\n            if (pickedObject && pickedObject.id && pickedObject.id.constructor.toString().match(/^function\\s*([^\\s(]+)/)[1] === \"Entity\" && pickedObject.id[name]) {\n                pickedObject.id[name](position);\n            }\n        }\n\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftClick', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftDoubleClick', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        var mouseOutObject;\n        handler.setInputAction(function (movement) {\n            if (_self._handlersMuted == true) return;\n            var pickedObject = scene.pick(movement.endPosition);\n            if (mouseOutObject && (!pickedObject || mouseOutObject != pickedObject.primitive)) {\n                !(mouseOutObject.isDestroyed && mouseOutObject.isDestroyed()) && mouseOutObject.mouseOut(movement.endPosition);\n                mouseOutObject = null;\n            }\n            if (pickedObject && pickedObject.primitive) {\n                pickedObject = pickedObject.primitive;\n                if (pickedObject.mouseOut) {\n                    mouseOutObject = pickedObject;\n                }\n                if (pickedObject.mouseMove) {\n                    pickedObject.mouseMove(movement.endPosition);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftUp', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_UP);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftDown', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n    };\n\n    _.prototype.setListener = function (primitive, type, callback) {\n        primitive[type] = callback;\n    };\n\n    _.prototype.muteHandlers = function (muted) {\n        this._handlersMuted = muted;\n    };\n\n    // register event handling for an editable shape\n    // shape should implement setEditMode and setHighlighted\n    _.prototype.registerEditableShape = function (surface) {\n        var _self = this;\n\n        // handlers for interactions\n        // highlight polygon when mouse is entering\n        setListener(surface, 'mouseMove', function (position) {\n            surface.setHighlighted(true);\n            if (!surface._editMode) {\n                _self._tooltip.showAt(position, \"Click to edit this shape\");\n            }\n        });\n        // hide the highlighting when mouse is leaving the polygon\n        setListener(surface, 'mouseOut', function (position) {\n            surface.setHighlighted(false);\n            _self._tooltip.setVisible(false);\n        });\n        setListener(surface, 'leftClick', function (position) {\n            surface.setEditMode(true);\n        });\n    };\n\n    _.prototype.startDrawing = function (cleanUp) {\n        // undo any current edit of shapes\n        this.disableAllEditMode();\n        // check for cleanUp first\n        if (this.editCleanUp) {\n            this.editCleanUp();\n        }\n        this.editCleanUp = cleanUp;\n        this.muteHandlers(true);\n    };\n\n    _.prototype.stopDrawing = function () {\n        // check for cleanUp first\n        if (this.editCleanUp) {\n            this.editCleanUp();\n            this.editCleanUp = null;\n        }\n        this.muteHandlers(false);\n    };\n\n    // make sure only one shape is highlighted at a time\n    _.prototype.disableAllHighlights = function () {\n        this.setHighlighted(undefined);\n    };\n\n    _.prototype.setHighlighted = function (surface) {\n        if (this._highlightedSurface && !this._highlightedSurface.isDestroyed() && this._highlightedSurface != surface) {\n            this._highlightedSurface.setHighlighted(false);\n        }\n        this._highlightedSurface = surface;\n    };\n\n    _.prototype.disableAllEditMode = function () {\n        this.setEdited(undefined);\n    };\n\n    _.prototype.setEdited = function (surface) {\n        if (this._editedSurface && !this._editedSurface.isDestroyed()) {\n            this._editedSurface.setEditMode(false);\n        }\n        this._editedSurface = surface;\n    };\n\n    var material = Cesium.Material.fromType(Cesium.Material.ColorType);\n    material.uniforms.color = new Cesium.Color(1.0, 1.0, 0.0, 0.5);\n\n    var defaultShapeOptions = {\n        ellipsoid: Cesium.Ellipsoid.WGS84,\n        textureRotationAngle: 0.0,\n        height: 0.0,\n        asynchronous: true,\n        show: true,\n        debugShowBoundingVolume: false,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    };\n\n    var defaultSurfaceOptions = copyOptions(defaultShapeOptions, {\n        appearance: new Cesium.EllipsoidSurfaceAppearance({\n            aboveGround: false\n        }),\n        material: material,\n        granularity: Math.PI / 180.0,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    });\n\n    var defaultPolygonOptions = copyOptions(defaultShapeOptions, {});\n    var defaultExtentOptions = copyOptions(defaultShapeOptions, {});\n    var defaultCircleOptions = copyOptions(defaultShapeOptions, {});\n    var defaultEllipseOptions = copyOptions(defaultSurfaceOptions, { rotation: 0 });\n\n    var defaultPolylineOptions = copyOptions(defaultShapeOptions, {\n        width: 5,\n        geodesic: true,\n        granularity: 10000,\n        appearance: new Cesium.PolylineMaterialAppearance({\n            aboveGround: false\n        }),\n        material: material\n    });\n\n    //    Cesium.Polygon.prototype.setStrokeStyle = setStrokeStyle;\n    //\n    //    Cesium.Polygon.prototype.drawOutline = drawOutline;\n    //\n\n    var ChangeablePrimitive = function () {\n        function _() {}\n\n        _.prototype.initialiseOptions = function (options) {\n\n            fillOptions(this, options);\n\n            this._ellipsoid = undefined;\n            this._granularity = undefined;\n            this._height = undefined;\n            this._textureRotationAngle = undefined;\n            this._id = undefined;\n\n            // set the flags to initiate a first drawing\n            this._createPrimitive = true;\n            this._primitive = undefined;\n            this._outlinePolygon = undefined;\n        };\n\n        _.prototype.setAttribute = function (name, value) {\n            this[name] = value;\n            this._createPrimitive = true;\n        };\n\n        _.prototype.getAttribute = function (name) {\n            return this[name];\n        };\n\n        /**\r\n         * @private\r\n         */\n        _.prototype.update = function (context, frameState, commandList) {\n\n            if (!Cesium.defined(this.ellipsoid)) {\n                throw new Cesium.DeveloperError('this.ellipsoid must be defined.');\n            }\n\n            if (!Cesium.defined(this.appearance)) {\n                throw new Cesium.DeveloperError('this.material must be defined.');\n            }\n\n            if (this.granularity < 0.0) {\n                throw new Cesium.DeveloperError('this.granularity and scene2D/scene3D overrides must be greater than zero.');\n            }\n\n            if (!this.show) {\n                return;\n            }\n\n            if (!this._createPrimitive && !Cesium.defined(this._primitive)) {\n                // No positions/hierarchy to draw\n                return;\n            }\n\n            if (this._createPrimitive || this._ellipsoid !== this.ellipsoid || this._granularity !== this.granularity || this._height !== this.height || this._textureRotationAngle !== this.textureRotationAngle || this._id !== this.id) {\n\n                var geometry = this.getGeometry();\n                if (!geometry) {\n                    return;\n                }\n\n                this._createPrimitive = false;\n                this._ellipsoid = this.ellipsoid;\n                this._granularity = this.granularity;\n                this._height = this.height;\n                this._textureRotationAngle = this.textureRotationAngle;\n                this._id = this.id;\n\n                this._primitive = this._primitive && this._primitive.destroy();\n                var me = this;\n                this._primitive = new Cesium.Primitive({\n                    geometryInstances: new Cesium.GeometryInstance({\n                        geometry: geometry,\n                        id: this.id,\n                        pickPrimitive: this\n                    }),\n                    appearance: this.appearance,\n                    asynchronous: this.asynchronous\n                });\n                // this._primitive = new Cesium.GroundPrimitive({\n                //     geometryInstances: new Cesium.GeometryInstance({\n                //         geometry: geometry,\n                //         id: me.id,\n                //         pickPrimitive: me\n                //     }),\n                //     attributes: {\n                //         // color :  Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.BLUE.withAlpha(0.5))\n                //         color: Cesium.ColorGeometryInstanceAttribute.fromColor(this.strokeColor)\n                //     }\n                // });\n\n                this._outlinePolygon = this._outlinePolygon && this._outlinePolygon.destroy();\n                if (this.strokeColor && this.getOutlineGeometry) {\n                    // create the highlighting frame\n                    this._outlinePolygon = new Cesium.Primitive({\n                        geometryInstances: new Cesium.GeometryInstance({\n                            geometry: this.getOutlineGeometry(),\n                            attributes: {\n                                color: Cesium.ColorGeometryInstanceAttribute.fromColor(this.strokeColor)\n                            }\n                        }),\n                        appearance: new Cesium.PerInstanceColorAppearance({\n                            flat: true,\n                            renderState: {\n                                depthTest: {\n                                    enabled: true\n                                },\n                                lineWidth: Math.min(this.strokeWidth || 4.0)\n                            }\n                        })\n                    });\n                }\n            }\n\n            var primitive = this._primitive;\n            // primitive.appearance.material = this.material;\n            // primitive.appearance = this.appearance;\n            primitive.appearance.material = this.material;\n            // primitive.debugShowBoundingVolume = this.debugShowBoundingVolume;\n            primitive.update(context, frameState, commandList);\n            //debug\n            // console.log(context)\n            // console.log(frameState)\n            // console.log(commandList)\n            this._outlinePolygon && this._outlinePolygon.update(context, frameState, commandList);\n        };\n\n        _.prototype.isDestroyed = function () {\n            return false;\n        };\n\n        _.prototype.destroy = function () {\n            this._primitive = this._primitive && this._primitive.destroy();\n            return Cesium.destroyObject(this);\n        };\n\n        _.prototype.setStrokeStyle = function (strokeColor, strokeWidth) {\n            if (!this.strokeColor || !this.strokeColor.equals(strokeColor) || this.strokeWidth != strokeWidth) {\n                this._createPrimitive = true;\n                this.strokeColor = strokeColor;\n                this.strokeWidth = strokeWidth;\n            }\n        };\n\n        return _;\n    }();\n\n    _.ExtentPrimitive = function () {\n        function _(options) {\n\n            if (!Cesium.defined(options.extent)) {\n                throw new Cesium.DeveloperError('Extent is required');\n            }\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.setExtent(options.extent);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setExtent = function (extent) {\n            this.setAttribute('extent', extent);\n        };\n\n        _.prototype.getExtent = function () {\n            return this.getAttribute('extent');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.extent)) {\n                return;\n            }\n\n            return new Cesium.RectangleGeometry({\n                rectangle: this.extent,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.RectangleOutlineGeometry({\n                rectangle: this.extent\n            });\n        };\n\n        return _;\n    }();\n\n    _.PolygonPrimitive = function () {\n\n        function _(options) {\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.isPolygon = true;\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setPositions = function (positions) {\n            this.setAttribute('positions', positions);\n        };\n\n        _.prototype.getPositions = function () {\n            return this.getAttribute('positions');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.positions) || this.positions.length < 3) {\n                return;\n            }\n\n            return Cesium.PolygonGeometry.fromPositions({\n                positions: this.positions,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return Cesium.PolygonOutlineGeometry.fromPositions({\n                positions: this.getPositions()\n            });\n        };\n\n        return _;\n    }();\n\n    _.CirclePrimitive = function () {\n\n        function _(options) {\n\n            if (!(Cesium.defined(options.center) && Cesium.defined(options.radius))) {\n                throw new Cesium.DeveloperError('Center and radius are required');\n            }\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.setRadius(options.radius);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setCenter = function (center) {\n            this.setAttribute('center', center);\n        };\n\n        _.prototype.setRadius = function (radius) {\n            this.setAttribute('radius', Math.max(0.1, radius));\n        };\n\n        _.prototype.getCenter = function () {\n            return this.getAttribute('center');\n        };\n\n        _.prototype.getRadius = function () {\n            return this.getAttribute('radius');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!(Cesium.defined(this.center) && Cesium.defined(this.radius))) {\n                return;\n            }\n\n            return new Cesium.CircleGeometry({\n                center: this.center,\n                radius: this.radius,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.CircleOutlineGeometry({\n                center: this.getCenter(),\n                radius: this.getRadius()\n            });\n        };\n\n        return _;\n    }();\n\n    _.EllipsePrimitive = function () {\n        function _(options) {\n\n            if (!(Cesium.defined(options.center) && Cesium.defined(options.semiMajorAxis) && Cesium.defined(options.semiMinorAxis))) {\n                throw new Cesium.DeveloperError('Center and semi major and semi minor axis are required');\n            }\n\n            options = copyOptions(options, defaultEllipseOptions);\n\n            this.initialiseOptions(options);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setCenter = function (center) {\n            this.setAttribute('center', center);\n        };\n\n        _.prototype.setSemiMajorAxis = function (semiMajorAxis) {\n            if (semiMajorAxis < this.getSemiMinorAxis()) return;\n            this.setAttribute('semiMajorAxis', semiMajorAxis);\n        };\n\n        _.prototype.setSemiMinorAxis = function (semiMinorAxis) {\n            if (semiMinorAxis > this.getSemiMajorAxis()) return;\n            this.setAttribute('semiMinorAxis', semiMinorAxis);\n        };\n\n        _.prototype.setRotation = function (rotation) {\n            return this.setAttribute('rotation', rotation);\n        };\n\n        _.prototype.getCenter = function () {\n            return this.getAttribute('center');\n        };\n\n        _.prototype.getSemiMajorAxis = function () {\n            return this.getAttribute('semiMajorAxis');\n        };\n\n        _.prototype.getSemiMinorAxis = function () {\n            return this.getAttribute('semiMinorAxis');\n        };\n\n        _.prototype.getRotation = function () {\n            return this.getAttribute('rotation');\n        };\n\n        _.prototype.getGeometry = function () {\n            var _ref;\n\n            if (!(Cesium.defined(this.center) && Cesium.defined(this.semiMajorAxis) && Cesium.defined(this.semiMinorAxis))) {\n                return;\n            }\n\n            return new Cesium.EllipseGeometry((_ref = {\n                ellipsoid: this.ellipsoid,\n                center: this.center,\n                semiMajorAxis: this.semiMajorAxis,\n                semiMinorAxis: this.semiMinorAxis,\n                rotation: this.rotation,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle\n            }, _defineProperty(_ref, 'ellipsoid', this.ellipsoid), _defineProperty(_ref, 'granularity', this.granularity), _ref));\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.EllipseOutlineGeometry({\n                center: this.getCenter(),\n                semiMajorAxis: this.getSemiMajorAxis(),\n                semiMinorAxis: this.getSemiMinorAxis(),\n                rotation: this.getRotation()\n            });\n        };\n\n        return _;\n    }();\n\n    _.PolylinePrimitive = function () {\n\n        function _(options) {\n\n            options = copyOptions(options, defaultPolylineOptions);\n\n            this.initialiseOptions(options);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setPositions = function (positions) {\n            this.setAttribute('positions', positions);\n        };\n\n        _.prototype.setWidth = function (width) {\n            this.setAttribute('width', width);\n        };\n\n        _.prototype.setGeodesic = function (geodesic) {\n            this.setAttribute('geodesic', geodesic);\n        };\n\n        _.prototype.getPositions = function () {\n            return this.getAttribute('positions');\n        };\n\n        _.prototype.getWidth = function () {\n            return this.getAttribute('width');\n        };\n\n        _.prototype.getGeodesic = function (geodesic) {\n            return this.getAttribute('geodesic');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.positions) || this.positions.length < 2) {\n                return;\n            }\n\n            return new Cesium.PolylineGeometry({\n                positions: this.positions,\n                height: this.height,\n                width: this.width < 1 ? 1 : this.width,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                ellipsoid: this.ellipsoid\n            });\n        };\n\n        return _;\n    }();\n\n    var defaultBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABbElEQVQoU2NkIAEwwtR6enqyc3Jy6jEzMyv9//+fl5GR8fPfv3/vff/+/dL27dt/gtSBFYMUcnBwePj4+ARYW1u7cHFxiX/9+vXl0aNH92zdunXDjx8/doA0gBV7eXmZ+/r6Zjo4OMR+//6dCWYbOzv7v3379i3evn379G3btp0EK3Z3d49tampq//79u/T///8Zfv36xfD792+Gf//+MbCwsDydOHFi5c6dOxeDFTs5OeV0dHT0vXr1ivXLl28Mf//+gXubjY3t9/Tp04r27ds3BazYysoqsaqqtuX7919S6IHz7dvXZzNnTqk5duzYfLBiY2NjG2dnt2w7O9ewf//+wd38/z/Dv717t686evTA1LNnzx4BK3ZwcOB49epViKOju7+NjYsNHx+/yKdPH94cPrz3yIEDOzeKiYmtOXDgwA94OMvIyHB+//7d+v///7oMDAwCDAwMHxgZGS9zcnIeffLkyXd4OBMbiQDHU6AM+91hMQAAAABJRU5ErkJggg==\",\n        shiftX: 0,\n        shiftY: 0,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    };\n\n    var dragBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABbElEQVQoU2NkIAEwwtR6enqyc3Jy6jEzMyv9//+fl5GR8fPfv3/vff/+/dL27dt/gtSBFYMUcnBwePj4+ARYW1u7cHFxiX/9+vXl0aNH92zdunXDjx8/doA0gBV7eXmZ+/r6Zjo4OMR+//6dCWYbOzv7v3379i3evn379G3btp0EK3Z3d49tampq//79u/T///8Zfv36xfD792+Gf//+MbCwsDydOHFi5c6dOxeDFTs5OeV0dHT0vXr1ivXLl28Mf//+gXubjY3t9/Tp04r27ds3BazYysoqsaqqtuX7919S6IHz7dvXZzNnTqk5duzYfLBiY2NjG2dnt2w7O9ewf//+wd38/z/Dv717t686evTA1LNnzx4BK3ZwcOB49epViKOju7+NjYsNHx+/yKdPH94cPrz3yIEDOzeKiYmtOXDgwA94OMvIyHB+//7d+v///7oMDAwCDAwMHxgZGS9zcnIeffLkyXd4OBMbiQDHU6AM+91hMQAAAABJRU5ErkJggg==\",\n        shiftX: 0,\n        shiftY: 0\n    };\n\n    var dragHalfBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABCklEQVQoU5XRMUiEcBTH8e8/iBQMAoXAULBRqTWwGxvaagi3GxqjpragMWhrKhobbpOG2hoaL6G18MYTlIRAIUjQCDKU7mhwqDd/Hvze7wn+MWJi67qeA1aBZWAeeAfGwJMQ4qNxLf6Bm8A2sAEsAq/APXAD3DULE7wG7AF9YOZXsi9gAFwKIR5bXJZlX5KkU2Cp44SXqqqOZFketDjLsgNVVc+A2Q78mef5oaZp5y2O43jXMIwTQO/AaZIkx6ZpXrU4DMOebdv7gNeR2R+NRheO4wxbHEWRlKbpjuu6W0AP0Jp0wDAIgltd168ty6qmPfu+LxdFsQ6sAAvAG/CsKMqD53nltOe/PvEbmPRTDApQ3d8AAAAASUVORK5CYII=\",\n        shiftX: 0,\n        shiftY: 0\n    };\n\n    _.prototype.createBillboardGroup = function (points, options, callbacks) {\n        var markers = new _.BillboardGroup(this, options);\n        markers.addBillboards(points, callbacks);\n        return markers;\n    };\n\n    _.BillboardGroup = function (drawHelper, options) {\n\n        this._drawHelper = drawHelper;\n        this._scene = drawHelper._scene;\n\n        this._options = copyOptions(options, defaultBillboard);\n\n        // create one common billboard collection for all billboards\n        var b = new Cesium.BillboardCollection();\n        this._scene.primitives.add(b);\n        this._billboards = b;\n        // keep an ordered list of billboards\n        this._orderedBillboards = [];\n    };\n\n    _.BillboardGroup.prototype.createBillboard = function (position, callbacks) {\n\n        var billboard = this._billboards.add({\n            show: true,\n            position: position,\n            pixelOffset: new Cesium.Cartesian2(this._options.shiftX, this._options.shiftY),\n            eyeOffset: new Cesium.Cartesian3(0.0, 0.0, 0.0),\n            horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n            verticalOrigin: Cesium.VerticalOrigin.CENTER,\n            scale: 1.0,\n            image: this._options.iconUrl,\n            color: new Cesium.Color(1.0, 1.0, 1.0, 1.0)\n        });\n\n        // if editable\n        if (callbacks) {\n            var enableRotation = function enableRotation(enable) {\n                screenSpaceCameraController.enableRotate = enable;\n            };\n\n            var getIndex = function getIndex() {\n                // find index\n                for (var i = 0, I = _self._orderedBillboards.length; i < I && _self._orderedBillboards[i] != billboard; ++i) {}\n                return i;\n            };\n\n            var _self = this;\n            var screenSpaceCameraController = this._scene.screenSpaceCameraController;\n\n            if (callbacks.dragHandlers) {\n                var _self = this;\n                setListener(billboard, 'leftDown', function (position) {\n                    // TODO - start the drag handlers here\n                    // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                    function onDrag(position) {\n                        billboard.position = position;\n                        // find index\n                        for (var i = 0, I = _self._orderedBillboards.length; i < I && _self._orderedBillboards[i] != billboard; ++i) {}\n                        callbacks.dragHandlers.onDrag && callbacks.dragHandlers.onDrag(getIndex(), position);\n                    }\n\n                    function onDragEnd(position) {\n                        handler.destroy();\n                        enableRotation(true);\n                        callbacks.dragHandlers.onDragEnd && callbacks.dragHandlers.onDragEnd(getIndex(), position);\n                    }\n\n                    var handler = new Cesium.ScreenSpaceEventHandler(_self._scene.canvas);\n\n                    handler.setInputAction(function (movement) {\n                        var cartesian = _self._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                        if (cartesian) {\n                            onDrag(cartesian);\n                        } else {\n                            onDragEnd(cartesian);\n                        }\n                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                    handler.setInputAction(function (movement) {\n                        onDragEnd(_self._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                    }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                    enableRotation(false);\n\n                    callbacks.dragHandlers.onDragStart && callbacks.dragHandlers.onDragStart(getIndex(), _self._scene.camera.pickEllipsoid(position, ellipsoid));\n                });\n            }\n            if (callbacks.onDoubleClick) {\n                setListener(billboard, 'leftDoubleClick', function (position) {\n                    callbacks.onDoubleClick(getIndex());\n                });\n            }\n            if (callbacks.onClick) {\n                setListener(billboard, 'leftClick', function (position) {\n                    callbacks.onClick(getIndex());\n                });\n            }\n            if (callbacks.tooltip) {\n                setListener(billboard, 'mouseMove', function (position) {\n                    _self._drawHelper._tooltip.showAt(position, callbacks.tooltip());\n                });\n                setListener(billboard, 'mouseOut', function (position) {\n                    _self._drawHelper._tooltip.setVisible(false);\n                });\n            }\n        }\n\n        return billboard;\n    };\n\n    _.BillboardGroup.prototype.insertBillboard = function (index, position, callbacks) {\n        this._orderedBillboards.splice(index, 0, this.createBillboard(position, callbacks));\n    };\n\n    _.BillboardGroup.prototype.addBillboard = function (position, callbacks) {\n        this._orderedBillboards.push(this.createBillboard(position, callbacks));\n    };\n\n    _.BillboardGroup.prototype.addBillboards = function (positions, callbacks) {\n        var index = 0;\n        for (; index < positions.length; index++) {\n            this.addBillboard(positions[index], callbacks);\n        }\n    };\n\n    _.BillboardGroup.prototype.updateBillboardsPositions = function (positions) {\n        var index = 0;\n        for (; index < positions.length; index++) {\n            this.getBillboard(index).position = positions[index];\n        }\n    };\n\n    _.BillboardGroup.prototype.countBillboards = function () {\n        return this._orderedBillboards.length;\n    };\n\n    _.BillboardGroup.prototype.getBillboard = function (index) {\n        return this._orderedBillboards[index];\n    };\n\n    _.BillboardGroup.prototype.removeBillboard = function (index) {\n        this._billboards.remove(this.getBillboard(index));\n        this._orderedBillboards.splice(index, 1);\n    };\n\n    _.BillboardGroup.prototype.remove = function () {\n        this._billboards = this._billboards && this._billboards.removeAll() && this._billboards.destroy();\n    };\n\n    _.BillboardGroup.prototype.setOnTop = function () {\n        this._scene.primitives.raiseToTop(this._billboards);\n    };\n\n    _.prototype.startDrawingMarker = function (options) {\n\n        var options = copyOptions(options, defaultBillboard);\n\n        this.startDrawing(function () {\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n\n        var primitives = scene.primitives;\n        var tooltip = this._tooltip;\n\n        var markers = new _.BillboardGroup(this, options);\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n                if (cartesian) {\n                    markers.addBillboard(cartesian);\n                    _self.stopDrawing();\n                    options.callback(cartesian, _self);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(position, viewer);\n                if (cartesian) {\n                    tooltip.showAt(position, \"<p>Click to add your marker. Position is: </p>\" + getDisplayLatLngString(ellipsoid.cartesianToCartographic(cartesian)));\n                } else {\n                    tooltip.showAt(position, \"<p>Click on the globe to add your marker.</p>\");\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.startDrawingPolygon = function (options) {\n        // var options = copyOptions(options, defaultSurfaceOptions);\n        this.startDrawingPolyshape(true, options);\n    };\n\n    _.prototype.startDrawingPolyline = function (options) {\n        // var options = copyOptions(options, defaultPolylineOptions);\n        this.startDrawingPolyshape(false, options);\n    };\n\n    _.prototype.startDrawingPolyshape = function (isPolygon, options) {\n        options = isPolygon ? copyOptions(options, defaultSurfaceOptions) : copyOptions(options, defaultPolylineOptions);\n\n        this.startDrawing(function () {\n            primitives && primitives.remove(poly);\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = scene.primitives;\n        var tooltip = this._tooltip;\n\n        var minPoints = isPolygon ? 3 : 2;\n        var poly;\n        if (isPolygon) {\n            poly = new _.PolygonPrimitive(options);\n        } else {\n            poly = new _.PolylinePrimitive(options);\n        }\n        poly.asynchronous = false;\n        primitives.add(poly);\n\n        var positions = [];\n        var markers = new _.BillboardGroup(this, defaultBillboard);\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        mouseHandler.setInputAction(function (movement) {\n\n            var position = movement.position;\n            if (position != null) {\n                if (positions.length < minPoints /*+ 2*/) {\n                        return;\n                    } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n\n                    if (cartesian) {\n                        _self.stopDrawing();\n                        if (typeof options.callback == 'function') {\n                            // remove overlapping ones\n                            var index = positions.length - 1;\n                            options.callback(positions, _self);\n                        }\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n\n            var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n            cartesian = getCesiumHightZero(cartesian);\n\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n\n                if (cartesian) {\n                    // first click\n                    if (positions.length == 0) {\n                        positions.push(cartesian.clone());\n                        markers.addBillboard(positions[0]);\n                    }\n                    if (positions.length >= minPoints) {\n                        poly.positions = positions;\n                        poly._createPrimitive = true;\n                    }\n                    // add new point to polygon\n                    // this one will move with the mouse\n                    positions.push(cartesian);\n                    // add marker at the new position\n                    markers.addBillboard(cartesian);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (positions.length == 0) {\n                    tooltip.showAt(position, \"<p>Click to add first point</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    // var cartesian = scene.pickPosition(position);\n                    // cartesian = getCesiumHightZero(cartesian);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        positions.pop();\n                        // make sure it is slightly different\n                        // cartesian.y += (1 + Math.random());\n                        cartesian.y += Cesium.Math.EPSILON7;\n                        positions.push(cartesian);\n                        if (positions.length >= minPoints) {\n                            poly.positions = positions;\n                            poly._createPrimitive = true;\n                        }\n                        // update marker\n                        markers.getBillboard(positions.length - 1).position = cartesian;\n                        // show tooltip\n                        tooltip.showAt(position, \"<p>Click to add new point (\" + positions.length + \")</p>\" + (positions.length > minPoints ? \"<p>Double click to finish drawing</p>\" : \"\"));\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    function getExtentCorners(value) {\n        return ellipsoid.cartographicArrayToCartesianArray([Cesium.Rectangle.northwest(value), Cesium.Rectangle.northeast(value), Cesium.Rectangle.southeast(value), Cesium.Rectangle.southwest(value)]);\n    }\n\n    _.prototype.startDrawingExtent = function (options) {\n\n        var options = copyOptions(options, defaultSurfaceOptions);\n\n        this.startDrawing(function () {\n            if (extent != null) {\n                primitives && primitives.remove(extent);\n            }\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = this._scene.primitives;\n        var tooltip = this._tooltip;\n\n        var firstPoint = null;\n        var extent = null;\n        var markers = null;\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function updateExtent(value) {\n            if (extent == null) {\n                extent = new _.ExtentPrimitive({ extent: value, material: options.material });\n                extent.asynchronous = false;\n                primitives.add(extent);\n            }\n            extent.setExtent(value);\n            extent.rectangle = value;\n            // update the markers\n            var corners = getExtentCorners(value);\n            // create if they do not yet exist\n            if (markers == null) {\n                markers = new _.BillboardGroup(_self, defaultBillboard);\n                markers.addBillboards(corners);\n            } else {\n                markers.updateBillboardsPositions(corners);\n            }\n        }\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n\n                if (cartesian) {\n                    if (extent == null) {\n                        // create the rectangle\n                        firstPoint = ellipsoid.cartesianToCartographic(cartesian);\n                        var value = getExtent(firstPoint, firstPoint);\n                        updateExtent(value);\n                    } else {\n                        _self.stopDrawing();\n                        if (typeof options.callback == 'function') {\n                            options.callback(getExtent(firstPoint, ellipsoid.cartesianToCartographic(cartesian), _self));\n                        }\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (extent == null) {\n                    tooltip.showAt(position, \"<p>Click to start drawing rectangle</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        var value = getExtent(firstPoint, ellipsoid.cartesianToCartographic(cartesian));\n                        updateExtent(value);\n                        tooltip.showAt(position, \"<p>Drag to change rectangle extent</p><p>Click again to finish drawing</p>\");\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.startDrawingCircle = function (options) {\n\n        var options = copyOptions(options, defaultSurfaceOptions);\n\n        this.startDrawing(function cleanUp() {\n            if (circle != null) {\n                primitives && primitives.remove(circle);\n            }\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = this._scene.primitives;\n        var tooltip = this._tooltip;\n\n        var circle = null;\n        var markers = null;\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function pickPosition(position) {\n            if (Cesium.defined(viewer.scene.pick(position))) {\n                return getCesiumHightZero(viewer.scene.pickPosition(position));\n            } else {\n                return getCesiumHightZero(viewer.scene.camera.pickEllipsoid(position));\n            }\n        }\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                // var cartesian = scene.pickPosition(movement.position);\n                // cartesian = getCesiumHightZero(cartesian);\n                // var cartesian = pickPosition(movement.position);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n                if (cartesian) {\n                    if (circle == null) {\n                        // create the circle\n                        circle = new _.CirclePrimitive({\n                            center: cartesian,\n                            radius: 0,\n                            asynchronous: false,\n                            material: options.material\n                        });\n                        primitives.add(circle);\n                        markers = new _.BillboardGroup(_self, defaultBillboard);\n                        markers.addBillboards([cartesian]);\n                    } else {\n                        if (typeof options.callback == 'function') {\n                            options.callback(circle.getCenter(), circle.getRadius(), _self);\n                        }\n                        _self.stopDrawing();\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (circle == null) {\n                    tooltip.showAt(position, \"<p>Click to start drawing the circle</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    // var cartesian = scene.pickPosition(position);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        // Cesium.Cartographic.fromCartesian(circle.getCenter())\n                        circle.setRadius(Cesium.Cartesian3.distance(getCesiumHightZero(circle.getCenter()), getCesiumHightZero(cartesian)));\n                        // circle.setRadius(Cesium.Cartesian3.distance(circle.getCenter(), cartesian));\n                        markers.updateBillboardsPositions(cartesian);\n                        tooltip.showAt(position, \"<p>Move mouse to change circle radius</p><p>Click again to finish drawing</p>\");\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.enhancePrimitives = function () {\n\n        var drawHelper = this;\n\n        Cesium.Billboard.prototype.setEditable = function () {\n\n            if (this._editable) {\n                return;\n            }\n\n            this._editable = true;\n\n            var billboard = this;\n\n            var _self = this;\n\n            function enableRotation(enable) {\n                drawHelper._scene.screenSpaceCameraController.enableRotate = enable;\n            }\n\n            setListener(billboard, 'leftDown', function (position) {\n                // TODO - start the drag handlers here\n                // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                function onDrag(position) {\n                    billboard.position = position;\n                    _self.executeListeners({ name: 'drag', positions: position });\n                }\n\n                function onDragEnd(position) {\n                    handler.destroy();\n                    enableRotation(true);\n                    _self.executeListeners({ name: 'dragEnd', positions: position });\n                }\n\n                var handler = new Cesium.ScreenSpaceEventHandler(drawHelper._scene.canvas);\n\n                handler.setInputAction(function (movement) {\n                    var cartesian = drawHelper._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                    if (cartesian) {\n                        onDrag(cartesian);\n                    } else {\n                        onDragEnd(cartesian);\n                    }\n                }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                handler.setInputAction(function (movement) {\n                    onDragEnd(drawHelper._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                enableRotation(false);\n            });\n\n            enhanceWithListeners(billboard);\n        };\n\n        Cesium.Entity.prototype.setEditable = function (editable) {\n            if (editable === false) {\n                var billboard = this;\n                removeListener(billboard, 'leftDown');\n                this._editable = false;\n                return;\n            }\n\n            if (this.modeType !== 'billboard' || this._editable) {\n                return;\n            }\n\n            this._editable = true;\n\n            var billboard = this;\n\n            var _self = this;\n\n            function enableRotation(enable) {\n                drawHelper._scene.screenSpaceCameraController.enableRotate = enable;\n            }\n\n            setListener(billboard, 'leftDown', function (position) {\n                // TODO - start the drag handlers here\n                // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                function onDrag(position) {\n                    billboard.position = position;\n                    _self.executeListeners({ name: 'drag', positions: position });\n                }\n\n                function onDragEnd(position) {\n                    handler.destroy();\n                    enableRotation(true);\n                    _self.executeListeners({ name: 'dragEnd', positions: position });\n                }\n\n                var handler = new Cesium.ScreenSpaceEventHandler(drawHelper._scene.canvas);\n\n                handler.setInputAction(function (movement) {\n                    var cartesian = drawHelper._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                    if (cartesian) {\n                        onDrag(cartesian);\n                    } else {\n                        onDragEnd(cartesian);\n                    }\n                }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                handler.setInputAction(function (movement) {\n                    onDragEnd(drawHelper._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                enableRotation(false);\n            });\n\n            enhanceWithListeners(billboard);\n        };\n\n        function setHighlighted(highlighted) {\n\n            var scene = drawHelper._scene;\n\n            // if no change\n            // if already highlighted, the outline polygon will be available\n            if (this._highlighted && this._highlighted == highlighted) {\n                return;\n            }\n            // disable if already in edit mode\n            if (this._editMode === true) {\n                return;\n            }\n            this._highlighted = highlighted;\n            // highlight by creating an outline polygon matching the polygon points\n            if (highlighted) {\n                // make sure all other shapes are not highlighted\n                drawHelper.setHighlighted(this);\n                this._strokeColor = this.strokeColor;\n                this.setStrokeStyle(Cesium.Color.fromCssColorString('white'), this.strokeWidth);\n            } else {\n                if (this._strokeColor) {\n                    this.setStrokeStyle(this._strokeColor, this.strokeWidth);\n                } else {\n                    this.setStrokeStyle(undefined, undefined);\n                }\n            }\n        }\n\n        function setEditMode(editMode) {\n            // if no change\n            if (this._editMode == editMode) {\n                return;\n            }\n            // make sure all other shapes are not in edit mode before starting the editing of this shape\n            drawHelper.disableAllHighlights();\n            // display markers\n            if (editMode) {\n                drawHelper.setEdited(this);\n                var scene = drawHelper._scene;\n                var _self = this;\n                // create the markers and handlers for the editing\n                if (this._markers == null) {\n\n                    // function for updating the edit markers around a certain point\n                    var updateHalfMarkers = function updateHalfMarkers(index, positions) {\n                        // update the half markers before and after the index\n                        var editIndex = index - 1 < 0 ? positions.length - 1 : index - 1;\n                        if (editIndex < editMarkers.countBillboards()) {\n                            editMarkers.getBillboard(editIndex).position = calculateHalfMarkerPosition(editIndex);\n                        }\n                        editIndex = index;\n                        if (editIndex < editMarkers.countBillboards()) {\n                            editMarkers.getBillboard(editIndex).position = calculateHalfMarkerPosition(editIndex);\n                        }\n                    };\n\n                    var onEdited = function onEdited() {\n                        _self.executeListeners({ name: 'onEdited', positions: _self.positions });\n                    };\n\n                    var calculateHalfMarkerPosition = function calculateHalfMarkerPosition(index) {\n                        var positions = _self.positions;\n                        return ellipsoid.cartographicToCartesian(new Cesium.EllipsoidGeodesic(ellipsoid.cartesianToCartographic(positions[index]), ellipsoid.cartesianToCartographic(positions[index < positions.length - 1 ? index + 1 : 0])).interpolateUsingFraction(0.5));\n                    };\n\n                    var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n                    var thisDragHalfBillboard = this.dragHalfBillboard ? this.dragHalfBillboard : dragBillboard;\n                    var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n                    var editMarkers = new _.BillboardGroup(drawHelper, thisDragHalfBillboard);\n\n                    var handleMarkerChanges = {\n                        dragHandlers: {\n                            onDrag: function onDrag(index, position) {\n                                _self.positions[index] = position;\n                                updateHalfMarkers(index, _self.positions);\n                                _self._createPrimitive = true;\n                            },\n                            onDragEnd: function onDragEnd(index, position) {\n                                _self._createPrimitive = true;\n                                onEdited();\n                            }\n                        },\n                        onDoubleClick: function onDoubleClick(index) {\n                            if (_self.positions.length < 4) {\n                                return;\n                            }\n                            // remove the point and the corresponding markers\n                            _self.positions.splice(index, 1);\n                            _self._createPrimitive = true;\n                            markers.removeBillboard(index);\n                            editMarkers.removeBillboard(index);\n                            updateHalfMarkers(index, _self.positions);\n                            onEdited();\n                        },\n                        tooltip: function tooltip() {\n                            if (_self.positions.length > 3) {\n                                return \"Double click to remove this point\";\n                            }\n                        }\n                    };\n                    // add billboards and keep an ordered list of them for the polygon edges\n                    markers.addBillboards(_self.positions, handleMarkerChanges);\n                    this._markers = markers;\n\n                    var halfPositions = [];\n                    var index = 0;\n                    var length = _self.positions.length + (this.isPolygon ? 0 : -1);\n                    for (; index < length; index++) {\n                        halfPositions.push(calculateHalfMarkerPosition(index));\n                    }\n                    var handleEditMarkerChanges = {\n                        dragHandlers: {\n                            onDragStart: function onDragStart(index, position) {\n                                // add a new position to the polygon but not a new marker yet\n                                this.index = index + 1;\n                                _self.positions.splice(this.index, 0, position);\n                                _self._createPrimitive = true;\n                            },\n                            onDrag: function onDrag(index, position) {\n                                _self.positions[this.index] = position;\n                                _self._createPrimitive = true;\n                            },\n                            onDragEnd: function onDragEnd(index, position) {\n                                // create new sets of makers for editing\n                                markers.insertBillboard(this.index, position, handleMarkerChanges);\n                                editMarkers.getBillboard(this.index - 1).position = calculateHalfMarkerPosition(this.index - 1);\n                                editMarkers.insertBillboard(this.index, calculateHalfMarkerPosition(this.index), handleEditMarkerChanges);\n                                _self._createPrimitive = true;\n                                onEdited();\n                            }\n                        },\n                        tooltip: function tooltip() {\n                            return \"Drag to create a new point\";\n                        }\n                    };\n                    editMarkers.addBillboards(halfPositions, handleEditMarkerChanges);\n                    this._editMarkers = editMarkers;\n                    // add a handler for clicking in the globe\n                    this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                    this._globeClickhandler.setInputAction(function (movement) {\n                        var pickedObject = scene.pick(movement.position);\n                        if (!(pickedObject && pickedObject.primitive)) {\n                            _self.setEditMode(false);\n                        }\n                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                    // set on top of the polygon\n                    markers.setOnTop();\n                    editMarkers.setOnTop();\n                }\n                this._editMode = true;\n            } else {\n                if (this._markers != null) {\n                    this._markers.remove();\n                    this._editMarkers.remove();\n                    this._markers = null;\n                    this._editMarkers = null;\n                    this._globeClickhandler.destroy();\n                }\n                this._editMode = false;\n            }\n        }\n\n        _.PolylinePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var polyline = this;\n            polyline.isPolygon = false;\n            polyline.asynchronous = false;\n\n            drawHelper.registerEditableShape(polyline);\n\n            polyline.setEditMode = setEditMode;\n\n            var originalWidth = this.width;\n\n            polyline.setHighlighted = function (highlighted) {\n                // disable if already in edit mode\n                if (this._editMode === true) {\n                    return;\n                }\n                if (highlighted) {\n                    drawHelper.setHighlighted(this);\n                    this.setWidth(originalWidth * 2);\n                } else {\n                    this.setWidth(originalWidth);\n                }\n            };\n\n            polyline.getExtent = function () {\n                return Cesium.Extent.fromCartographicArray(ellipsoid.cartesianArrayToCartographicArray(this.positions));\n            };\n\n            enhanceWithListeners(polyline);\n\n            polyline.setEditMode(false);\n        };\n\n        _.PolygonPrimitive.prototype.setEditable = function () {\n\n            var polygon = this;\n            polygon.asynchronous = false;\n\n            var scene = drawHelper._scene;\n\n            drawHelper.registerEditableShape(polygon);\n\n            polygon.setEditMode = setEditMode;\n\n            polygon.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(polygon);\n\n            polygon.setEditMode(false);\n        };\n\n        _.ExtentPrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var extent = this;\n            var scene = drawHelper._scene;\n\n            drawHelper.registerEditableShape(extent);\n            extent.asynchronous = false;\n\n            extent.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var onEdited = function onEdited() {\n                            extent.executeListeners({ name: 'onEdited', extent: extent.extent });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n                        var thisDragHalfBillboard = this.dragHalfBillboard ? this.dragHalfBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(thisDragBillboard, thisDragHalfBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    var corner = markers.getBillboard((index + 2) % 4).position;\n                                    extent.setExtent(getExtent(ellipsoid.cartesianToCartographic(corner), ellipsoid.cartesianToCartographic(position)));\n                                    markers.updateBillboardsPositions(getExtentCorners(extent.extent));\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the corners of this extent\";\n                            }\n                        };\n                        markers.addBillboards(getExtentCorners(extent.extent), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            // disable edit if pickedobject is different or not an object\n                            try {\n                                if (!(pickedObject && !pickedObject.isDestroyed() && pickedObject.primitive)) {\n                                    extent.setEditMode(false);\n                                }\n                            } catch (e) {\n                                extent.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            extent.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(extent);\n\n            extent.setEditMode(false);\n        };\n\n        _.EllipsePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var ellipse = this;\n            var scene = drawHelper._scene;\n\n            ellipse.asynchronous = false;\n\n            drawHelper.registerEditableShape(ellipse);\n\n            ellipse.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    var _self = this;\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var getMarkerPositions = function getMarkerPositions() {\n                            return Cesium.Shapes.computeEllipseBoundary(ellipsoid, ellipse.getCenter(), ellipse.getSemiMajorAxis(), ellipse.getSemiMinorAxis(), ellipse.getRotation() + Math.PI / 2, Math.PI / 2.0).splice(0, 4);\n                        };\n\n                        var onEdited = function onEdited() {\n                            ellipse.executeListeners({\n                                name: 'onEdited',\n                                center: ellipse.getCenter(),\n                                semiMajorAxis: ellipse.getSemiMajorAxis(),\n                                semiMinorAxis: ellipse.getSemiMinorAxis(),\n                                rotation: 0\n                            });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    var distance = Cesium.Cartesian3.distance(ellipse.getCenter(), position);\n                                    if (index % 2 == 0) {\n                                        ellipse.setSemiMajorAxis(distance);\n                                    } else {\n                                        ellipse.setSemiMinorAxis(distance);\n                                    }\n                                    markers.updateBillboardsPositions(getMarkerPositions());\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the excentricity and radius\";\n                            }\n                        };\n                        markers.addBillboards(getMarkerPositions(), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            if (!(pickedObject && pickedObject.primitive)) {\n                                _self.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            ellipse.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(ellipse);\n\n            ellipse.setEditMode(false);\n        };\n\n        _.CirclePrimitive.prototype.getCircleCartesianCoordinates = function (granularity) {\n            var geometry = Cesium.CircleOutlineGeometry.createGeometry(new Cesium.CircleOutlineGeometry({\n                ellipsoid: ellipsoid,\n                center: this.getCenter(),\n                radius: this.getRadius(),\n                granularity: granularity\n            }));\n            var count = 0,\n                value,\n                values = [];\n            for (; count < geometry.attributes.position.values.length; count += 3) {\n                value = geometry.attributes.position.values;\n                values.push(new Cesium.Cartesian3(value[count], value[count + 1], value[count + 2]));\n            }\n            return values;\n        };\n\n        _.CirclePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var circle = this;\n            var scene = drawHelper._scene;\n\n            circle.asynchronous = false;\n\n            drawHelper.registerEditableShape(circle);\n\n            circle.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    var _self = this;\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var getMarkerPositions = function getMarkerPositions() {\n                            // return _self.getCircleCartesianCoordinates(Cesium.Math.PI_OVER_TWO);\n                            return _self.getCircleCartesianCoordinates(Cesium.Math.PI_OVER_TWO);\n                        };\n\n                        var onEdited = function onEdited() {\n                            circle.executeListeners({\n                                name: 'onEdited',\n                                center: circle.getCenter(),\n                                radius: circle.getRadius()\n                            });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    circle.setRadius(Cesium.Cartesian3.distance(circle.getCenter(), position));\n                                    markers.updateBillboardsPositions(getMarkerPositions());\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the radius\";\n                            }\n                        };\n                        markers.addBillboards(getMarkerPositions(), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            if (!(pickedObject && pickedObject.primitive)) {\n                                _self.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            circle.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(circle);\n\n            circle.setEditMode(false);\n        };\n    };\n\n    _.DrawHelperWidget = function () {\n\n        // constructor\n        function _(drawHelper, options) {\n\n            // container must be specified\n            if (!Cesium.defined(options.container)) {\n                throw new Cesium.DeveloperError('Container is required');\n            }\n\n            var drawOptions = {\n                // markerIcon: \"./img/glyphicons_242_google_maps.png\",\n                // polylineIcon: \"./img/glyphicons_097_vector_path_line.png\",\n                // polygonIcon: \"./img/glyphicons_096_vector_path_polygon.png\",\n                // circleIcon: \"./img/glyphicons_095_vector_path_circle.png\",\n                // extentIcon: \"./img/glyphicons_094_vector_path_square.png\",\n                // clearIcon: \"./img/glyphicons_067_cleaning.png\",\n                markerIcon: \" marker\",\n                polylineIcon: \" polyline\",\n                polygonIcon: \" polygon\",\n                circleIcon: \" circle\",\n                extentIcon: \" extent\",\n                clearIcon: \" clear\",\n                polylineDrawingOptions: defaultPolylineOptions,\n                polygonDrawingOptions: defaultPolygonOptions,\n                extentDrawingOptions: defaultExtentOptions,\n                circleDrawingOptions: defaultCircleOptions,\n                strategy: {\n                    pickStrategy: options.pickStrategy ? options.pickStrategy : defaultPickStrategy\n                }\n            };\n\n            fillOptions(options, drawOptions);\n\n            var _self = this;\n\n            var toolbar = document.createElement('DIV');\n            toolbar.className = \"toolbar\";\n            options.container.appendChild(toolbar);\n\n            function addIcon(id, url, title, callback) {\n                var div = document.createElement('DIV');\n                div.className = 'button' + url;\n                div.title = title;\n                toolbar.appendChild(div);\n                div.onclick = callback;\n                // var span = document.createElement('SPAN');\n                // div.appendChild(span);\n                // var image = document.createElement('IMG');\n                // image.src = url;\n                // span.appendChild(image);\n                return div;\n            }\n\n            var scene = drawHelper._scene;\n            // console.log(options.buttons)\n\n            options.buttons.indexOf(\"marker\") !== -1 && addIcon('marker', options.markerIcon, 'Click to start drawing a 2D marker', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'markerClick'\n                });\n\n                drawHelper.startDrawingMarker({\n                    callback: function callback(position) {\n                        _self.executeListeners({ name: 'markerCreated', position: position });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"polyline\") !== -1 && addIcon('polyline', options.polylineIcon, 'Click to start drawing a 2D polyline', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'polylineClick'\n                });\n\n                drawHelper.startDrawingPolyline({\n                    callback: function callback(positions) {\n                        _self.executeListeners({ name: 'polylineCreated', positions: positions });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"polygon\") !== -1 && addIcon('polygon', options.polygonIcon, 'Click to start drawing a 2D polygon', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'polygonClick'\n                });\n\n                drawHelper.startDrawingPolygon({\n                    callback: function callback(positions) {\n                        _self.executeListeners({ name: 'polygonCreated', positions: positions });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"extent\") !== -1 && addIcon('extent', options.extentIcon, 'Click to start drawing an Extent', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'extentClick'\n                });\n\n                drawHelper.startDrawingExtent({\n                    callback: function callback(extent) {\n                        _self.executeListeners({ name: 'extentCreated', extent: extent });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"circle\") !== -1 && addIcon('circle', options.circleIcon, 'Click to start drawing a Circle', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'circleClick'\n                });\n\n                drawHelper.startDrawingCircle({\n                    callback: function callback(center, radius) {\n                        _self.executeListeners({ name: 'circleCreated', center: center, radius: radius });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            // add a clear button at the end\n            // add a divider first\n            var div = document.createElement('DIV');\n            div.className = 'divider';\n            toolbar.appendChild(div);\n\n            options.buttons.indexOf(\"clear\") !== -1 && addIcon('clear', options.clearIcon, 'Remove all primitives', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'clearClick'\n                });\n\n                scene.primitives.removeAll();\n            });\n\n            enhanceWithListeners(this);\n        }\n\n        return _;\n    }();\n\n    /**\r\n     * 新增工具栏点击回调\r\n     * @param container\r\n     * @param options\r\n     * @param {function(event)} options.clickCallback - event.name包括${toolbarName}Click\r\n     * @returns {_|*}\r\n     */\n    _.prototype.addToolbar = function (container, options) {\n        options = copyOptions(options, { container: container });\n        return new _.DrawHelperWidget(this, options);\n    };\n\n    function getExtent(mn, mx) {\n        var e = new Cesium.Rectangle();\n\n        // Re-order so west < east and south < north\n        e.west = Math.min(mn.longitude, mx.longitude);\n        e.east = Math.max(mn.longitude, mx.longitude);\n        e.south = Math.min(mn.latitude, mx.latitude);\n        e.north = Math.max(mn.latitude, mx.latitude);\n\n        // Check for approx equal (shouldn't require abs due to re-order)\n        var epsilon = Cesium.Math.EPSILON7;\n\n        if (e.east - e.west < epsilon) {\n            e.east += epsilon * 2.0;\n        }\n\n        if (e.north - e.south < epsilon) {\n            e.north += epsilon * 2.0;\n        }\n\n        return e;\n    };\n\n    function createTooltip(frameDiv) {\n\n        var tooltip = function tooltip(frameDiv) {\n\n            var div = document.createElement('DIV');\n            div.className = \"twipsy right\";\n\n            var arrow = document.createElement('DIV');\n            arrow.className = \"twipsy-arrow\";\n            div.appendChild(arrow);\n\n            var title = document.createElement('DIV');\n            title.className = \"twipsy-inner\";\n\n            div.appendChild(title);\n\n            this._div = div;\n            this._title = title;\n\n            // add to frame div and display coordinates\n            frameDiv.appendChild(div);\n            this.addEvent();\n            this.setVisible(false);\n        };\n\n        tooltip.prototype.setVisible = function (visible) {\n            this._div.style.display = visible ? 'block' : 'none';\n        };\n\n        tooltip.prototype.showAt = function (position, message) {\n            if (position && message) {\n                this.setVisible(true);\n                this._title.innerHTML = message;\n                // this._div.style.left = position.x + 10 + \"px\";\n                // this._div.style.top = (position.y - this._div.clientHeight / 2) + \"px\";\n            }\n        };\n\n        tooltip.prototype.show = function (message) {\n            if (message) {\n                this.setVisible(true);\n                this._title.innerHTML = message;\n            }\n        };\n\n        /**\r\n         * 解决拖动到tip上时宕机的问题\r\n         */\n        tooltip.prototype.addEvent = function () {\n            var me = this;\n            var count = 0;\n            document.body.addEventListener(\"mousemove\", function (ev) {\n                if (me._div.style.display === 'block' && (count = count++ % 3) === 0) {\n                    me._div.style.left = ev.offsetX + 20 + \"px\";\n                    me._div.style.top = ev.offsetY - me._div.clientHeight / 2 + \"px\";\n                }\n            });\n        };\n\n        return new tooltip(frameDiv);\n    }\n\n    function getDisplayLatLngString(cartographic, precision) {\n        return cartographic.longitude.toFixed(precision || 3) + \", \" + cartographic.latitude.toFixed(precision || 3);\n    }\n\n    function clone(from, to) {\n        if (from == null || (typeof from === 'undefined' ? 'undefined' : _typeof(from)) != \"object\") return from;\n        if (from.constructor != Object && from.constructor != Array) return from;\n        if (from.constructor == Date || from.constructor == RegExp || from.constructor == Function || from.constructor == String || from.constructor == Number || from.constructor == Boolean) return new from.constructor(from);\n\n        to = to || new from.constructor();\n\n        for (var name in from) {\n            to[name] = typeof to[name] == \"undefined\" ? clone(from[name], null) : to[name];\n        }\n\n        return to;\n    }\n\n    function fillOptions(options, defaultOptions) {\n        options = options || {};\n        var option;\n        for (option in defaultOptions) {\n            if (options[option] === undefined) {\n                options[option] = clone(defaultOptions[option]);\n            }\n        }\n    }\n\n    // shallow copy\n    function copyOptions(options, defaultOptions) {\n        var newOptions = clone(options),\n            option;\n        for (option in defaultOptions) {\n            if (newOptions[option] === undefined) {\n                newOptions[option] = clone(defaultOptions[option]);\n            }\n        }\n        return newOptions;\n    }\n\n    function extendOptions(options, defaultOptions) {\n        var newOptions = clone(options),\n            option;\n        for (option in defaultOptions) {\n            newOptions[option] = clone(defaultOptions[option]);\n        }\n        return newOptions;\n    }\n\n    function setListener(primitive, type, callback) {\n        primitive[type] = callback;\n    }\n\n    function removeListener(primitive, type) {\n        delete primitive[type];\n    }\n\n    function enhanceWithListeners(element) {\n\n        element._listeners = {};\n\n        element.addListener = function (name, callback) {\n            this._listeners[name] = this._listeners[name] || [];\n            this._listeners[name].push(callback);\n            return this._listeners[name].length;\n        };\n\n        element.executeListeners = function (event, defaultCallback) {\n            if (this._listeners[event.name] && this._listeners[event.name].length > 0) {\n                var index = 0;\n                for (; index < this._listeners[event.name].length; index++) {\n                    this._listeners[event.name][index](event);\n                }\n            } else {\n                if (defaultCallback) {\n                    defaultCallback(event);\n                }\n            }\n        };\n    }\n\n    /**\r\n     * 获取当前点位的近地点位\r\n     * @param {Cesium.Cartesian3} cesium3\r\n     * @returns {Cesium.Cartesian3}\r\n     */\n    function getCesiumHightZero(cesium3) {\n        var fromCartesian = Cesium.Cartographic.fromCartesian(cesium3);\n        return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    }\n\n    return _;\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(17)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmpzPzc0ZDIiXSwibmFtZXMiOlsid2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwid2luZG93IiwiQ2VzaXVtIiwiZWxsaXBzb2lkIiwiRWxsaXBzb2lkIiwiV0dTODQiLCJkZWZhdWx0UGlja1N0cmF0ZWd5IiwicG9zaXRpb24iLCJ2aWV3ZXIiLCJzY2VuZSIsImNhbWVyYSIsInBpY2tFbGxpcHNvaWQiLCJfIiwiY2VzaXVtV2lkZ2V0IiwiX3ZpZXdlciIsIl9zY2VuZSIsIl90b29sdGlwIiwiY3JlYXRlVG9vbHRpcCIsImNvbnRhaW5lciIsIl9zdXJmYWNlcyIsImRlZmluZWQiLCJDb250ZXh0TGltaXRzIiwiX21heGltdW1BbGlhc2VkTGluZVdpZHRoIiwiaW5pdGlhbGlzZUhhbmRsZXJzIiwiZW5oYW5jZVByaW1pdGl2ZXMiLCJlbmhhbmNlV2l0aExpc3RlbmVycyIsInByb3RvdHlwZSIsIl9zZWxmIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwiY2FudmFzIiwiY2FsbFByaW1pdGl2ZUNhbGxiYWNrIiwibmFtZSIsIl9oYW5kbGVyc011dGVkIiwicGlja2VkT2JqZWN0IiwicGljayIsInByaW1pdGl2ZSIsImlkIiwiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsIm1hdGNoIiwic2V0SW5wdXRBY3Rpb24iLCJtb3ZlbWVudCIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsIkxFRlRfRE9VQkxFX0NMSUNLIiwibW91c2VPdXRPYmplY3QiLCJlbmRQb3NpdGlvbiIsImlzRGVzdHJveWVkIiwibW91c2VPdXQiLCJtb3VzZU1vdmUiLCJNT1VTRV9NT1ZFIiwiTEVGVF9VUCIsIkxFRlRfRE9XTiIsInNldExpc3RlbmVyIiwidHlwZSIsImNhbGxiYWNrIiwibXV0ZUhhbmRsZXJzIiwibXV0ZWQiLCJyZWdpc3RlckVkaXRhYmxlU2hhcGUiLCJzdXJmYWNlIiwic2V0SGlnaGxpZ2h0ZWQiLCJfZWRpdE1vZGUiLCJzaG93QXQiLCJzZXRWaXNpYmxlIiwic2V0RWRpdE1vZGUiLCJzdGFydERyYXdpbmciLCJjbGVhblVwIiwiZGlzYWJsZUFsbEVkaXRNb2RlIiwiZWRpdENsZWFuVXAiLCJzdG9wRHJhd2luZyIsImRpc2FibGVBbGxIaWdobGlnaHRzIiwidW5kZWZpbmVkIiwiX2hpZ2hsaWdodGVkU3VyZmFjZSIsInNldEVkaXRlZCIsIl9lZGl0ZWRTdXJmYWNlIiwibWF0ZXJpYWwiLCJNYXRlcmlhbCIsImZyb21UeXBlIiwiQ29sb3JUeXBlIiwidW5pZm9ybXMiLCJjb2xvciIsIkNvbG9yIiwiZGVmYXVsdFNoYXBlT3B0aW9ucyIsInRleHR1cmVSb3RhdGlvbkFuZ2xlIiwiaGVpZ2h0IiwiYXN5bmNocm9ub3VzIiwic2hvdyIsImRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lIiwic3RyYXRlZ3kiLCJwaWNrU3RyYXRlZ3kiLCJkZWZhdWx0U3VyZmFjZU9wdGlvbnMiLCJjb3B5T3B0aW9ucyIsImFwcGVhcmFuY2UiLCJFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSIsImFib3ZlR3JvdW5kIiwiZ3JhbnVsYXJpdHkiLCJNYXRoIiwiUEkiLCJkZWZhdWx0UG9seWdvbk9wdGlvbnMiLCJkZWZhdWx0RXh0ZW50T3B0aW9ucyIsImRlZmF1bHRDaXJjbGVPcHRpb25zIiwiZGVmYXVsdEVsbGlwc2VPcHRpb25zIiwicm90YXRpb24iLCJkZWZhdWx0UG9seWxpbmVPcHRpb25zIiwid2lkdGgiLCJnZW9kZXNpYyIsIlBvbHlsaW5lTWF0ZXJpYWxBcHBlYXJhbmNlIiwiQ2hhbmdlYWJsZVByaW1pdGl2ZSIsImluaXRpYWxpc2VPcHRpb25zIiwib3B0aW9ucyIsImZpbGxPcHRpb25zIiwiX2VsbGlwc29pZCIsIl9ncmFudWxhcml0eSIsIl9oZWlnaHQiLCJfdGV4dHVyZVJvdGF0aW9uQW5nbGUiLCJfaWQiLCJfY3JlYXRlUHJpbWl0aXZlIiwiX3ByaW1pdGl2ZSIsIl9vdXRsaW5lUG9seWdvbiIsInNldEF0dHJpYnV0ZSIsInZhbHVlIiwiZ2V0QXR0cmlidXRlIiwidXBkYXRlIiwiY29udGV4dCIsImZyYW1lU3RhdGUiLCJjb21tYW5kTGlzdCIsIkRldmVsb3BlckVycm9yIiwiZ2VvbWV0cnkiLCJnZXRHZW9tZXRyeSIsImRlc3Ryb3kiLCJtZSIsIlByaW1pdGl2ZSIsImdlb21ldHJ5SW5zdGFuY2VzIiwiR2VvbWV0cnlJbnN0YW5jZSIsInBpY2tQcmltaXRpdmUiLCJzdHJva2VDb2xvciIsImdldE91dGxpbmVHZW9tZXRyeSIsImF0dHJpYnV0ZXMiLCJDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUiLCJmcm9tQ29sb3IiLCJQZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZSIsImZsYXQiLCJyZW5kZXJTdGF0ZSIsImRlcHRoVGVzdCIsImVuYWJsZWQiLCJsaW5lV2lkdGgiLCJtaW4iLCJzdHJva2VXaWR0aCIsImRlc3Ryb3lPYmplY3QiLCJzZXRTdHJva2VTdHlsZSIsImVxdWFscyIsIkV4dGVudFByaW1pdGl2ZSIsImV4dGVudCIsInNldEV4dGVudCIsImdldEV4dGVudCIsIlJlY3RhbmdsZUdlb21ldHJ5IiwicmVjdGFuZ2xlIiwidmVydGV4Rm9ybWF0IiwiVkVSVEVYX0ZPUk1BVCIsInN0Um90YXRpb24iLCJSZWN0YW5nbGVPdXRsaW5lR2VvbWV0cnkiLCJQb2x5Z29uUHJpbWl0aXZlIiwiaXNQb2x5Z29uIiwic2V0UG9zaXRpb25zIiwicG9zaXRpb25zIiwiZ2V0UG9zaXRpb25zIiwibGVuZ3RoIiwiUG9seWdvbkdlb21ldHJ5IiwiZnJvbVBvc2l0aW9ucyIsIlBvbHlnb25PdXRsaW5lR2VvbWV0cnkiLCJDaXJjbGVQcmltaXRpdmUiLCJjZW50ZXIiLCJyYWRpdXMiLCJzZXRSYWRpdXMiLCJzZXRDZW50ZXIiLCJtYXgiLCJnZXRDZW50ZXIiLCJnZXRSYWRpdXMiLCJDaXJjbGVHZW9tZXRyeSIsIkNpcmNsZU91dGxpbmVHZW9tZXRyeSIsIkVsbGlwc2VQcmltaXRpdmUiLCJzZW1pTWFqb3JBeGlzIiwic2VtaU1pbm9yQXhpcyIsInNldFNlbWlNYWpvckF4aXMiLCJnZXRTZW1pTWlub3JBeGlzIiwic2V0U2VtaU1pbm9yQXhpcyIsImdldFNlbWlNYWpvckF4aXMiLCJzZXRSb3RhdGlvbiIsImdldFJvdGF0aW9uIiwiRWxsaXBzZUdlb21ldHJ5IiwiRWxsaXBzZU91dGxpbmVHZW9tZXRyeSIsIlBvbHlsaW5lUHJpbWl0aXZlIiwic2V0V2lkdGgiLCJzZXRHZW9kZXNpYyIsImdldFdpZHRoIiwiZ2V0R2VvZGVzaWMiLCJQb2x5bGluZUdlb21ldHJ5IiwiZGVmYXVsdEJpbGxib2FyZCIsImljb25VcmwiLCJzaGlmdFgiLCJzaGlmdFkiLCJkcmFnQmlsbGJvYXJkIiwiZHJhZ0hhbGZCaWxsYm9hcmQiLCJjcmVhdGVCaWxsYm9hcmRHcm91cCIsInBvaW50cyIsImNhbGxiYWNrcyIsIm1hcmtlcnMiLCJCaWxsYm9hcmRHcm91cCIsImFkZEJpbGxib2FyZHMiLCJkcmF3SGVscGVyIiwiX2RyYXdIZWxwZXIiLCJfb3B0aW9ucyIsImIiLCJCaWxsYm9hcmRDb2xsZWN0aW9uIiwicHJpbWl0aXZlcyIsImFkZCIsIl9iaWxsYm9hcmRzIiwiX29yZGVyZWRCaWxsYm9hcmRzIiwiY3JlYXRlQmlsbGJvYXJkIiwiYmlsbGJvYXJkIiwicGl4ZWxPZmZzZXQiLCJDYXJ0ZXNpYW4yIiwiZXllT2Zmc2V0IiwiQ2FydGVzaWFuMyIsImhvcml6b250YWxPcmlnaW4iLCJIb3Jpem9udGFsT3JpZ2luIiwiQ0VOVEVSIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsInNjYWxlIiwiaW1hZ2UiLCJlbmFibGVSb3RhdGlvbiIsImVuYWJsZSIsInNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlciIsImVuYWJsZVJvdGF0ZSIsImdldEluZGV4IiwiaSIsIkkiLCJkcmFnSGFuZGxlcnMiLCJvbkRyYWciLCJvbkRyYWdFbmQiLCJjYXJ0ZXNpYW4iLCJvbkRyYWdTdGFydCIsIm9uRG91YmxlQ2xpY2siLCJvbkNsaWNrIiwidG9vbHRpcCIsImluc2VydEJpbGxib2FyZCIsImluZGV4Iiwic3BsaWNlIiwiYWRkQmlsbGJvYXJkIiwicHVzaCIsInVwZGF0ZUJpbGxib2FyZHNQb3NpdGlvbnMiLCJnZXRCaWxsYm9hcmQiLCJjb3VudEJpbGxib2FyZHMiLCJyZW1vdmVCaWxsYm9hcmQiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJzZXRPblRvcCIsInJhaXNlVG9Ub3AiLCJzdGFydERyYXdpbmdNYXJrZXIiLCJtb3VzZUhhbmRsZXIiLCJnZXREaXNwbGF5TGF0TG5nU3RyaW5nIiwiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLCJzdGFydERyYXdpbmdQb2x5Z29uIiwic3RhcnREcmF3aW5nUG9seXNoYXBlIiwic3RhcnREcmF3aW5nUG9seWxpbmUiLCJwb2x5IiwibWluUG9pbnRzIiwiZ2V0Q2VzaXVtSGlnaHRaZXJvIiwiY2xvbmUiLCJwb3AiLCJ5IiwiRVBTSUxPTjciLCJnZXRFeHRlbnRDb3JuZXJzIiwiY2FydG9ncmFwaGljQXJyYXlUb0NhcnRlc2lhbkFycmF5IiwiUmVjdGFuZ2xlIiwibm9ydGh3ZXN0Iiwibm9ydGhlYXN0Iiwic291dGhlYXN0Iiwic291dGh3ZXN0Iiwic3RhcnREcmF3aW5nRXh0ZW50IiwiZmlyc3RQb2ludCIsInVwZGF0ZUV4dGVudCIsImNvcm5lcnMiLCJzdGFydERyYXdpbmdDaXJjbGUiLCJjaXJjbGUiLCJwaWNrUG9zaXRpb24iLCJkaXN0YW5jZSIsIkJpbGxib2FyZCIsInNldEVkaXRhYmxlIiwiX2VkaXRhYmxlIiwiZXhlY3V0ZUxpc3RlbmVycyIsIkVudGl0eSIsImVkaXRhYmxlIiwicmVtb3ZlTGlzdGVuZXIiLCJtb2RlVHlwZSIsImhpZ2hsaWdodGVkIiwiX2hpZ2hsaWdodGVkIiwiX3N0cm9rZUNvbG9yIiwiZnJvbUNzc0NvbG9yU3RyaW5nIiwiZWRpdE1vZGUiLCJfbWFya2VycyIsInVwZGF0ZUhhbGZNYXJrZXJzIiwiZWRpdEluZGV4IiwiZWRpdE1hcmtlcnMiLCJjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24iLCJvbkVkaXRlZCIsImNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuIiwiRWxsaXBzb2lkR2VvZGVzaWMiLCJpbnRlcnBvbGF0ZVVzaW5nRnJhY3Rpb24iLCJ0aGlzRHJhZ0JpbGxib2FyZCIsInRoaXNEcmFnSGFsZkJpbGxib2FyZCIsImhhbmRsZU1hcmtlckNoYW5nZXMiLCJoYWxmUG9zaXRpb25zIiwiaGFuZGxlRWRpdE1hcmtlckNoYW5nZXMiLCJfZWRpdE1hcmtlcnMiLCJfZ2xvYmVDbGlja2hhbmRsZXIiLCJwb2x5bGluZSIsIm9yaWdpbmFsV2lkdGgiLCJFeHRlbnQiLCJmcm9tQ2FydG9ncmFwaGljQXJyYXkiLCJjYXJ0ZXNpYW5BcnJheVRvQ2FydG9ncmFwaGljQXJyYXkiLCJwb2x5Z29uIiwiY29ybmVyIiwiZSIsImVsbGlwc2UiLCJnZXRNYXJrZXJQb3NpdGlvbnMiLCJTaGFwZXMiLCJjb21wdXRlRWxsaXBzZUJvdW5kYXJ5IiwiZ2V0Q2lyY2xlQ2FydGVzaWFuQ29vcmRpbmF0ZXMiLCJjcmVhdGVHZW9tZXRyeSIsImNvdW50IiwidmFsdWVzIiwiUElfT1ZFUl9UV08iLCJEcmF3SGVscGVyV2lkZ2V0IiwiZHJhd09wdGlvbnMiLCJtYXJrZXJJY29uIiwicG9seWxpbmVJY29uIiwicG9seWdvbkljb24iLCJjaXJjbGVJY29uIiwiZXh0ZW50SWNvbiIsImNsZWFySWNvbiIsInBvbHlsaW5lRHJhd2luZ09wdGlvbnMiLCJwb2x5Z29uRHJhd2luZ09wdGlvbnMiLCJleHRlbnREcmF3aW5nT3B0aW9ucyIsImNpcmNsZURyYXdpbmdPcHRpb25zIiwidG9vbGJhciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiYWRkSWNvbiIsInVybCIsInRpdGxlIiwiZGl2Iiwib25jbGljayIsImJ1dHRvbnMiLCJpbmRleE9mIiwiY2xpY2tDYWxsYmFjayIsImFkZFRvb2xiYXIiLCJtbiIsIm14Iiwid2VzdCIsImxvbmdpdHVkZSIsImVhc3QiLCJzb3V0aCIsImxhdGl0dWRlIiwibm9ydGgiLCJlcHNpbG9uIiwiZnJhbWVEaXYiLCJhcnJvdyIsIl9kaXYiLCJfdGl0bGUiLCJhZGRFdmVudCIsInZpc2libGUiLCJzdHlsZSIsImRpc3BsYXkiLCJtZXNzYWdlIiwiaW5uZXJIVE1MIiwiYm9keSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImxlZnQiLCJvZmZzZXRYIiwidG9wIiwib2Zmc2V0WSIsImNsaWVudEhlaWdodCIsImNhcnRvZ3JhcGhpYyIsInByZWNpc2lvbiIsInRvRml4ZWQiLCJmcm9tIiwidG8iLCJPYmplY3QiLCJBcnJheSIsIkRhdGUiLCJSZWdFeHAiLCJGdW5jdGlvbiIsIlN0cmluZyIsIk51bWJlciIsIkJvb2xlYW4iLCJkZWZhdWx0T3B0aW9ucyIsIm9wdGlvbiIsIm5ld09wdGlvbnMiLCJleHRlbmRPcHRpb25zIiwiZWxlbWVudCIsIl9saXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwiZGVmYXVsdENhbGxiYWNrIiwiY2VzaXVtMyIsImZyb21DYXJ0ZXNpYW4iLCJDYXJ0b2dyYXBoaWMiLCJmcm9tUmFkaWFucyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJDLFVBQVNBLGdDQUFULENBQTBDQyxJQUExQyxFQUFnREMsT0FBaEQsRUFBeUQ7QUFDdEQsUUFBSSw4QkFBT0MsT0FBUCxPQUFtQixRQUFuQixJQUErQiw4QkFBT0MsTUFBUCxPQUFrQixRQUFyRCxFQUNJQSxPQUFPRCxPQUFQLEdBQWlCRCxRQUFRRyxtQkFBT0EsQ0FBQyxDQUFSLENBQVIsQ0FBakIsQ0FESixLQUVLLElBQUksSUFBSixFQUNEQyxpQ0FBcUIsQ0FBQyxzQkFBRCxDQUFyQixvQ0FBaUNKLE9BQWpDO0FBQUE7QUFBQTtBQUFBLHFHQURDLEtBRUEsRUFFSjtB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Yy9DLFNBQTVDLEVBQXVEK0MsY0FBYzVDLFFBQXJFLEVBQStFLENBQS9FLENBQVA7QUFDSDs7QUFHRCxXQUFPblcsQ0FBUDtBQUNILENBem5FQSxDQUFELEMiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSB0aG9tYXMgb24gOS8wMS8xNC5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIChjKSB3d3cuZ2VvY2VudG8uY29tXHJcbiAqIHd3dy5tZXRhYXBzLmNvbVxyXG4gKiA8cHJlPlxyXG4gKiAgICAgIHVwZGF0ZTpcclxuICogICAgICAgICAgMjAxOC05LTE3OlxyXG4gKiAgICAgICAgICAgICAgLSBwaWNrU3RyYXRlZ3nlsZ7mgKflhbzlrrnmgKdcclxuICogICAgICAgICAgICAgIC0g6YCC6YWNc3RvcERyYXdpbmflnKjmnKrlvIDlp4vmoIfnu5jnmoTmg4XlhrVcclxuICogICAgICAgICAgMjAxOS05LTI0OlxyXG4gKiAgICAgICAgICAgICAgLSDlr7nlsZ7mgKfluKbmnIltb2RlVHlwZTpiaWxsYm9hcmTnmoRlbnRpdHnliqDlhaVzZXRFZGl0YWJsZShib29sZWFuKeeahOaWueazlSznlKjkuo7mlLnlj5jkvY3nva5cclxuICogPC9wcmU+XHJcbiAqXHJcbiAqL1xyXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnQ2VzaXVtJykpO1xyXG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxyXG4gICAgICAgIGRlZmluZSgnRHJhd0hlbHBlcicsIFsnQ2VzaXVtJ10sIGZhY3RvcnkpO1xyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcm9vdC5EcmF3SGVscGVyID0gZmFjdG9yeShyb290LkNlc2l1bSk7XHJcbiAgICB9XHJcbn0od2luZG93LCBmdW5jdGlvbiAoQ2VzaXVtKSB7XHJcbiAgICAvLyBzdGF0aWMgdmFyaWFibGVzXHJcbiAgICB2YXIgZWxsaXBzb2lkID0gQ2VzaXVtLkVsbGlwc29pZC5XR1M4NDtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyBDZXNpdW0uQ2FydGVzaWFuMn0gcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLlZpZXdlcn0gdmlld2VyXHJcbiAgICAgKiBAcmV0dXJuIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRQaWNrU3RyYXRlZ3kgPSBmdW5jdGlvbiAocG9zaXRpb24sIHZpZXdlcikge1xyXG4gICAgICAgIHJldHVybiB2aWV3ZXIuc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjb25zdHJ1Y3RvclxyXG4gICAgZnVuY3Rpb24gXyhjZXNpdW1XaWRnZXQpIHtcclxuICAgICAgICB0aGlzLl92aWV3ZXIgPSBjZXNpdW1XaWRnZXQ7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUgPSBjZXNpdW1XaWRnZXQuc2NlbmU7XHJcbiAgICAgICAgdGhpcy5fdG9vbHRpcCA9IGNyZWF0ZVRvb2x0aXAoY2VzaXVtV2lkZ2V0LmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fc3VyZmFjZXMgPSBbXTtcclxuICAgICAgICAvL+mAgumFjVxyXG4gICAgICAgIChDZXNpdW0uZGVmaW5lZChDZXNpdW0uQ29udGV4dExpbWl0cykpICYmIChcclxuICAgICAgICAgICAgQ2VzaXVtLkNvbnRleHRMaW1pdHMuX21heGltdW1BbGlhc2VkTGluZVdpZHRoID0gMTApO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxpc2VIYW5kbGVycygpO1xyXG5cclxuICAgICAgICB0aGlzLmVuaGFuY2VQcmltaXRpdmVzKCk7XHJcbiAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnModGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuaW5pdGlhbGlzZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzY2VuZSA9IHRoaXMuX3NjZW5lO1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy8gc2NlbmUgZXZlbnRzXHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxQcmltaXRpdmVDYWxsYmFjayhuYW1lLCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoX3NlbGYuX2hhbmRsZXJzTXV0ZWQgPT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgcGlja2VkT2JqZWN0ID0gc2NlbmUucGljayhwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LnByaW1pdGl2ZSAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBwaWNrZWRPYmplY3QucHJpbWl0aXZlW25hbWVdKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5pZCAmJiBwaWNrZWRPYmplY3QuaWQuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKihbXlxccyhdKykvKVsxXSA9PT0gXCJFbnRpdHlcIiAmJiBwaWNrZWRPYmplY3QuaWRbbmFtZV0pe1xyXG4gICAgICAgICAgICAgICAgcGlja2VkT2JqZWN0LmlkW25hbWVdKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrKCdsZWZ0Q2xpY2snLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxQcmltaXRpdmVDYWxsYmFjaygnbGVmdERvdWJsZUNsaWNrJywgbW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9ET1VCTEVfQ0xJQ0spO1xyXG4gICAgICAgIHZhciBtb3VzZU91dE9iamVjdDtcclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfc2VsZi5faGFuZGxlcnNNdXRlZCA9PSB0cnVlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB2YXIgcGlja2VkT2JqZWN0ID0gc2NlbmUucGljayhtb3ZlbWVudC5lbmRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW91c2VPdXRPYmplY3QgJiYgKCFwaWNrZWRPYmplY3QgfHwgbW91c2VPdXRPYmplY3QgIT0gcGlja2VkT2JqZWN0LnByaW1pdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAhKG1vdXNlT3V0T2JqZWN0LmlzRGVzdHJveWVkICYmIG1vdXNlT3V0T2JqZWN0LmlzRGVzdHJveWVkKCkpICYmIG1vdXNlT3V0T2JqZWN0Lm1vdXNlT3V0KG1vdmVtZW50LmVuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZU91dE9iamVjdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5wcmltaXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWNrZWRPYmplY3QgPSBwaWNrZWRPYmplY3QucHJpbWl0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZWRPYmplY3QubW91c2VPdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VPdXRPYmplY3QgPSBwaWNrZWRPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZWRPYmplY3QubW91c2VNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlZE9iamVjdC5tb3VzZU1vdmUobW92ZW1lbnQuZW5kUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrKCdsZWZ0VXAnLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX1VQKTtcclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxQcmltaXRpdmVDYWxsYmFjaygnbGVmdERvd24nLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPV04pO1xyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnNldExpc3RlbmVyID0gZnVuY3Rpb24gKHByaW1pdGl2ZSwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBwcmltaXRpdmVbdHlwZV0gPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5tdXRlSGFuZGxlcnMgPSBmdW5jdGlvbiAobXV0ZWQpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVyc011dGVkID0gbXV0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxpbmcgZm9yIGFuIGVkaXRhYmxlIHNoYXBlXHJcbiAgICAvLyBzaGFwZSBzaG91bGQgaW1wbGVtZW50IHNldEVkaXRNb2RlIGFuZCBzZXRIaWdobGlnaHRlZFxyXG4gICAgXy5wcm90b3R5cGUucmVnaXN0ZXJFZGl0YWJsZVNoYXBlID0gZnVuY3Rpb24gKHN1cmZhY2UpIHtcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBoYW5kbGVycyBmb3IgaW50ZXJhY3Rpb25zXHJcbiAgICAgICAgLy8gaGlnaGxpZ2h0IHBvbHlnb24gd2hlbiBtb3VzZSBpcyBlbnRlcmluZ1xyXG4gICAgICAgIHNldExpc3RlbmVyKHN1cmZhY2UsICdtb3VzZU1vdmUnLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgc3VyZmFjZS5zZXRIaWdobGlnaHRlZCh0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCFzdXJmYWNlLl9lZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgX3NlbGYuX3Rvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIkNsaWNrIHRvIGVkaXQgdGhpcyBzaGFwZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGhpZGUgdGhlIGhpZ2hsaWdodGluZyB3aGVuIG1vdXNlIGlzIGxlYXZpbmcgdGhlIHBvbHlnb25cclxuICAgICAgICBzZXRMaXN0ZW5lcihzdXJmYWNlLCAnbW91c2VPdXQnLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgc3VyZmFjZS5zZXRIaWdobGlnaHRlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIF9zZWxmLl90b29sdGlwLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldExpc3RlbmVyKHN1cmZhY2UsICdsZWZ0Q2xpY2snLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgc3VyZmFjZS5zZXRFZGl0TW9kZSh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmcgPSBmdW5jdGlvbiAoY2xlYW5VcCkge1xyXG4gICAgICAgIC8vIHVuZG8gYW55IGN1cnJlbnQgZWRpdCBvZiBzaGFwZXNcclxuICAgICAgICB0aGlzLmRpc2FibGVBbGxFZGl0TW9kZSgpO1xyXG4gICAgICAgIC8vIGNoZWNrIGZvciBjbGVhblVwIGZpcnN0XHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdENsZWFuVXApIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0Q2xlYW5VcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVkaXRDbGVhblVwID0gY2xlYW5VcDtcclxuICAgICAgICB0aGlzLm11dGVIYW5kbGVycyh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdG9wRHJhd2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjaGVjayBmb3IgY2xlYW5VcCBmaXJzdFxyXG4gICAgICAgIGlmICh0aGlzLmVkaXRDbGVhblVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdENsZWFuVXAoKTtcclxuICAgICAgICAgICAgdGhpcy5lZGl0Q2xlYW5VcCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubXV0ZUhhbmRsZXJzKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYWtlIHN1cmUgb25seSBvbmUgc2hhcGUgaXMgaGlnaGxpZ2h0ZWQgYXQgYSB0aW1lXHJcbiAgICBfLnByb3RvdHlwZS5kaXNhYmxlQWxsSGlnaGxpZ2h0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNldEhpZ2hsaWdodGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0ZWQgPSBmdW5jdGlvbiAoc3VyZmFjZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oaWdobGlnaHRlZFN1cmZhY2UgJiYgIXRoaXMuX2hpZ2hsaWdodGVkU3VyZmFjZS5pc0Rlc3Ryb3llZCgpICYmIHRoaXMuX2hpZ2hsaWdodGVkU3VyZmFjZSAhPSBzdXJmYWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodGVkU3VyZmFjZS5zZXRIaWdobGlnaHRlZChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodGVkU3VyZmFjZSA9IHN1cmZhY2U7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuZGlzYWJsZUFsbEVkaXRNb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RWRpdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc2V0RWRpdGVkID0gZnVuY3Rpb24gKHN1cmZhY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5fZWRpdGVkU3VyZmFjZSAmJiAhdGhpcy5fZWRpdGVkU3VyZmFjZS5pc0Rlc3Ryb3llZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VkaXRlZFN1cmZhY2Uuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lZGl0ZWRTdXJmYWNlID0gc3VyZmFjZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbWF0ZXJpYWwgPSBDZXNpdW0uTWF0ZXJpYWwuZnJvbVR5cGUoQ2VzaXVtLk1hdGVyaWFsLkNvbG9yVHlwZSk7XHJcbiAgICBtYXRlcmlhbC51bmlmb3Jtcy5jb2xvciA9IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAxLjAsIDAuMCwgMC41KTtcclxuXHJcbiAgICB2YXIgZGVmYXVsdFNoYXBlT3B0aW9ucyA9IHtcclxuICAgICAgICBlbGxpcHNvaWQ6IENlc2l1bS5FbGxpcHNvaWQuV0dTODQsXHJcbiAgICAgICAgdGV4dHVyZVJvdGF0aW9uQW5nbGU6IDAuMCxcclxuICAgICAgICBoZWlnaHQ6IDAuMCxcclxuICAgICAgICBhc3luY2hyb25vdXM6IHRydWUsXHJcbiAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICBkZWJ1Z1Nob3dCb3VuZGluZ1ZvbHVtZTogZmFsc2UsXHJcbiAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBkZWZhdWx0UGlja1N0cmF0ZWd5XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0U3VyZmFjZU9wdGlvbnMgPSBjb3B5T3B0aW9ucyhkZWZhdWx0U2hhcGVPcHRpb25zLCB7XHJcbiAgICAgICAgYXBwZWFyYW5jZTogbmV3IENlc2l1bS5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSh7XHJcbiAgICAgICAgICAgIGFib3ZlR3JvdW5kOiBmYWxzZVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCxcclxuICAgICAgICBncmFudWxhcml0eTogTWF0aC5QSSAvIDE4MC4wLFxyXG4gICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgIHBpY2tTdHJhdGVneTogZGVmYXVsdFBpY2tTdHJhdGVneVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBkZWZhdWx0UG9seWdvbk9wdGlvbnMgPSBjb3B5T3B0aW9ucyhkZWZhdWx0U2hhcGVPcHRpb25zLCB7fSk7XHJcbiAgICB2YXIgZGVmYXVsdEV4dGVudE9wdGlvbnMgPSBjb3B5T3B0aW9ucyhkZWZhdWx0U2hhcGVPcHRpb25zLCB7fSk7XHJcbiAgICB2YXIgZGVmYXVsdENpcmNsZU9wdGlvbnMgPSBjb3B5T3B0aW9ucyhkZWZhdWx0U2hhcGVPcHRpb25zLCB7fSk7XHJcbiAgICB2YXIgZGVmYXVsdEVsbGlwc2VPcHRpb25zID0gY29weU9wdGlvbnMoZGVmYXVsdFN1cmZhY2VPcHRpb25zLCB7cm90YXRpb246IDB9KTtcclxuXHJcbiAgICB2YXIgZGVmYXVsdFBvbHlsaW5lT3B0aW9ucyA9IGNvcHlPcHRpb25zKGRlZmF1bHRTaGFwZU9wdGlvbnMsIHtcclxuICAgICAgICB3aWR0aDogNSxcclxuICAgICAgICBnZW9kZXNpYzogdHJ1ZSxcclxuICAgICAgICBncmFudWxhcml0eTogMTAwMDAsXHJcbiAgICAgICAgYXBwZWFyYW5jZTogbmV3IENlc2l1bS5Qb2x5bGluZU1hdGVyaWFsQXBwZWFyYW5jZSh7XHJcbiAgICAgICAgICAgIGFib3ZlR3JvdW5kOiBmYWxzZVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbFxyXG4gICAgfSk7XHJcblxyXG5cclxuLy8gICAgQ2VzaXVtLlBvbHlnb24ucHJvdG90eXBlLnNldFN0cm9rZVN0eWxlID0gc2V0U3Ryb2tlU3R5bGU7XHJcbi8vXHJcbi8vICAgIENlc2l1bS5Qb2x5Z29uLnByb3RvdHlwZS5kcmF3T3V0bGluZSA9IGRyYXdPdXRsaW5lO1xyXG4vL1xyXG5cclxuICAgIHZhciBDaGFuZ2VhYmxlUHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBfKCkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuaW5pdGlhbGlzZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgZmlsbE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9lbGxpcHNvaWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyYW51bGFyaXR5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVSb3RhdGlvbkFuZ2xlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgZmxhZ3MgdG8gaW5pdGlhdGUgYSBmaXJzdCBkcmF3aW5nXHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByaW1pdGl2ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5fb3V0bGluZVBvbHlnb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1tuYW1lXTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF8ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlLCBjb21tYW5kTGlzdCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDZXNpdW0uZGVmaW5lZCh0aGlzLmVsbGlwc29pZCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDZXNpdW0uRGV2ZWxvcGVyRXJyb3IoJ3RoaXMuZWxsaXBzb2lkIG11c3QgYmUgZGVmaW5lZC4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFDZXNpdW0uZGVmaW5lZCh0aGlzLmFwcGVhcmFuY2UpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2VzaXVtLkRldmVsb3BlckVycm9yKCd0aGlzLm1hdGVyaWFsIG11c3QgYmUgZGVmaW5lZC4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JhbnVsYXJpdHkgPCAwLjApIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDZXNpdW0uRGV2ZWxvcGVyRXJyb3IoJ3RoaXMuZ3JhbnVsYXJpdHkgYW5kIHNjZW5lMkQvc2NlbmUzRCBvdmVycmlkZXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyby4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jcmVhdGVQcmltaXRpdmUgJiYgKCFDZXNpdW0uZGVmaW5lZCh0aGlzLl9wcmltaXRpdmUpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gcG9zaXRpb25zL2hpZXJhcmNoeSB0byBkcmF3XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVQcmltaXRpdmUgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLl9lbGxpcHNvaWQgIT09IHRoaXMuZWxsaXBzb2lkKSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX2dyYW51bGFyaXR5ICE9PSB0aGlzLmdyYW51bGFyaXR5KSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX2hlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5fdGV4dHVyZVJvdGF0aW9uQW5nbGUgIT09IHRoaXMudGV4dHVyZVJvdGF0aW9uQW5nbGUpIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5faWQgIT09IHRoaXMuaWQpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVQcmltaXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsbGlwc29pZCA9IHRoaXMuZWxsaXBzb2lkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JhbnVsYXJpdHkgPSB0aGlzLmdyYW51bGFyaXR5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlUm90YXRpb25BbmdsZSA9IHRoaXMudGV4dHVyZVJvdGF0aW9uQW5nbGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJpbWl0aXZlID0gdGhpcy5fcHJpbWl0aXZlICYmIHRoaXMuX3ByaW1pdGl2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJpbWl0aXZlID0gbmV3IENlc2l1bS5QcmltaXRpdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBuZXcgQ2VzaXVtLkdlb21ldHJ5SW5zdGFuY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrUHJpbWl0aXZlOiB0aGlzXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZTogdGhpcy5hcHBlYXJhbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jaHJvbm91czogdGhpcy5hc3luY2hyb25vdXNcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fcHJpbWl0aXZlID0gbmV3IENlc2l1bS5Hcm91bmRQcmltaXRpdmUoe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBuZXcgQ2VzaXVtLkdlb21ldHJ5SW5zdGFuY2Uoe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlkOiBtZS5pZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcGlja1ByaW1pdGl2ZTogbWVcclxuICAgICAgICAgICAgICAgIC8vICAgICB9KSxcclxuICAgICAgICAgICAgICAgIC8vICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIGNvbG9yIDogIENlc2l1bS5Db2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNvbG9yKENlc2l1bS5Db2xvci5CTFVFLndpdGhBbHBoYSgwLjUpKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb2xvcjogQ2VzaXVtLkNvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3IodGhpcy5zdHJva2VDb2xvcilcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vdXRsaW5lUG9seWdvbiA9IHRoaXMuX291dGxpbmVQb2x5Z29uICYmIHRoaXMuX291dGxpbmVQb2x5Z29uLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZUNvbG9yICYmIHRoaXMuZ2V0T3V0bGluZUdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBoaWdobGlnaHRpbmcgZnJhbWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vdXRsaW5lUG9seWdvbiA9IG5ldyBDZXNpdW0uUHJpbWl0aXZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZXRPdXRsaW5lR2VvbWV0cnkoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ2VzaXVtLkNvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3IodGhpcy5zdHJva2VDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5ldyBDZXNpdW0uUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogTWF0aC5taW4odGhpcy5zdHJva2VXaWR0aCB8fCA0LjApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwcmltaXRpdmUgPSB0aGlzLl9wcmltaXRpdmU7XHJcbiAgICAgICAgICAgIC8vIHByaW1pdGl2ZS5hcHBlYXJhbmNlLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICAgICAgLy8gcHJpbWl0aXZlLmFwcGVhcmFuY2UgPSB0aGlzLmFwcGVhcmFuY2U7XHJcbiAgICAgICAgICAgIHByaW1pdGl2ZS5hcHBlYXJhbmNlLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICAgICAgLy8gcHJpbWl0aXZlLmRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lID0gdGhpcy5kZWJ1Z1Nob3dCb3VuZGluZ1ZvbHVtZTtcclxuICAgICAgICAgICAgcHJpbWl0aXZlLnVwZGF0ZShjb250ZXh0LCBmcmFtZVN0YXRlLCBjb21tYW5kTGlzdCk7XHJcbiAgICAgICAgICAgIC8vZGVidWdcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY29udGV4dClcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZnJhbWVTdGF0ZSlcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY29tbWFuZExpc3QpXHJcbiAgICAgICAgICAgIHRoaXMuX291dGxpbmVQb2x5Z29uICYmIHRoaXMuX291dGxpbmVQb2x5Z29uLnVwZGF0ZShjb250ZXh0LCBmcmFtZVN0YXRlLCBjb21tYW5kTGlzdCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJpbWl0aXZlID0gdGhpcy5fcHJpbWl0aXZlICYmIHRoaXMuX3ByaW1pdGl2ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBDZXNpdW0uZGVzdHJveU9iamVjdCh0aGlzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChzdHJva2VDb2xvciwgc3Ryb2tlV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cm9rZUNvbG9yIHx8ICF0aGlzLnN0cm9rZUNvbG9yLmVxdWFscyhzdHJva2VDb2xvcikgfHwgdGhpcy5zdHJva2VXaWR0aCAhPSBzdHJva2VXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgPSBzdHJva2VDb2xvcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlV2lkdGggPSBzdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIF87XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIF8uRXh0ZW50UHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBfKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghQ2VzaXVtLmRlZmluZWQob3B0aW9ucy5leHRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2VzaXVtLkRldmVsb3BlckVycm9yKCdFeHRlbnQgaXMgcmVxdWlyZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTdXJmYWNlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpc2VPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRFeHRlbnQob3B0aW9ucy5leHRlbnQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlID0gbmV3IENoYW5nZWFibGVQcmltaXRpdmUoKTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0RXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZXh0ZW50JywgZXh0ZW50KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnZXh0ZW50Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUNlc2l1bS5kZWZpbmVkKHRoaXMuZXh0ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5SZWN0YW5nbGVHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICByZWN0YW5nbGU6IHRoaXMuZXh0ZW50LFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHZlcnRleEZvcm1hdDogQ2VzaXVtLkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQsXHJcbiAgICAgICAgICAgICAgICBzdFJvdGF0aW9uOiB0aGlzLnRleHR1cmVSb3RhdGlvbkFuZ2xlLFxyXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkOiB0aGlzLmVsbGlwc29pZCxcclxuICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiB0aGlzLmdyYW51bGFyaXR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldE91dGxpbmVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uUmVjdGFuZ2xlT3V0bGluZUdlb21ldHJ5KHtcclxuICAgICAgICAgICAgICAgIHJlY3RhbmdsZTogdGhpcy5leHRlbnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG4gICAgXy5Qb2x5Z29uUHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gXyhvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFN1cmZhY2VPcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGlzZU9wdGlvbnMob3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzUG9seWdvbiA9IHRydWU7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUgPSBuZXcgQ2hhbmdlYWJsZVByaW1pdGl2ZSgpO1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRQb3NpdGlvbnMgPSBmdW5jdGlvbiAocG9zaXRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdwb3NpdGlvbnMnLCBwb3NpdGlvbnMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldFBvc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbnMnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghQ2VzaXVtLmRlZmluZWQodGhpcy5wb3NpdGlvbnMpIHx8IHRoaXMucG9zaXRpb25zLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5Qb2x5Z29uR2VvbWV0cnkuZnJvbVBvc2l0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IHRoaXMucG9zaXRpb25zLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHZlcnRleEZvcm1hdDogQ2VzaXVtLkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQsXHJcbiAgICAgICAgICAgICAgICBzdFJvdGF0aW9uOiB0aGlzLnRleHR1cmVSb3RhdGlvbkFuZ2xlLFxyXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkOiB0aGlzLmVsbGlwc29pZCxcclxuICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiB0aGlzLmdyYW51bGFyaXR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldE91dGxpbmVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5Qb2x5Z29uT3V0bGluZUdlb21ldHJ5LmZyb21Qb3NpdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiB0aGlzLmdldFBvc2l0aW9ucygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIF87XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIF8uQ2lyY2xlUHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gXyhvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShDZXNpdW0uZGVmaW5lZChvcHRpb25zLmNlbnRlcikgJiYgQ2VzaXVtLmRlZmluZWQob3B0aW9ucy5yYWRpdXMpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENlc2l1bS5EZXZlbG9wZXJFcnJvcignQ2VudGVyIGFuZCByYWRpdXMgYXJlIHJlcXVpcmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U3VyZmFjZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0UmFkaXVzKG9wdGlvbnMucmFkaXVzKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VhYmxlUHJpbWl0aXZlKCk7XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldENlbnRlciA9IGZ1bmN0aW9uIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NlbnRlcicsIGNlbnRlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0UmFkaXVzID0gZnVuY3Rpb24gKHJhZGl1cykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgncmFkaXVzJywgTWF0aC5tYXgoMC4xLCByYWRpdXMpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnY2VudGVyJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0UmFkaXVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3JhZGl1cycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCEoQ2VzaXVtLmRlZmluZWQodGhpcy5jZW50ZXIpICYmIENlc2l1bS5kZWZpbmVkKHRoaXMucmFkaXVzKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uQ2lyY2xlR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcixcclxuICAgICAgICAgICAgICAgIHJhZGl1czogdGhpcy5yYWRpdXMsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgdmVydGV4Rm9ybWF0OiBDZXNpdW0uRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcclxuICAgICAgICAgICAgICAgIHN0Um90YXRpb246IHRoaXMudGV4dHVyZVJvdGF0aW9uQW5nbGUsXHJcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQ6IHRoaXMuZWxsaXBzb2lkLFxyXG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IHRoaXMuZ3JhbnVsYXJpdHlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0T3V0bGluZUdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5DaXJjbGVPdXRsaW5lR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmdldENlbnRlcigpLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIF87XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIF8uRWxsaXBzZVByaW1pdGl2ZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gXyhvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShDZXNpdW0uZGVmaW5lZChvcHRpb25zLmNlbnRlcikgJiYgQ2VzaXVtLmRlZmluZWQob3B0aW9ucy5zZW1pTWFqb3JBeGlzKSAmJiBDZXNpdW0uZGVmaW5lZChvcHRpb25zLnNlbWlNaW5vckF4aXMpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENlc2l1bS5EZXZlbG9wZXJFcnJvcignQ2VudGVyIGFuZCBzZW1pIG1ham9yIGFuZCBzZW1pIG1pbm9yIGF4aXMgYXJlIHJlcXVpcmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0RWxsaXBzZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VhYmxlUHJpbWl0aXZlKCk7XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldENlbnRlciA9IGZ1bmN0aW9uIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NlbnRlcicsIGNlbnRlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0U2VtaU1ham9yQXhpcyA9IGZ1bmN0aW9uIChzZW1pTWFqb3JBeGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZW1pTWFqb3JBeGlzIDwgdGhpcy5nZXRTZW1pTWlub3JBeGlzKCkpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3NlbWlNYWpvckF4aXMnLCBzZW1pTWFqb3JBeGlzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRTZW1pTWlub3JBeGlzID0gZnVuY3Rpb24gKHNlbWlNaW5vckF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKHNlbWlNaW5vckF4aXMgPiB0aGlzLmdldFNlbWlNYWpvckF4aXMoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnc2VtaU1pbm9yQXhpcycsIHNlbWlNaW5vckF4aXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCByb3RhdGlvbik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2NlbnRlcicpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldFNlbWlNYWpvckF4aXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnc2VtaU1ham9yQXhpcycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldFNlbWlNaW5vckF4aXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnc2VtaU1pbm9yQXhpcycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShDZXNpdW0uZGVmaW5lZCh0aGlzLmNlbnRlcikgJiYgQ2VzaXVtLmRlZmluZWQodGhpcy5zZW1pTWFqb3JBeGlzKSAmJiBDZXNpdW0uZGVmaW5lZCh0aGlzLnNlbWlNaW5vckF4aXMpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5FbGxpcHNlR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkOiB0aGlzLmVsbGlwc29pZCxcclxuICAgICAgICAgICAgICAgIGNlbnRlcjogdGhpcy5jZW50ZXIsXHJcbiAgICAgICAgICAgICAgICBzZW1pTWFqb3JBeGlzOiB0aGlzLnNlbWlNYWpvckF4aXMsXHJcbiAgICAgICAgICAgICAgICBzZW1pTWlub3JBeGlzOiB0aGlzLnNlbWlNaW5vckF4aXMsXHJcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvbixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhGb3JtYXQ6IENlc2l1bS5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5WRVJURVhfRk9STUFULFxyXG4gICAgICAgICAgICAgICAgc3RSb3RhdGlvbjogdGhpcy50ZXh0dXJlUm90YXRpb25BbmdsZSxcclxuICAgICAgICAgICAgICAgIGVsbGlwc29pZDogdGhpcy5lbGxpcHNvaWQsXHJcbiAgICAgICAgICAgICAgICBncmFudWxhcml0eTogdGhpcy5ncmFudWxhcml0eVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRPdXRsaW5lR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLkVsbGlwc2VPdXRsaW5lR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmdldENlbnRlcigpLFxyXG4gICAgICAgICAgICAgICAgc2VtaU1ham9yQXhpczogdGhpcy5nZXRTZW1pTWFqb3JBeGlzKCksXHJcbiAgICAgICAgICAgICAgICBzZW1pTWlub3JBeGlzOiB0aGlzLmdldFNlbWlNaW5vckF4aXMoKSxcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG4gICAgXy5Qb2x5bGluZVByaW1pdGl2ZSA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF8ob3B0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRQb2x5bGluZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VhYmxlUHJpbWl0aXZlKCk7XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldFBvc2l0aW9ucyA9IGZ1bmN0aW9uIChwb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIHBvc2l0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldEdlb2Rlc2ljID0gZnVuY3Rpb24gKGdlb2Rlc2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdnZW9kZXNpYycsIGdlb2Rlc2ljKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRQb3NpdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgncG9zaXRpb25zJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRHZW9kZXNpYyA9IGZ1bmN0aW9uIChnZW9kZXNpYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2dlb2Rlc2ljJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUNlc2l1bS5kZWZpbmVkKHRoaXMucG9zaXRpb25zKSB8fCB0aGlzLnBvc2l0aW9ucy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLlBvbHlsaW5lR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiB0aGlzLnBvc2l0aW9ucyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCA8IDEgPyAxIDogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHZlcnRleEZvcm1hdDogQ2VzaXVtLkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQsXHJcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQ6IHRoaXMuZWxsaXBzb2lkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIF87XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICB2YXIgZGVmYXVsdEJpbGxib2FyZCA9IHtcclxuICAgICAgICBpY29uVXJsOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTENBWUFBQUNwckhjbUFBQUJiRWxFUVZRb1UyTmtJQUV3d3RSNmVucXljM0p5NmpFek15djkvLytmbDVHUjhmUGZ2My92ZmYvKy9kTDI3ZHQvZ3RTQkZZTVVjbkJ3ZVBqNCtBUllXMXU3Y0hGeGlYLzkrdlhsMGFOSDkyemR1blhEang4L2RvQTBnQlY3ZVhtWisvcjZaam80T01SKy8vNmRDV1liT3p2N3YzMzc5aTNldm4zNzlHM2J0cDBFSzNaM2Q0OXRhbXBxLy83OXUvVC8vLzhaZnYzNnhmRDc5MitHZi8vK01iQ3dzRHlkT0hGaTVjNmRPeGVERlRzNU9lVjBkSFQwdlhyMWl2WExsMjhNZi8vK2dYdWJqWTN0OS9UcDA0cjI3ZHMzQmF6WXlzb3FzYXFxdHVYNzkxOVM2SUh6N2R2WFp6Tm5UcWs1ZHV6WWZMQmlZMk5qRzJkbnQydzdPOWV3Zi8vK3dkMzgvei9EdjcxN3Q2ODZldlRBMUxObnp4NEJLM1p3Y09CNDllcFZpS09qdTcrTmpZc05IeCsveUtkUEg5NGNQcnozeUlFRE96ZUtpWW10T1hEZ3dBOTRPTXZJeUhCKy8vN2Qrdi8vLzdvTURBd0NEQXdNSHhnWkdTOXpjbkllZmZMa3lYZDRPQk1iaVFESFU2QU0rOTFoTVFBQUFBQkpSVTVFcmtKZ2dnPT1cIixcclxuICAgICAgICBzaGlmdFg6IDAsXHJcbiAgICAgICAgc2hpZnRZOiAwLFxyXG4gICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgIHBpY2tTdHJhdGVneTogZGVmYXVsdFBpY2tTdHJhdGVneVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHJhZ0JpbGxib2FyZCA9IHtcclxuICAgICAgICBpY29uVXJsOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTENBWUFBQUNwckhjbUFBQUJiRWxFUVZRb1UyTmtJQUV3d3RSNmVucXljM0p5NmpFek15djkvLytmbDVHUjhmUGZ2My92ZmYvKy9kTDI3ZHQvZ3RTQkZZTVVjbkJ3ZVBqNCtBUllXMXU3Y0hGeGlYLzkrdlhsMGFOSDkyemR1blhEang4L2RvQTBnQlY3ZVhtWisvcjZaam80T01SKy8vNmRDV1liT3p2N3YzMzc5aTNldm4zNzlHM2J0cDBFSzNaM2Q0OXRhbXBxLy83OXUvVC8vLzhaZnYzNnhmRDc5MitHZi8vK01iQ3dzRHlkT0hGaTVjNmRPeGVERlRzNU9lVjBkSFQwdlhyMWl2WExsMjhNZi8vK2dYdWJqWTN0OS9UcDA0cjI3ZHMzQmF6WXlzb3FzYXFxdHVYNzkxOVM2SUh6N2R2WFp6Tm5UcWs1ZHV6WWZMQmlZMk5qRzJkbnQydzdPOWV3Zi8vK3dkMzgvei9EdjcxN3Q2ODZldlRBMUxObnp4NEJLM1p3Y09CNDllcFZpS09qdTcrTmpZc05IeCsveUtkUEg5NGNQcnozeUlFRE96ZUtpWW10T1hEZ3dBOTRPTXZJeUhCKy8vN2Qrdi8vLzdvTURBd0NEQXdNSHhnWkdTOXpjbkllZmZMa3lYZDRPQk1iaVFESFU2QU0rOTFoTVFBQUFBQkpSVTVFcmtKZ2dnPT1cIixcclxuICAgICAgICBzaGlmdFg6IDAsXHJcbiAgICAgICAgc2hpZnRZOiAwXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRyYWdIYWxmQmlsbGJvYXJkID0ge1xyXG4gICAgICAgIGljb25Vcmw6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFMQ0FZQUFBQ3BySGNtQUFBQkNrbEVRVlFvVTVYUk1VaUVjQlRIOGU4L2lCUU1Bb1hBVUxCUnFUV3dHeHZhYWdpM0d4cWpwcmFnTVdocktob2JicE9HMmhvYUw2RzE4TVlUbElSQUlValFDREtVN21od3FEZC9IdnplN3duK01XSmk2N3FlQTFhQlpXQWVlQWZHd0pNUTRxTnhMZjZCbThBMnNBRXNBcS9BUFhBRDNEVUxFN3dHN0FGOVlPWlhzaTlnQUZ3S0lSNWJYSlpsWDVLa1UyQ3A0NFNYcXFxT1pGa2V0RGpMc2dOVlZjK0EyUTc4bWVmNW9hWnA1eTJPNDNqWE1Jd1RRTy9BYVpJa3g2WnBYclU0RE1PZWJkdjdnTmVSMlIrTlJoZU80d3hiSEVXUmxLYnBqdXU2VzBBUDBKcDB3REFJZ2x0ZDE2OHR5NnFtUGZ1K0x4ZEZzUTZzQUF2QUcvQ3NLTXFENTNubHRPZS9QdkVibVBSVERBcFEzZDhBQUFBQVNVVk9SSzVDWUlJPVwiLFxyXG4gICAgICAgIHNoaWZ0WDogMCxcclxuICAgICAgICBzaGlmdFk6IDBcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5jcmVhdGVCaWxsYm9hcmRHcm91cCA9IGZ1bmN0aW9uIChwb2ludHMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xyXG4gICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAodGhpcywgb3B0aW9ucyk7XHJcbiAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmRzKHBvaW50cywgY2FsbGJhY2tzKTtcclxuICAgICAgICByZXR1cm4gbWFya2VycztcclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwID0gZnVuY3Rpb24gKGRyYXdIZWxwZXIsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fZHJhd0hlbHBlciA9IGRyYXdIZWxwZXI7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRCaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgb25lIGNvbW1vbiBiaWxsYm9hcmQgY29sbGVjdGlvbiBmb3IgYWxsIGJpbGxib2FyZHNcclxuICAgICAgICB2YXIgYiA9IG5ldyBDZXNpdW0uQmlsbGJvYXJkQ29sbGVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuX3NjZW5lLnByaW1pdGl2ZXMuYWRkKGIpO1xyXG4gICAgICAgIHRoaXMuX2JpbGxib2FyZHMgPSBiO1xyXG4gICAgICAgIC8vIGtlZXAgYW4gb3JkZXJlZCBsaXN0IG9mIGJpbGxib2FyZHNcclxuICAgICAgICB0aGlzLl9vcmRlcmVkQmlsbGJvYXJkcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLmNyZWF0ZUJpbGxib2FyZCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgY2FsbGJhY2tzKSB7XHJcblxyXG4gICAgICAgIHZhciBiaWxsYm9hcmQgPSB0aGlzLl9iaWxsYm9hcmRzLmFkZCh7XHJcbiAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcclxuICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMih0aGlzLl9vcHRpb25zLnNoaWZ0WCwgdGhpcy5fb3B0aW9ucy5zaGlmdFkpLFxyXG4gICAgICAgICAgICBleWVPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygwLjAsIDAuMCwgMC4wKSxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjogQ2VzaXVtLkhvcml6b250YWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAgICAgc2NhbGU6IDEuMCxcclxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMuX29wdGlvbnMuaWNvblVybCxcclxuICAgICAgICAgICAgY29sb3I6IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAxLjAsIDEuMCwgMS4wKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBpZiBlZGl0YWJsZVxyXG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlciA9IHRoaXMuX3NjZW5lLnNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlcjtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuYWJsZVJvdGF0aW9uKGVuYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgc2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyLmVuYWJsZVJvdGF0ZSA9IGVuYWJsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SW5kZXgoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGluZGV4XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgSSA9IF9zZWxmLl9vcmRlcmVkQmlsbGJvYXJkcy5sZW5ndGg7IGkgPCBJICYmIF9zZWxmLl9vcmRlcmVkQmlsbGJvYXJkc1tpXSAhPSBiaWxsYm9hcmQ7ICsraSkgO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MuZHJhZ0hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgc2V0TGlzdGVuZXIoYmlsbGJvYXJkLCAnbGVmdERvd24nLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gc3RhcnQgdGhlIGRyYWcgaGFuZGxlcnMgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBoYW5kbGVycyBmb3IgbW91c2VPdXQgYW5kIGxlZnRVcCBmb3IgdGhlIGJpbGxib2FyZCBhbmQgYSBtb3VzZU1vdmVcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkRyYWcocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmlsbGJvYXJkLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIEkgPSBfc2VsZi5fb3JkZXJlZEJpbGxib2FyZHMubGVuZ3RoOyBpIDwgSSAmJiBfc2VsZi5fb3JkZXJlZEJpbGxib2FyZHNbaV0gIT0gYmlsbGJvYXJkOyArK2kpIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLmRyYWdIYW5kbGVycy5vbkRyYWcgJiYgY2FsbGJhY2tzLmRyYWdIYW5kbGVycy5vbkRyYWcoZ2V0SW5kZXgoKSwgcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25EcmFnRW5kKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVSb3RhdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLmRyYWdIYW5kbGVycy5vbkRyYWdFbmQgJiYgY2FsbGJhY2tzLmRyYWdIYW5kbGVycy5vbkRyYWdFbmQoZ2V0SW5kZXgoKSwgcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKF9zZWxmLl9zY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gX3NlbGYuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWcoY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQoX3NlbGYuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9VUCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLmRyYWdIYW5kbGVycy5vbkRyYWdTdGFydCAmJiBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZ1N0YXJ0KGdldEluZGV4KCksIF9zZWxmLl9zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbiwgZWxsaXBzb2lkKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzLm9uRG91YmxlQ2xpY2spIHtcclxuICAgICAgICAgICAgICAgIHNldExpc3RlbmVyKGJpbGxib2FyZCwgJ2xlZnREb3VibGVDbGljaycsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbkRvdWJsZUNsaWNrKGdldEluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdsZWZ0Q2xpY2snLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25DbGljayhnZXRJbmRleCgpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MudG9vbHRpcCkge1xyXG4gICAgICAgICAgICAgICAgc2V0TGlzdGVuZXIoYmlsbGJvYXJkLCAnbW91c2VNb3ZlJywgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2RyYXdIZWxwZXIuX3Rvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBjYWxsYmFja3MudG9vbHRpcCgpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0TGlzdGVuZXIoYmlsbGJvYXJkLCAnbW91c2VPdXQnLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5fZHJhd0hlbHBlci5fdG9vbHRpcC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYmlsbGJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLmluc2VydEJpbGxib2FyZCA9IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24sIGNhbGxiYWNrcykge1xyXG4gICAgICAgIHRoaXMuX29yZGVyZWRCaWxsYm9hcmRzLnNwbGljZShpbmRleCwgMCwgdGhpcy5jcmVhdGVCaWxsYm9hcmQocG9zaXRpb24sIGNhbGxiYWNrcykpO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLmFkZEJpbGxib2FyZCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdGhpcy5fb3JkZXJlZEJpbGxib2FyZHMucHVzaCh0aGlzLmNyZWF0ZUJpbGxib2FyZChwb3NpdGlvbiwgY2FsbGJhY2tzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5CaWxsYm9hcmRHcm91cC5wcm90b3R5cGUuYWRkQmlsbGJvYXJkcyA9IGZ1bmN0aW9uIChwb3NpdGlvbnMsIGNhbGxiYWNrcykge1xyXG4gICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yICg7IGluZGV4IDwgcG9zaXRpb25zLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEJpbGxib2FyZChwb3NpdGlvbnNbaW5kZXhdLCBjYWxsYmFja3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zID0gZnVuY3Rpb24gKHBvc2l0aW9ucykge1xyXG4gICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yICg7IGluZGV4IDwgcG9zaXRpb25zLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB0aGlzLmdldEJpbGxib2FyZChpbmRleCkucG9zaXRpb24gPSBwb3NpdGlvbnNbaW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS5jb3VudEJpbGxib2FyZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yZGVyZWRCaWxsYm9hcmRzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS5nZXRCaWxsYm9hcmQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3JkZXJlZEJpbGxib2FyZHNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLnJlbW92ZUJpbGxib2FyZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHRoaXMuX2JpbGxib2FyZHMucmVtb3ZlKHRoaXMuZ2V0QmlsbGJvYXJkKGluZGV4KSk7XHJcbiAgICAgICAgdGhpcy5fb3JkZXJlZEJpbGxib2FyZHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fYmlsbGJvYXJkcyA9IHRoaXMuX2JpbGxib2FyZHMgJiYgdGhpcy5fYmlsbGJvYXJkcy5yZW1vdmVBbGwoKSAmJiB0aGlzLl9iaWxsYm9hcmRzLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS5zZXRPblRvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9zY2VuZS5wcmltaXRpdmVzLnJhaXNlVG9Ub3AodGhpcy5fYmlsbGJvYXJkcyk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc3RhcnREcmF3aW5nTWFya2VyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0QmlsbGJvYXJkKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydERyYXdpbmcoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMgJiYgbWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIG1vdXNlSGFuZGxlciAmJiBtb3VzZUhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcCAmJiB0b29sdGlwLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgc2NlbmUgPSB0aGlzLl9zY2VuZTtcclxuICAgICAgICB2YXIgdmlld2VyID0gdGhpcy5fdmlld2VyO1xyXG5cclxuICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IHNjZW5lLnByaW1pdGl2ZXM7XHJcbiAgICAgICAgdmFyIHRvb2x0aXAgPSB0aGlzLl90b29sdGlwO1xyXG5cclxuICAgICAgICB2YXIgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB2YXIgbW91c2VIYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICAvLyBOb3cgd2FpdCBmb3Igc3RhcnRcclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlbWVudC5wb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kobW92ZW1lbnQucG9zaXRpb24sIHZpZXdlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmQoY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zdG9wRHJhd2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soY2FydGVzaWFuLCBfc2VsZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XHJcblxyXG4gICAgICAgIG1vdXNlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbW92ZW1lbnQuZW5kUG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kocG9zaXRpb24sIHZpZXdlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93QXQocG9zaXRpb24sIFwiPHA+Q2xpY2sgdG8gYWRkIHlvdXIgbWFya2VyLiBQb3NpdGlvbiBpczogPC9wPlwiICsgZ2V0RGlzcGxheUxhdExuZ1N0cmluZyhlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoY2FydGVzaWFuKSkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayBvbiB0aGUgZ2xvYmUgdG8gYWRkIHlvdXIgbWFya2VyLjwvcD5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnN0YXJ0RHJhd2luZ1BvbHlnb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIC8vIHZhciBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFN1cmZhY2VPcHRpb25zKTtcclxuICAgICAgICB0aGlzLnN0YXJ0RHJhd2luZ1BvbHlzaGFwZSh0cnVlLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmdQb2x5bGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmFyIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0UG9seWxpbmVPcHRpb25zKTtcclxuICAgICAgICB0aGlzLnN0YXJ0RHJhd2luZ1BvbHlzaGFwZShmYWxzZSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc3RhcnREcmF3aW5nUG9seXNoYXBlID0gZnVuY3Rpb24gKGlzUG9seWdvbiwgb3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBpc1BvbHlnb24gPyBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U3VyZmFjZU9wdGlvbnMpIDogY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFBvbHlsaW5lT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVzICYmIHByaW1pdGl2ZXMucmVtb3ZlKHBvbHkpO1xyXG4gICAgICAgICAgICAgICAgbWFya2VycyAmJiBtYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgbW91c2VIYW5kbGVyICYmIG1vdXNlSGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwICYmIHRvb2x0aXAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzY2VuZSA9IHRoaXMuX3NjZW5lO1xyXG4gICAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLl92aWV3ZXI7XHJcbiAgICAgICAgdmFyIHByaW1pdGl2ZXMgPSBzY2VuZS5wcmltaXRpdmVzO1xyXG4gICAgICAgIHZhciB0b29sdGlwID0gdGhpcy5fdG9vbHRpcDtcclxuXHJcbiAgICAgICAgdmFyIG1pblBvaW50cyA9IGlzUG9seWdvbiA/IDMgOiAyO1xyXG4gICAgICAgIHZhciBwb2x5O1xyXG4gICAgICAgIGlmIChpc1BvbHlnb24pIHtcclxuICAgICAgICAgICAgcG9seSA9IG5ldyBfLlBvbHlnb25QcmltaXRpdmUob3B0aW9ucyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcG9seSA9IG5ldyBfLlBvbHlsaW5lUHJpbWl0aXZlKG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb2x5LmFzeW5jaHJvbm91cyA9IGZhbHNlO1xyXG4gICAgICAgIHByaW1pdGl2ZXMuYWRkKHBvbHkpO1xyXG5cclxuICAgICAgICB2YXIgcG9zaXRpb25zID0gW107XHJcbiAgICAgICAgdmFyIG1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cCh0aGlzLCBkZWZhdWx0QmlsbGJvYXJkKTtcclxuXHJcbiAgICAgICAgdmFyIG1vdXNlSGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoc2NlbmUuY2FudmFzKTtcclxuXHJcblxyXG4gICAgICAgIG1vdXNlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1vdmVtZW50LnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPCBtaW5Qb2ludHMgLyorIDIqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKHBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBvcHRpb25zLnN0cmF0ZWd5LnBpY2tTdHJhdGVneShtb3ZlbWVudC5wb3NpdGlvbiwgdmlld2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zdG9wRHJhd2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG92ZXJsYXBwaW5nIG9uZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHBvc2l0aW9ucy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhwb3NpdGlvbnMsIF9zZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPVUJMRV9DTElDSyk7XHJcbiAgICAgICAgLy8gTm93IHdhaXQgZm9yIHN0YXJ0XHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KG1vdmVtZW50LnBvc2l0aW9uLCB2aWV3ZXIpO1xyXG4gICAgICAgICAgICBjYXJ0ZXNpYW4gPSBnZXRDZXNpdW1IaWdodFplcm8oY2FydGVzaWFuKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtb3ZlbWVudC5wb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChjYXJ0ZXNpYW4uY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkKHBvc2l0aW9uc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID49IG1pblBvaW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5LnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9seS5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG5ldyBwb2ludCB0byBwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBvbmUgd2lsbCBtb3ZlIHdpdGggdGhlIG1vdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgbWFya2VyIGF0IHRoZSBuZXcgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBtb3ZlbWVudC5lbmRQb3NpdGlvbjtcclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayB0byBhZGQgZmlyc3QgcG9pbnQ8L3A+XCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FydGVzaWFuID0gZ2V0Q2VzaXVtSGlnaHRaZXJvKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KHBvc2l0aW9uLCB2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGl0IGlzIHNsaWdodGx5IGRpZmZlcmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXJ0ZXNpYW4ueSArPSAoMSArIE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJ0ZXNpYW4ueSArPSBDZXNpdW0uTWF0aC5FUFNJTE9ONztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPj0gbWluUG9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5LnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHkuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIG1hcmtlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmdldEJpbGxib2FyZChwb3NpdGlvbnMubGVuZ3RoIC0gMSkucG9zaXRpb24gPSBjYXJ0ZXNpYW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayB0byBhZGQgbmV3IHBvaW50IChcIiArIHBvc2l0aW9ucy5sZW5ndGggKyBcIik8L3A+XCIgKyAocG9zaXRpb25zLmxlbmd0aCA+IG1pblBvaW50cyA/IFwiPHA+RG91YmxlIGNsaWNrIHRvIGZpbmlzaCBkcmF3aW5nPC9wPlwiIDogXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEV4dGVudENvcm5lcnModmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZWxsaXBzb2lkLmNhcnRvZ3JhcGhpY0FycmF5VG9DYXJ0ZXNpYW5BcnJheShbQ2VzaXVtLlJlY3RhbmdsZS5ub3J0aHdlc3QodmFsdWUpLCBDZXNpdW0uUmVjdGFuZ2xlLm5vcnRoZWFzdCh2YWx1ZSksIENlc2l1bS5SZWN0YW5nbGUuc291dGhlYXN0KHZhbHVlKSwgQ2VzaXVtLlJlY3RhbmdsZS5zb3V0aHdlc3QodmFsdWUpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc3RhcnREcmF3aW5nRXh0ZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U3VyZmFjZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0RHJhd2luZyhcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcyAmJiBwcmltaXRpdmVzLnJlbW92ZShleHRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFya2VycyAmJiBtYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgbW91c2VIYW5kbGVyICYmIG1vdXNlSGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwICYmIHRvb2x0aXAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzY2VuZSA9IHRoaXMuX3NjZW5lO1xyXG4gICAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLl92aWV3ZXI7XHJcbiAgICAgICAgdmFyIHByaW1pdGl2ZXMgPSB0aGlzLl9zY2VuZS5wcmltaXRpdmVzO1xyXG4gICAgICAgIHZhciB0b29sdGlwID0gdGhpcy5fdG9vbHRpcDtcclxuXHJcbiAgICAgICAgdmFyIGZpcnN0UG9pbnQgPSBudWxsO1xyXG4gICAgICAgIHZhciBleHRlbnQgPSBudWxsO1xyXG4gICAgICAgIHZhciBtYXJrZXJzID0gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIG1vdXNlSGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoc2NlbmUuY2FudmFzKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRXh0ZW50KHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChleHRlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXh0ZW50ID0gbmV3IF8uRXh0ZW50UHJpbWl0aXZlKHtleHRlbnQ6IHZhbHVlLCBtYXRlcmlhbDogb3B0aW9ucy5tYXRlcmlhbCx9KTtcclxuICAgICAgICAgICAgICAgIGV4dGVudC5hc3luY2hyb25vdXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMuYWRkKGV4dGVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXh0ZW50LnNldEV4dGVudCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGV4dGVudC5yZWN0YW5nbGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBtYXJrZXJzXHJcbiAgICAgICAgICAgIHZhciBjb3JuZXJzID0gZ2V0RXh0ZW50Q29ybmVycyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBpZiB0aGV5IGRvIG5vdCB5ZXQgZXhpc3RcclxuICAgICAgICAgICAgaWYgKG1hcmtlcnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKF9zZWxmLCBkZWZhdWx0QmlsbGJvYXJkKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkcyhjb3JuZXJzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hcmtlcnMudXBkYXRlQmlsbGJvYXJkc1Bvc2l0aW9ucyhjb3JuZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm93IHdhaXQgZm9yIHN0YXJ0XHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAobW92ZW1lbnQucG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KG1vdmVtZW50LnBvc2l0aW9uLCB2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSByZWN0YW5nbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RQb2ludCA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRFeHRlbnQoZmlyc3RQb2ludCwgZmlyc3RQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUV4dGVudCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuc3RvcERyYXdpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soZ2V0RXh0ZW50KGZpcnN0UG9pbnQsIGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pLCBfc2VsZikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9XTik7XHJcblxyXG4gICAgICAgIG1vdXNlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbW92ZW1lbnQuZW5kUG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayB0byBzdGFydCBkcmF3aW5nIHJlY3RhbmdsZTwvcD5cIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kocG9zaXRpb24sIHZpZXdlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZ2V0RXh0ZW50KGZpcnN0UG9pbnQsIGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRXh0ZW50KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93QXQocG9zaXRpb24sIFwiPHA+RHJhZyB0byBjaGFuZ2UgcmVjdGFuZ2xlIGV4dGVudDwvcD48cD5DbGljayBhZ2FpbiB0byBmaW5pc2ggZHJhd2luZzwvcD5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmdDaXJjbGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTdXJmYWNlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNpcmNsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcyAmJiBwcmltaXRpdmVzLnJlbW92ZShjaXJjbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFya2VycyAmJiBtYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgbW91c2VIYW5kbGVyICYmIG1vdXNlSGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwICYmIHRvb2x0aXAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzY2VuZSA9IHRoaXMuX3NjZW5lO1xyXG4gICAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLl92aWV3ZXI7XHJcbiAgICAgICAgdmFyIHByaW1pdGl2ZXMgPSB0aGlzLl9zY2VuZS5wcmltaXRpdmVzO1xyXG4gICAgICAgIHZhciB0b29sdGlwID0gdGhpcy5fdG9vbHRpcDtcclxuXHJcbiAgICAgICAgdmFyIGNpcmNsZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIG1hcmtlcnMgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbW91c2VIYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBwaWNrUG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgaWYgKENlc2l1bS5kZWZpbmVkKHZpZXdlci5zY2VuZS5waWNrKHBvc2l0aW9uKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDZXNpdW1IaWdodFplcm8odmlld2VyLnNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENlc2l1bUhpZ2h0WmVybyh2aWV3ZXIuc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24pKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gTm93IHdhaXQgZm9yIHN0YXJ0XHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAobW92ZW1lbnQucG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLnBpY2tQb3NpdGlvbihtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyBjYXJ0ZXNpYW4gPSBnZXRDZXNpdW1IaWdodFplcm8oY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBwaWNrUG9zaXRpb24obW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KG1vdmVtZW50LnBvc2l0aW9uLCB2aWV3ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaXJjbGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGNpcmNsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUgPSBuZXcgXy5DaXJjbGVQcmltaXRpdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBjYXJ0ZXNpYW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IG9wdGlvbnMubWF0ZXJpYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMuYWRkKGNpcmNsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cChfc2VsZiwgZGVmYXVsdEJpbGxib2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkcyhbY2FydGVzaWFuXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soY2lyY2xlLmdldENlbnRlcigpLCBjaXJjbGUuZ2V0UmFkaXVzKCksIF9zZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zdG9wRHJhd2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPV04pO1xyXG5cclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1vdmVtZW50LmVuZFBvc2l0aW9uO1xyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNpcmNsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93QXQocG9zaXRpb24sIFwiPHA+Q2xpY2sgdG8gc3RhcnQgZHJhd2luZyB0aGUgY2lyY2xlPC9wPlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKHBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5waWNrUG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBvcHRpb25zLnN0cmF0ZWd5LnBpY2tTdHJhdGVneShwb3NpdGlvbiwgdmlld2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2lyY2xlLmdldENlbnRlcigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUuc2V0UmFkaXVzKENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlKGdldENlc2l1bUhpZ2h0WmVybyhjaXJjbGUuZ2V0Q2VudGVyKCkpLCBnZXRDZXNpdW1IaWdodFplcm8oY2FydGVzaWFuKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaXJjbGUuc2V0UmFkaXVzKENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlKGNpcmNsZS5nZXRDZW50ZXIoKSwgY2FydGVzaWFuKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMudXBkYXRlQmlsbGJvYXJkc1Bvc2l0aW9ucyhjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5Nb3ZlIG1vdXNlIHRvIGNoYW5nZSBjaXJjbGUgcmFkaXVzPC9wPjxwPkNsaWNrIGFnYWluIHRvIGZpbmlzaCBkcmF3aW5nPC9wPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLmVuaGFuY2VQcmltaXRpdmVzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB2YXIgZHJhd0hlbHBlciA9IHRoaXM7XHJcblxyXG4gICAgICAgIENlc2l1bS5CaWxsYm9hcmQucHJvdG90eXBlLnNldEVkaXRhYmxlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2VkaXRhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBiaWxsYm9hcmQgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuYWJsZVJvdGF0aW9uKGVuYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5fc2NlbmUuc2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyLmVuYWJsZVJvdGF0ZSA9IGVuYWJsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0TGlzdGVuZXIoYmlsbGJvYXJkLCAnbGVmdERvd24nLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBzdGFydCB0aGUgZHJhZyBoYW5kbGVycyBoZXJlXHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgaGFuZGxlcnMgZm9yIG1vdXNlT3V0IGFuZCBsZWZ0VXAgZm9yIHRoZSBiaWxsYm9hcmQgYW5kIGEgbW91c2VNb3ZlXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkRyYWcocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBiaWxsYm9hcmQucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnZHJhZycsIHBvc2l0aW9uczogcG9zaXRpb259KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkRyYWdFbmQocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVSb3RhdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnZHJhZ0VuZCcsIHBvc2l0aW9uczogcG9zaXRpb259KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoZHJhd0hlbHBlci5fc2NlbmUuY2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBkcmF3SGVscGVyLl9zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChtb3ZlbWVudC5lbmRQb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZyhjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZChkcmF3SGVscGVyLl9zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChtb3ZlbWVudC5wb3NpdGlvbiwgZWxsaXBzb2lkKSk7XHJcbiAgICAgICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9VUCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZW5hYmxlUm90YXRpb24oZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhiaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIENlc2l1bS5FbnRpdHkucHJvdG90eXBlLnNldEVkaXRhYmxlID0gZnVuY3Rpb24gKGVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmKGVkaXRhYmxlID09PSAgZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpbGxib2FyZCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihiaWxsYm9hcmQsJ2xlZnREb3duJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lZGl0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlVHlwZSAhPT0gJ2JpbGxib2FyZCcgfHwgdGhpcy5fZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZWRpdGFibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJpbGxib2FyZCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZW5hYmxlUm90YXRpb24oZW5hYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLl9zY2VuZS5zY3JlZW5TcGFjZUNhbWVyYUNvbnRyb2xsZXIuZW5hYmxlUm90YXRlID0gZW5hYmxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdsZWZ0RG93bicsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIHN0YXJ0IHRoZSBkcmFnIGhhbmRsZXJzIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBoYW5kbGVycyBmb3IgbW91c2VPdXQgYW5kIGxlZnRVcCBmb3IgdGhlIGJpbGxib2FyZCBhbmQgYSBtb3VzZU1vdmVcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRHJhZyhwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbGxib2FyZC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdkcmFnJywgcG9zaXRpb25zOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdkcmFnRW5kJywgcG9zaXRpb25zOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihkcmF3SGVscGVyLl9zY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IGRyYXdIZWxwZXIuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKGRyYXdIZWxwZXIuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpKTtcclxuICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX1VQKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbmFibGVSb3RhdGlvbihmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVuaGFuY2VXaXRoTGlzdGVuZXJzKGJpbGxib2FyZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRIaWdobGlnaHRlZChoaWdobGlnaHRlZCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBubyBjaGFuZ2VcclxuICAgICAgICAgICAgLy8gaWYgYWxyZWFkeSBoaWdobGlnaHRlZCwgdGhlIG91dGxpbmUgcG9seWdvbiB3aWxsIGJlIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faGlnaGxpZ2h0ZWQgJiYgdGhpcy5faGlnaGxpZ2h0ZWQgPT0gaGlnaGxpZ2h0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBkaXNhYmxlIGlmIGFscmVhZHkgaW4gZWRpdCBtb2RlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lZGl0TW9kZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodGVkID0gaGlnaGxpZ2h0ZWQ7XHJcbiAgICAgICAgICAgIC8vIGhpZ2hsaWdodCBieSBjcmVhdGluZyBhbiBvdXRsaW5lIHBvbHlnb24gbWF0Y2hpbmcgdGhlIHBvbHlnb24gcG9pbnRzXHJcbiAgICAgICAgICAgIGlmIChoaWdobGlnaHRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCBvdGhlciBzaGFwZXMgYXJlIG5vdCBoaWdobGlnaHRlZFxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zZXRIaWdobGlnaHRlZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZUNvbG9yID0gdGhpcy5zdHJva2VDb2xvcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGUoQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZygnd2hpdGUnKSwgdGhpcy5zdHJva2VXaWR0aCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlKHRoaXMuX3N0cm9rZUNvbG9yLCB0aGlzLnN0cm9rZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZSh1bmRlZmluZWQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEVkaXRNb2RlKGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIGNoYW5nZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWRpdE1vZGUgPT0gZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIG90aGVyIHNoYXBlcyBhcmUgbm90IGluIGVkaXQgbW9kZSBiZWZvcmUgc3RhcnRpbmcgdGhlIGVkaXRpbmcgb2YgdGhpcyBzaGFwZVxyXG4gICAgICAgICAgICBkcmF3SGVscGVyLmRpc2FibGVBbGxIaWdobGlnaHRzKCk7XHJcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgbWFya2Vyc1xyXG4gICAgICAgICAgICBpZiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc2V0RWRpdGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBtYXJrZXJzIGFuZCBoYW5kbGVycyBmb3IgdGhlIGVkaXRpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXJrZXJzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdCaWxsYm9hcmQgPSB0aGlzLmRyYWdCaWxsYm9hcmQ/IHRoaXMuZHJhZ0JpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdIYWxmQmlsbGJvYXJkID0gdGhpcy5kcmFnSGFsZkJpbGxib2FyZD8gdGhpcy5kcmFnSGFsZkJpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKGRyYXdIZWxwZXIsIHRoaXNEcmFnQmlsbGJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdE1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cChkcmF3SGVscGVyLCB0aGlzRHJhZ0hhbGZCaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBmb3IgdXBkYXRpbmcgdGhlIGVkaXQgbWFya2VycyBhcm91bmQgYSBjZXJ0YWluIHBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFsZk1hcmtlcnMoaW5kZXgsIHBvc2l0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGhhbGYgbWFya2VycyBiZWZvcmUgYW5kIGFmdGVyIHRoZSBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEluZGV4ID0gaW5kZXggLSAxIDwgMCA/IHBvc2l0aW9ucy5sZW5ndGggLSAxIDogaW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdEluZGV4IDwgZWRpdE1hcmtlcnMuY291bnRCaWxsYm9hcmRzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNYXJrZXJzLmdldEJpbGxib2FyZChlZGl0SW5kZXgpLnBvc2l0aW9uID0gY2FsY3VsYXRlSGFsZk1hcmtlclBvc2l0aW9uKGVkaXRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0SW5kZXggPCBlZGl0TWFya2Vycy5jb3VudEJpbGxib2FyZHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1hcmtlcnMuZ2V0QmlsbGJvYXJkKGVkaXRJbmRleCkucG9zaXRpb24gPSBjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24oZWRpdEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25FZGl0ZWQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdvbkVkaXRlZCcsIHBvc2l0aW9uczogX3NlbGYucG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTWFya2VyQ2hhbmdlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5wb3NpdGlvbnNbaW5kZXhdID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSGFsZk1hcmtlcnMoaW5kZXgsIF9zZWxmLnBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0ZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Eb3VibGVDbGljazogZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlbGYucG9zaXRpb25zLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIHBvaW50IGFuZCB0aGUgY29ycmVzcG9uZGluZyBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5wb3NpdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLl9jcmVhdGVQcmltaXRpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5yZW1vdmVCaWxsYm9hcmQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1hcmtlcnMucmVtb3ZlQmlsbGJvYXJkKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhhbGZNYXJrZXJzKGluZGV4LCBfc2VsZi5wb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0ZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zZWxmLnBvc2l0aW9ucy5sZW5ndGggPiAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRG91YmxlIGNsaWNrIHRvIHJlbW92ZSB0aGlzIHBvaW50XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBiaWxsYm9hcmRzIGFuZCBrZWVwIGFuIG9yZGVyZWQgbGlzdCBvZiB0aGVtIGZvciB0aGUgcG9seWdvbiBlZGdlc1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkcyhfc2VsZi5wb3NpdGlvbnMsIGhhbmRsZU1hcmtlckNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMgPSBtYXJrZXJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9ucyA9IF9zZWxmLnBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDZXNpdW0uRWxsaXBzb2lkR2VvZGVzaWMoZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uc1tpbmRleF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbnNbaW5kZXggPCBwb3NpdGlvbnMubGVuZ3RoIC0gMSA/IGluZGV4ICsgMSA6IDBdKSkuaW50ZXJwb2xhdGVVc2luZ0ZyYWN0aW9uKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYWxmUG9zaXRpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gX3NlbGYucG9zaXRpb25zLmxlbmd0aCArICh0aGlzLmlzUG9seWdvbiA/IDAgOiAtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZQb3NpdGlvbnMucHVzaChjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24oaW5kZXgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUVkaXRNYXJrZXJDaGFuZ2VzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnSGFuZGxlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IHBvc2l0aW9uIHRvIHRoZSBwb2x5Z29uIGJ1dCBub3QgYSBuZXcgbWFya2VyIHlldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYucG9zaXRpb25zLnNwbGljZSh0aGlzLmluZGV4LCAwLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYucG9zaXRpb25zW3RoaXMuaW5kZXhdID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyBzZXRzIG9mIG1ha2VycyBmb3IgZWRpdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuaW5zZXJ0QmlsbGJvYXJkKHRoaXMuaW5kZXgsIHBvc2l0aW9uLCBoYW5kbGVNYXJrZXJDaGFuZ2VzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5nZXRCaWxsYm9hcmQodGhpcy5pbmRleCAtIDEpLnBvc2l0aW9uID0gY2FsY3VsYXRlSGFsZk1hcmtlclBvc2l0aW9uKHRoaXMuaW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5pbnNlcnRCaWxsYm9hcmQodGhpcy5pbmRleCwgY2FsY3VsYXRlSGFsZk1hcmtlclBvc2l0aW9uKHRoaXMuaW5kZXgpLCBoYW5kbGVFZGl0TWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0ZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRHJhZyB0byBjcmVhdGUgYSBuZXcgcG9pbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdE1hcmtlcnMuYWRkQmlsbGJvYXJkcyhoYWxmUG9zaXRpb25zLCBoYW5kbGVFZGl0TWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1hcmtlcnMgPSBlZGl0TWFya2VycztcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBoYW5kbGVyIGZvciBjbGlja2luZyBpbiB0aGUgZ2xvYmVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoc2NlbmUuY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGlja2VkT2JqZWN0ID0gc2NlbmUucGljayhtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LnByaW1pdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG9uIHRvcCBvZiB0aGUgcG9seWdvblxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuc2V0T25Ub3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5zZXRPblRvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1hcmtlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLlBvbHlsaW5lUHJpbWl0aXZlLnByb3RvdHlwZS5zZXRFZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldEVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwb2x5bGluZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHBvbHlsaW5lLmlzUG9seWdvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwb2x5bGluZS5hc3luY2hyb25vdXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdIZWxwZXIucmVnaXN0ZXJFZGl0YWJsZVNoYXBlKHBvbHlsaW5lKTtcclxuXHJcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldEVkaXRNb2RlID0gc2V0RWRpdE1vZGU7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxXaWR0aCA9IHRoaXMud2lkdGg7XHJcblxyXG4gICAgICAgICAgICBwb2x5bGluZS5zZXRIaWdobGlnaHRlZCA9IGZ1bmN0aW9uIChoaWdobGlnaHRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBpZiBhbHJlYWR5IGluIGVkaXQgbW9kZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRNb2RlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhpZ2hsaWdodGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zZXRIaWdobGlnaHRlZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpZHRoKG9yaWdpbmFsV2lkdGggKiAyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaWR0aChvcmlnaW5hbFdpZHRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcG9seWxpbmUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5FeHRlbnQuZnJvbUNhcnRvZ3JhcGhpY0FycmF5KGVsbGlwc29pZC5jYXJ0ZXNpYW5BcnJheVRvQ2FydG9ncmFwaGljQXJyYXkodGhpcy5wb3NpdGlvbnMpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnMocG9seWxpbmUpO1xyXG5cclxuICAgICAgICAgICAgcG9seWxpbmUuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8uUG9seWdvblByaW1pdGl2ZS5wcm90b3R5cGUuc2V0RWRpdGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9seWdvbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHBvbHlnb24uYXN5bmNocm9ub3VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdIZWxwZXIucmVnaXN0ZXJFZGl0YWJsZVNoYXBlKHBvbHlnb24pO1xyXG5cclxuICAgICAgICAgICAgcG9seWdvbi5zZXRFZGl0TW9kZSA9IHNldEVkaXRNb2RlO1xyXG5cclxuICAgICAgICAgICAgcG9seWdvbi5zZXRIaWdobGlnaHRlZCA9IHNldEhpZ2hsaWdodGVkO1xyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnMocG9seWdvbik7XHJcblxyXG4gICAgICAgICAgICBwb2x5Z29uLnNldEVkaXRNb2RlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLkV4dGVudFByaW1pdGl2ZS5wcm90b3R5cGUuc2V0RWRpdGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXRFZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcblxyXG4gICAgICAgICAgICBkcmF3SGVscGVyLnJlZ2lzdGVyRWRpdGFibGVTaGFwZShleHRlbnQpO1xyXG4gICAgICAgICAgICBleHRlbnQuYXN5bmNocm9ub3VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBleHRlbnQuc2V0RWRpdE1vZGUgPSBmdW5jdGlvbiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRNb2RlID09IGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5kaXNhYmxlQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzcGxheSBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIG90aGVyIHNoYXBlcyBhcmUgbm90IGluIGVkaXQgbW9kZSBiZWZvcmUgc3RhcnRpbmcgdGhlIGVkaXRpbmcgb2YgdGhpcyBzaGFwZVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc2V0RWRpdGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbWFya2VycyBhbmQgaGFuZGxlcnMgZm9yIHRoZSBlZGl0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdCaWxsYm9hcmQgPSB0aGlzLmRyYWdCaWxsYm9hcmQ/IHRoaXMuZHJhZ0JpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEcmFnSGFsZkJpbGxib2FyZCA9IHRoaXMuZHJhZ0hhbGZCaWxsYm9hcmQ/IHRoaXMuZHJhZ0hhbGZCaWxsYm9hcmQ6IGRyYWdCaWxsYm9hcmQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKHRoaXNEcmFnQmlsbGJvYXJkLHRoaXNEcmFnSGFsZkJpbGxib2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkVkaXRlZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVudC5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnb25FZGl0ZWQnLCBleHRlbnQ6IGV4dGVudC5leHRlbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZU1hcmtlckNoYW5nZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnSGFuZGxlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvcm5lciA9IG1hcmtlcnMuZ2V0QmlsbGJvYXJkKChpbmRleCArIDIpICUgNCkucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVudC5zZXRFeHRlbnQoZ2V0RXh0ZW50KGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjb3JuZXIpLCBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb24pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMudXBkYXRlQmlsbGJvYXJkc1Bvc2l0aW9ucyhnZXRFeHRlbnRDb3JuZXJzKGV4dGVudC5leHRlbnQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRHJhZyB0byBjaGFuZ2UgdGhlIGNvcm5lcnMgb2YgdGhpcyBleHRlbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmRzKGdldEV4dGVudENvcm5lcnMoZXh0ZW50LmV4dGVudCksIGhhbmRsZU1hcmtlckNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbWFya2VycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgaGFuZGxlciBmb3IgY2xpY2tpbmcgaW4gdGhlIGdsb2JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGVkaXQgaWYgcGlja2Vkb2JqZWN0IGlzIGRpZmZlcmVudCBvciBub3QgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocGlja2VkT2JqZWN0ICYmICFwaWNrZWRPYmplY3QuaXNEZXN0cm95ZWQoKSAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW50LnNldEVkaXRNb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW50LnNldEVkaXRNb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgb24gdG9wIG9mIHRoZSBwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuc2V0T25Ub3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWFya2VycyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV4dGVudC5zZXRIaWdobGlnaHRlZCA9IHNldEhpZ2hsaWdodGVkO1xyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnMoZXh0ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGV4dGVudC5zZXRFZGl0TW9kZShmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5FbGxpcHNlUHJpbWl0aXZlLnByb3RvdHlwZS5zZXRFZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldEVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBlbGxpcHNlID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcblxyXG4gICAgICAgICAgICBlbGxpcHNlLmFzeW5jaHJvbm91cyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZHJhd0hlbHBlci5yZWdpc3RlckVkaXRhYmxlU2hhcGUoZWxsaXBzZSk7XHJcblxyXG4gICAgICAgICAgICBlbGxpcHNlLnNldEVkaXRNb2RlID0gZnVuY3Rpb24gKGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lZGl0TW9kZSA9PSBlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuZGlzYWJsZUFsbEhpZ2hsaWdodHMoKTtcclxuICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgbWFya2Vyc1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCBvdGhlciBzaGFwZXMgYXJlIG5vdCBpbiBlZGl0IG1vZGUgYmVmb3JlIHN0YXJ0aW5nIHRoZSBlZGl0aW5nIG9mIHRoaXMgc2hhcGVcclxuICAgICAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnNldEVkaXRlZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbWFya2VycyBhbmQgaGFuZGxlcnMgZm9yIHRoZSBlZGl0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdCaWxsYm9hcmQgPSB0aGlzLmRyYWdCaWxsYm9hcmQ/IHRoaXMuZHJhZ0JpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAoZHJhd0hlbHBlcix0aGlzRHJhZ0JpbGxib2FyZCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TWFya2VyUG9zaXRpb25zKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5TaGFwZXMuY29tcHV0ZUVsbGlwc2VCb3VuZGFyeShlbGxpcHNvaWQsIGVsbGlwc2UuZ2V0Q2VudGVyKCksIGVsbGlwc2UuZ2V0U2VtaU1ham9yQXhpcygpLCBlbGxpcHNlLmdldFNlbWlNaW5vckF4aXMoKSwgZWxsaXBzZS5nZXRSb3RhdGlvbigpICsgTWF0aC5QSSAvIDIsIE1hdGguUEkgLyAyLjApLnNwbGljZSgwLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25FZGl0ZWQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLmV4ZWN1dGVMaXN0ZW5lcnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdvbkVkaXRlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBlbGxpcHNlLmdldENlbnRlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbWlNYWpvckF4aXM6IGVsbGlwc2UuZ2V0U2VtaU1ham9yQXhpcygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbWlNaW5vckF4aXM6IGVsbGlwc2UuZ2V0U2VtaU1pbm9yQXhpcygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZU1hcmtlckNoYW5nZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnSGFuZGxlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UoZWxsaXBzZS5nZXRDZW50ZXIoKSwgcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0U2VtaU1ham9yQXhpcyhkaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnNldFNlbWlNaW5vckF4aXMoZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMudXBkYXRlQmlsbGJvYXJkc1Bvc2l0aW9ucyhnZXRNYXJrZXJQb3NpdGlvbnMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0ZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkRyYWcgdG8gY2hhbmdlIHRoZSBleGNlbnRyaWNpdHkgYW5kIHJhZGl1c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZHMoZ2V0TWFya2VyUG9zaXRpb25zKCksIGhhbmRsZU1hcmtlckNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbWFya2VycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgaGFuZGxlciBmb3IgY2xpY2tpbmcgaW4gdGhlIGdsb2JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LnByaW1pdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBvbiB0b3Agb2YgdGhlIHBvbHlnb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5zZXRPblRvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXJrZXJzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxsaXBzZS5zZXRIaWdobGlnaHRlZCA9IHNldEhpZ2hsaWdodGVkO1xyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnMoZWxsaXBzZSk7XHJcblxyXG4gICAgICAgICAgICBlbGxpcHNlLnNldEVkaXRNb2RlKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8uQ2lyY2xlUHJpbWl0aXZlLnByb3RvdHlwZS5nZXRDaXJjbGVDYXJ0ZXNpYW5Db29yZGluYXRlcyA9IGZ1bmN0aW9uIChncmFudWxhcml0eSkge1xyXG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBDZXNpdW0uQ2lyY2xlT3V0bGluZUdlb21ldHJ5LmNyZWF0ZUdlb21ldHJ5KG5ldyBDZXNpdW0uQ2lyY2xlT3V0bGluZUdlb21ldHJ5KHtcclxuICAgICAgICAgICAgICAgIGVsbGlwc29pZDogZWxsaXBzb2lkLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmdldENlbnRlcigpLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxyXG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IGdyYW51bGFyaXR5XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMCwgdmFsdWUsIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKDsgY291bnQgPCBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLnZhbHVlcy5sZW5ndGg7IGNvdW50ICs9IDMpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi52YWx1ZXM7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChuZXcgQ2VzaXVtLkNhcnRlc2lhbjModmFsdWVbY291bnRdLCB2YWx1ZVtjb3VudCArIDFdLCB2YWx1ZVtjb3VudCArIDJdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLkNpcmNsZVByaW1pdGl2ZS5wcm90b3R5cGUuc2V0RWRpdGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXRFZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY2lyY2xlID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcblxyXG4gICAgICAgICAgICBjaXJjbGUuYXN5bmNocm9ub3VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBkcmF3SGVscGVyLnJlZ2lzdGVyRWRpdGFibGVTaGFwZShjaXJjbGUpO1xyXG5cclxuICAgICAgICAgICAgY2lyY2xlLnNldEVkaXRNb2RlID0gZnVuY3Rpb24gKGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lZGl0TW9kZSA9PSBlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuZGlzYWJsZUFsbEhpZ2hsaWdodHMoKTtcclxuICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgbWFya2Vyc1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCBvdGhlciBzaGFwZXMgYXJlIG5vdCBpbiBlZGl0IG1vZGUgYmVmb3JlIHN0YXJ0aW5nIHRoZSBlZGl0aW5nIG9mIHRoaXMgc2hhcGVcclxuICAgICAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnNldEVkaXRlZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbWFya2VycyBhbmQgaGFuZGxlcnMgZm9yIHRoZSBlZGl0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdCaWxsYm9hcmQgPSB0aGlzLmRyYWdCaWxsYm9hcmQ/IHRoaXMuZHJhZ0JpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAoZHJhd0hlbHBlciwgdGhpc0RyYWdCaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TWFya2VyUG9zaXRpb25zKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIF9zZWxmLmdldENpcmNsZUNhcnRlc2lhbkNvb3JkaW5hdGVzKENlc2l1bS5NYXRoLlBJX09WRVJfVFdPKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfc2VsZi5nZXRDaXJjbGVDYXJ0ZXNpYW5Db29yZGluYXRlcyhDZXNpdW0uTWF0aC5QSV9PVkVSX1RXTyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRWRpdGVkKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLmV4ZWN1dGVMaXN0ZW5lcnMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdvbkVkaXRlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBjaXJjbGUuZ2V0Q2VudGVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBjaXJjbGUuZ2V0UmFkaXVzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTWFya2VyQ2hhbmdlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdIYW5kbGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUuc2V0UmFkaXVzKENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlKGNpcmNsZS5nZXRDZW50ZXIoKSwgcG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zKGdldE1hcmtlclBvc2l0aW9ucygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRHJhZyB0byBjaGFuZ2UgdGhlIHJhZGl1c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZHMoZ2V0TWFya2VyUG9zaXRpb25zKCksIGhhbmRsZU1hcmtlckNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbWFya2VycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgaGFuZGxlciBmb3IgY2xpY2tpbmcgaW4gdGhlIGdsb2JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nbG9iZUNsaWNraGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LnByaW1pdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBvbiB0b3Agb2YgdGhlIHBvbHlnb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5zZXRPblRvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXJrZXJzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2lyY2xlLnNldEhpZ2hsaWdodGVkID0gc2V0SGlnaGxpZ2h0ZWQ7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhjaXJjbGUpO1xyXG5cclxuICAgICAgICAgICAgY2lyY2xlLnNldEVkaXRNb2RlKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF8uRHJhd0hlbHBlcldpZGdldCA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgZnVuY3Rpb24gXyhkcmF3SGVscGVyLCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBjb250YWluZXIgbXVzdCBiZSBzcGVjaWZpZWRcclxuICAgICAgICAgICAgaWYgKCEoQ2VzaXVtLmRlZmluZWQob3B0aW9ucy5jb250YWluZXIpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENlc2l1bS5EZXZlbG9wZXJFcnJvcignQ29udGFpbmVyIGlzIHJlcXVpcmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBkcmF3T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmtlckljb246IFwiLi9pbWcvZ2x5cGhpY29uc18yNDJfZ29vZ2xlX21hcHMucG5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBwb2x5bGluZUljb246IFwiLi9pbWcvZ2x5cGhpY29uc18wOTdfdmVjdG9yX3BhdGhfbGluZS5wbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIHBvbHlnb25JY29uOiBcIi4vaW1nL2dseXBoaWNvbnNfMDk2X3ZlY3Rvcl9wYXRoX3BvbHlnb24ucG5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBjaXJjbGVJY29uOiBcIi4vaW1nL2dseXBoaWNvbnNfMDk1X3ZlY3Rvcl9wYXRoX2NpcmNsZS5wbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIGV4dGVudEljb246IFwiLi9pbWcvZ2x5cGhpY29uc18wOTRfdmVjdG9yX3BhdGhfc3F1YXJlLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gY2xlYXJJY29uOiBcIi4vaW1nL2dseXBoaWNvbnNfMDY3X2NsZWFuaW5nLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgbWFya2VySWNvbjogXCIgbWFya2VyXCIsXHJcbiAgICAgICAgICAgICAgICBwb2x5bGluZUljb246IFwiIHBvbHlsaW5lXCIsXHJcbiAgICAgICAgICAgICAgICBwb2x5Z29uSWNvbjogXCIgcG9seWdvblwiLFxyXG4gICAgICAgICAgICAgICAgY2lyY2xlSWNvbjogXCIgY2lyY2xlXCIsXHJcbiAgICAgICAgICAgICAgICBleHRlbnRJY29uOiBcIiBleHRlbnRcIixcclxuICAgICAgICAgICAgICAgIGNsZWFySWNvbjogXCIgY2xlYXJcIixcclxuICAgICAgICAgICAgICAgIHBvbHlsaW5lRHJhd2luZ09wdGlvbnM6IGRlZmF1bHRQb2x5bGluZU9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBwb2x5Z29uRHJhd2luZ09wdGlvbnM6IGRlZmF1bHRQb2x5Z29uT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIGV4dGVudERyYXdpbmdPcHRpb25zOiBkZWZhdWx0RXh0ZW50T3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIGNpcmNsZURyYXdpbmdPcHRpb25zOiBkZWZhdWx0Q2lyY2xlT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBvcHRpb25zLnBpY2tTdHJhdGVneSA/IG9wdGlvbnMucGlja1N0cmF0ZWd5IDogZGVmYXVsdFBpY2tTdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZmlsbE9wdGlvbnMob3B0aW9ucywgZHJhd09wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZhciB0b29sYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgIHRvb2xiYXIuY2xhc3NOYW1lID0gXCJ0b29sYmFyXCI7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2xiYXIpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkSWNvbihpZCwgdXJsLCB0aXRsZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnYnV0dG9uJyArIHVybDtcclxuICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgICAgICAgICAgdG9vbGJhci5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICAgICAgZGl2Lm9uY2xpY2sgPSBjYWxsYmFjaztcclxuICAgICAgICAgICAgICAgIC8vIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU1HJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBpbWFnZS5zcmMgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAvLyBzcGFuLmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzY2VuZSA9IGRyYXdIZWxwZXIuX3NjZW5lO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvcHRpb25zLmJ1dHRvbnMpXHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJ1dHRvbnMuaW5kZXhPZihcIm1hcmtlclwiKSAhPT0gLTEgJiYgYWRkSWNvbignbWFya2VyJywgb3B0aW9ucy5tYXJrZXJJY29uLCAnQ2xpY2sgdG8gc3RhcnQgZHJhd2luZyBhIDJEIG1hcmtlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xpY2tDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ21hcmtlckNsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zdGFydERyYXdpbmdNYXJrZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ21hcmtlckNyZWF0ZWQnLCBwb3NpdGlvbjogcG9zaXRpb259KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBvcHRpb25zLnN0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwicG9seWxpbmVcIikgIT09IC0xICYmIGFkZEljb24oJ3BvbHlsaW5lJywgb3B0aW9ucy5wb2x5bGluZUljb24sICdDbGljayB0byBzdGFydCBkcmF3aW5nIGEgMkQgcG9seWxpbmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNsaWNrQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5bGluZUNsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zdGFydERyYXdpbmdQb2x5bGluZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ3BvbHlsaW5lQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneTogb3B0aW9ucy5zdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJ1dHRvbnMuaW5kZXhPZihcInBvbHlnb25cIikgIT09IC0xICYmIGFkZEljb24oJ3BvbHlnb24nLCBvcHRpb25zLnBvbHlnb25JY29uLCAnQ2xpY2sgdG8gc3RhcnQgZHJhd2luZyBhIDJEIHBvbHlnb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNsaWNrQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uQ2xpY2snXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnN0YXJ0RHJhd2luZ1BvbHlnb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdwb2x5Z29uQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneTogb3B0aW9ucy5zdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJ1dHRvbnMuaW5kZXhPZihcImV4dGVudFwiKSAhPT0gLTEgJiYgYWRkSWNvbignZXh0ZW50Jywgb3B0aW9ucy5leHRlbnRJY29uLCAnQ2xpY2sgdG8gc3RhcnQgZHJhd2luZyBhbiBFeHRlbnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNsaWNrQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdleHRlbnRDbGljaydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc3RhcnREcmF3aW5nRXh0ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGV4dGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnZXh0ZW50Q3JlYXRlZCcsIGV4dGVudDogZXh0ZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneTogb3B0aW9ucy5zdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJ1dHRvbnMuaW5kZXhPZihcImNpcmNsZVwiKSAhPT0gLTEgJiYgYWRkSWNvbignY2lyY2xlJywgb3B0aW9ucy5jaXJjbGVJY29uLCAnQ2xpY2sgdG8gc3RhcnQgZHJhd2luZyBhIENpcmNsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xpY2tDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NpcmNsZUNsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zdGFydERyYXdpbmdDaXJjbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2VudGVyLCByYWRpdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2NpcmNsZUNyZWF0ZWQnLCBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBvcHRpb25zLnN0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIGNsZWFyIGJ1dHRvbiBhdCB0aGUgZW5kXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIGRpdmlkZXIgZmlyc3RcclxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2RpdmlkZXInO1xyXG4gICAgICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGRpdik7XHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJ1dHRvbnMuaW5kZXhPZihcImNsZWFyXCIpICE9PSAtMSAmJlxyXG4gICAgICAgICAgICBhZGRJY29uKCdjbGVhcicsIG9wdGlvbnMuY2xlYXJJY29uLCAnUmVtb3ZlIGFsbCBwcmltaXRpdmVzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuY2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbGlja0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY2xlYXJDbGljaydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNjZW5lLnByaW1pdGl2ZXMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnModGhpcyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBfO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmlrDlop7lt6XlhbfmoI/ngrnlh7vlm57osINcclxuICAgICAqIEBwYXJhbSBjb250YWluZXJcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGV2ZW50KX0gb3B0aW9ucy5jbGlja0NhbGxiYWNrIC0gZXZlbnQubmFtZeWMheaLrCR7dG9vbGJhck5hbWV9Q2xpY2tcclxuICAgICAqIEByZXR1cm5zIHtffCp9XHJcbiAgICAgKi9cclxuICAgIF8ucHJvdG90eXBlLmFkZFRvb2xiYXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIHtjb250YWluZXI6IGNvbnRhaW5lcn0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgXy5EcmF3SGVscGVyV2lkZ2V0KHRoaXMsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEV4dGVudChtbiwgbXgpIHtcclxuICAgICAgICB2YXIgZSA9IG5ldyBDZXNpdW0uUmVjdGFuZ2xlKCk7XHJcblxyXG4gICAgICAgIC8vIFJlLW9yZGVyIHNvIHdlc3QgPCBlYXN0IGFuZCBzb3V0aCA8IG5vcnRoXHJcbiAgICAgICAgZS53ZXN0ID0gTWF0aC5taW4obW4ubG9uZ2l0dWRlLCBteC5sb25naXR1ZGUpO1xyXG4gICAgICAgIGUuZWFzdCA9IE1hdGgubWF4KG1uLmxvbmdpdHVkZSwgbXgubG9uZ2l0dWRlKTtcclxuICAgICAgICBlLnNvdXRoID0gTWF0aC5taW4obW4ubGF0aXR1ZGUsIG14LmxhdGl0dWRlKTtcclxuICAgICAgICBlLm5vcnRoID0gTWF0aC5tYXgobW4ubGF0aXR1ZGUsIG14LmxhdGl0dWRlKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFwcHJveCBlcXVhbCAoc2hvdWxkbid0IHJlcXVpcmUgYWJzIGR1ZSB0byByZS1vcmRlcilcclxuICAgICAgICB2YXIgZXBzaWxvbiA9IENlc2l1bS5NYXRoLkVQU0lMT043O1xyXG5cclxuICAgICAgICBpZiAoKGUuZWFzdCAtIGUud2VzdCkgPCBlcHNpbG9uKSB7XHJcbiAgICAgICAgICAgIGUuZWFzdCArPSBlcHNpbG9uICogMi4wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKChlLm5vcnRoIC0gZS5zb3V0aCkgPCBlcHNpbG9uKSB7XHJcbiAgICAgICAgICAgIGUubm9ydGggKz0gZXBzaWxvbiAqIDIuMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKGZyYW1lRGl2KSB7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwID0gZnVuY3Rpb24gKGZyYW1lRGl2KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSBcInR3aXBzeSByaWdodFwiO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgIGFycm93LmNsYXNzTmFtZSA9IFwidHdpcHN5LWFycm93XCI7XHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChhcnJvdyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgdGl0bGUuY2xhc3NOYW1lID0gXCJ0d2lwc3ktaW5uZXJcIjtcclxuXHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgdG8gZnJhbWUgZGl2IGFuZCBkaXNwbGF5IGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgIGZyYW1lRGl2LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvb2x0aXAucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiAodmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXYuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG9vbHRpcC5wcm90b3R5cGUuc2hvd0F0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAmJiBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aXRsZS5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgMTAgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9kaXYuc3R5bGUudG9wID0gKHBvc2l0aW9uLnkgLSB0aGlzLl9kaXYuY2xpZW50SGVpZ2h0IC8gMikgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGl0bGUuaW5uZXJIVE1MID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Kej5Yaz5ouW5Yqo5YiwdGlw5LiK5pe25a6V5py655qE6Zeu6aKYXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdG9vbHRpcC5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtZS5fZGl2LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycgJiYgKGNvdW50ID0gKChjb3VudCsrKSAlIDMpKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lLl9kaXYuc3R5bGUubGVmdCA9IGV2Lm9mZnNldFggKyAyMCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICBtZS5fZGl2LnN0eWxlLnRvcCA9IChldi5vZmZzZXRZIC0gbWUuX2Rpdi5jbGllbnRIZWlnaHQgLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgdG9vbHRpcChmcmFtZURpdik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RGlzcGxheUxhdExuZ1N0cmluZyhjYXJ0b2dyYXBoaWMsIHByZWNpc2lvbikge1xyXG4gICAgICAgIHJldHVybiBjYXJ0b2dyYXBoaWMubG9uZ2l0dWRlLnRvRml4ZWQocHJlY2lzaW9uIHx8IDMpICsgXCIsIFwiICsgY2FydG9ncmFwaGljLmxhdGl0dWRlLnRvRml4ZWQocHJlY2lzaW9uIHx8IDMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb25lKGZyb20sIHRvKSB7XHJcbiAgICAgICAgaWYgKGZyb20gPT0gbnVsbCB8fCB0eXBlb2YgZnJvbSAhPSBcIm9iamVjdFwiKSByZXR1cm4gZnJvbTtcclxuICAgICAgICBpZiAoZnJvbS5jb25zdHJ1Y3RvciAhPSBPYmplY3QgJiYgZnJvbS5jb25zdHJ1Y3RvciAhPSBBcnJheSkgcmV0dXJuIGZyb207XHJcbiAgICAgICAgaWYgKGZyb20uY29uc3RydWN0b3IgPT0gRGF0ZSB8fCBmcm9tLmNvbnN0cnVjdG9yID09IFJlZ0V4cCB8fCBmcm9tLmNvbnN0cnVjdG9yID09IEZ1bmN0aW9uIHx8XHJcbiAgICAgICAgICAgIGZyb20uY29uc3RydWN0b3IgPT0gU3RyaW5nIHx8IGZyb20uY29uc3RydWN0b3IgPT0gTnVtYmVyIHx8IGZyb20uY29uc3RydWN0b3IgPT0gQm9vbGVhbilcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBmcm9tLmNvbnN0cnVjdG9yKGZyb20pO1xyXG5cclxuICAgICAgICB0byA9IHRvIHx8IG5ldyBmcm9tLmNvbnN0cnVjdG9yKCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZnJvbSkge1xyXG4gICAgICAgICAgICB0b1tuYW1lXSA9IHR5cGVvZiB0b1tuYW1lXSA9PSBcInVuZGVmaW5lZFwiID8gY2xvbmUoZnJvbVtuYW1lXSwgbnVsbCkgOiB0b1tuYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0bztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaWxsT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHZhciBvcHRpb247XHJcbiAgICAgICAgZm9yIChvcHRpb24gaW4gZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnNbb3B0aW9uXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zW29wdGlvbl0gPSBjbG9uZShkZWZhdWx0T3B0aW9uc1tvcHRpb25dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzaGFsbG93IGNvcHlcclxuICAgIGZ1bmN0aW9uIGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG5ld09wdGlvbnMgPSBjbG9uZShvcHRpb25zKSwgb3B0aW9uO1xyXG4gICAgICAgIGZvciAob3B0aW9uIGluIGRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXdPcHRpb25zW29wdGlvbl0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbmV3T3B0aW9uc1tvcHRpb25dID0gY2xvbmUoZGVmYXVsdE9wdGlvbnNbb3B0aW9uXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld09wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXh0ZW5kT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgIHZhciBuZXdPcHRpb25zID0gY2xvbmUob3B0aW9ucyksIG9wdGlvbjtcclxuICAgICAgICBmb3IgKG9wdGlvbiBpbiBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICBuZXdPcHRpb25zW29wdGlvbl0gPSBjbG9uZShkZWZhdWx0T3B0aW9uc1tvcHRpb25dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld09wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0TGlzdGVuZXIocHJpbWl0aXZlLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHByaW1pdGl2ZVt0eXBlXSA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHByaW1pdGl2ZSwgdHlwZSkge1xyXG4gICAgICAgIGRlbGV0ZSBwcmltaXRpdmVbdHlwZV07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZW5oYW5jZVdpdGhMaXN0ZW5lcnMoZWxlbWVudCkge1xyXG5cclxuICAgICAgICBlbGVtZW50Ll9saXN0ZW5lcnMgPSB7fTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbbmFtZV0gPSAodGhpcy5fbGlzdGVuZXJzW25hbWVdIHx8IFtdKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW25hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW25hbWVdLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsZW1lbnQuZXhlY3V0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCwgZGVmYXVsdENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnNbZXZlbnQubmFtZV0gJiYgdGhpcy5fbGlzdGVuZXJzW2V2ZW50Lm5hbWVdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCB0aGlzLl9saXN0ZW5lcnNbZXZlbnQubmFtZV0ubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50Lm5hbWVdW2luZGV4XShldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENhbGxiYWNrKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blvZPliY3ngrnkvY3nmoTov5HlnLDngrnkvY1cclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLkNhcnRlc2lhbjN9IGNlc2l1bTNcclxuICAgICAqIEByZXR1cm5zIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Q2VzaXVtSGlnaHRaZXJvKGNlc2l1bTMpIHtcclxuICAgICAgICB2YXIgZnJvbUNhcnRlc2lhbiA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjZXNpdW0zKTtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbVJhZGlhbnMoZnJvbUNhcnRlc2lhbi5sb25naXR1ZGUsIGZyb21DYXJ0ZXNpYW4ubGF0aXR1ZGUsIDApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gXztcclxufSkpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval('module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, "loaded", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, "id", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2NlZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmNzcz9lZmE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n")}])});