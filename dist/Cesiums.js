!function(I,C){"object"==typeof exports&&"object"==typeof module?module.exports=C(require("Cesium")):"function"==typeof define&&define.amd?define(["Cesium"],C):"object"==typeof exports?exports.Cesiums=C(require("Cesium")):I.Cesiums=C(I.Cesium)}(window,function(__WEBPACK_EXTERNAL_MODULE__0__){return function(I){var C={};function g(Q){if(C[Q])return C[Q].exports;var F=C[Q]={i:Q,l:!1,exports:{}};return I[Q].call(F.exports,F,F.exports,g),F.l=!0,F.exports}return g.m=I,g.c=C,g.d=function(I,C,Q){g.o(I,C)||Object.defineProperty(I,C,{enumerable:!0,get:Q})},g.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},g.t=function(I,C){if(1&C&&(I=g(I)),8&C)return I;if(4&C&&"object"==typeof I&&I&&I.__esModule)return I;var Q=Object.create(null);if(g.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:I}),2&C&&"string"!=typeof I)for(var F in I)g.d(Q,F,function(C){return I[C]}.bind(null,F));return Q},g.n=function(I){var C=I&&I.__esModule?function(){return I.default}:function(){return I};return g.d(C,"a",C),C},g.o=function(I,C){return Object.prototype.hasOwnProperty.call(I,C)},g.p="/dist",g(g.s=8)}([function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJDZXNpdW1cIj8yN2MzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.ChoiceHelper = exports.DrawHelper = exports.cesium1_50Patch = exports.Settings = exports.OfficialUtils = exports.BuildingHightlightBuilder = exports.EditableEntity = exports.DazzlingLabelEntity = exports.EventType = exports.EventSystemInstance = exports.Cartesian3s = exports.Cameras = exports.__dirpath = undefined;\n\nvar _Cameras = __webpack_require__(9);\n\nObject.defineProperty(exports, "Cameras", {\n    enumerable: true,\n    get: function get() {\n        return _Cameras.Cameras;\n    }\n});\n\nvar _Cartesian3s = __webpack_require__(4);\n\nObject.defineProperty(exports, "Cartesian3s", {\n    enumerable: true,\n    get: function get() {\n        return _Cartesian3s.Cartesian3s;\n    }\n});\n\nvar _EventSystem = __webpack_require__(5);\n\nObject.defineProperty(exports, "EventSystemInstance", {\n    enumerable: true,\n    get: function get() {\n        return _EventSystem.EventSystemInstance;\n    }\n});\nObject.defineProperty(exports, "EventType", {\n    enumerable: true,\n    get: function get() {\n        return _EventSystem.EventType;\n    }\n});\n\nvar _DazzlingLabelEntity = __webpack_require__(13);\n\nObject.defineProperty(exports, "DazzlingLabelEntity", {\n    enumerable: true,\n    get: function get() {\n        return _DazzlingLabelEntity.DazzlingLabelEntity;\n    }\n});\n\nvar _EditableEntity = __webpack_require__(15);\n\nObject.defineProperty(exports, "EditableEntity", {\n    enumerable: true,\n    get: function get() {\n        return _EditableEntity.EditableEntity;\n    }\n});\n\nvar _BuildingHightlightBuilder = __webpack_require__(16);\n\nObject.defineProperty(exports, "BuildingHightlightBuilder", {\n    enumerable: true,\n    get: function get() {\n        return _BuildingHightlightBuilder.BuildingHightlightBuilder;\n    }\n});\n\nvar _Settings = __webpack_require__(6);\n\nObject.defineProperty(exports, "Settings", {\n    enumerable: true,\n    get: function get() {\n        return _Settings.Settings;\n    }\n});\n\nvar _Patchs = __webpack_require__(17);\n\nObject.defineProperty(exports, "cesium1_50Patch", {\n    enumerable: true,\n    get: function get() {\n        return _Patchs.cesium1_50Patch;\n    }\n});\n\nvar _ChoiceHelper = __webpack_require__(18);\n\nObject.defineProperty(exports, "ChoiceHelper", {\n    enumerable: true,\n    get: function get() {\n        return _ChoiceHelper.ChoiceHelper;\n    }\n});\n\n__webpack_require__(19);\n\nvar _OfficialUtils = __webpack_require__(3);\n\nvar officialUtils = _interopRequireWildcard(_OfficialUtils);\n\nvar _DrawHelper = __webpack_require__(20);\n\nvar drawHelper = _interopRequireWildcard(_DrawHelper);\n\n__webpack_require__(22);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar __dirpath = exports.__dirpath = getPathDir();\n\n/**\r\n * 用于组织管理输出,打包输出的内容依赖此文件的输出\r\n */\n/**Scene*/\n\n\n/**Util**/\nvar OfficialUtils = exports.OfficialUtils = officialUtils;\n\n/**Widgets**/\n\n\n/*ThirdParty*/\nvar DrawHelper = exports.DrawHelper = drawHelper;\n\n//遍历script 获取src路径\nfunction getPathDir() {\n    var scriptSrc = "";\n    var nodeList = document.querySelectorAll("script");\n    for (var i = 0; i < nodeList.length; i++) {\n        if (/Cesiums[^\\/]*$/.test(nodeList.item(i).src)) {\n            scriptSrc = nodeList.item(i).src;\n            break;\n        }\n    }\n\n    return scriptSrc.match(/(.+)\\/(Cesiums.js.*|Cesiums.min.js)/)[1];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJDYW1lcmFzIiwiQ2FydGVzaWFuM3MiLCJFdmVudFN5c3RlbUluc3RhbmNlIiwiRXZlbnRUeXBlIiwiRGF6emxpbmdMYWJlbEVudGl0eSIsIkVkaXRhYmxlRW50aXR5IiwiQnVpbGRpbmdIaWdodGxpZ2h0QnVpbGRlciIsIlNldHRpbmdzIiwiY2VzaXVtMV81MFBhdGNoIiwiQ2hvaWNlSGVscGVyIiwib2ZmaWNpYWxVdGlscyIsImRyYXdIZWxwZXIiLCJfX2RpcnBhdGgiLCJnZXRQYXRoRGlyIiwiT2ZmaWNpYWxVdGlscyIsIkRyYXdIZWxwZXIiLCJzY3JpcHRTcmMiLCJub2RlTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJ0ZXN0IiwiaXRlbSIsInNyYyIsIm1hdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7d0JBTVFBLE87Ozs7Ozs7Ozs0QkFJQUMsVzs7Ozs7Ozs7OzRCQUNBQyxtQjs7Ozs7OzRCQUFvQkMsUzs7Ozs7Ozs7O29DQUlwQkMsbUI7Ozs7Ozs7OzsrQkFDQUMsYzs7Ozs7Ozs7OzBDQUNBQyx5Qjs7Ozs7Ozs7O3lCQVFBQyxROzs7Ozs7Ozs7dUJBQ0FDLGU7Ozs7Ozs7Ozs2QkFPQUMsWTs7OztBQTFCUjs7QUFjQTs7SUFBWUMsYTs7QUFTWjs7SUFBWUMsVTs7QUFLWjs7OztBQW5DTyxJQUFNQyxnQ0FBWUMsWUFBbEI7O0FBRVA7OztBQUdBOzs7QUFlQTtBQUVPLElBQU1DLHdDQUFnQkosYUFBdEI7O0FBRVA7OztBQUtBO0FBRU8sSUFBTUssa0NBQWFKLFVBQW5COztBQVFQO0FBQ0EsU0FBU0UsVUFBVCxHQUFzQjtBQUNsQixRQUFJRyxZQUFZLEVBQWhCO0FBQ0EsUUFBSUMsV0FBV0MsU0FBU0MsZ0JBQVQsQ0FBMEIsUUFBMUIsQ0FBZjtBQUNBLFNBQUksSUFBSUMsSUFBSSxDQUFaLEVBQWVBLElBQUdILFNBQVNJLE1BQTNCLEVBQWtDRCxHQUFsQyxFQUFzQztBQUNsQyxZQUFHLGlCQUFpQkUsSUFBakIsQ0FBc0JMLFNBQVNNLElBQVQsQ0FBY0gsQ0FBZCxFQUFpQkksR0FBdkMsQ0FBSCxFQUErQztBQUMzQ1Isd0JBQVlDLFNBQVNNLElBQVQsQ0FBY0gsQ0FBZCxFQUFpQkksR0FBN0I7QUFDQTtBQUNIO0FBQ0o7O0FBRUQsV0FBT1IsVUFBVVMsS0FBVixDQUFnQixxQ0FBaEIsRUFBdUQsQ0FBdkQsQ0FBUDtBQUNIIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgX19kaXJwYXRoID0gZ2V0UGF0aERpcigpO1xyXG5cclxuLyoqXHJcbiAqIOeUqOS6jue7hOe7h+euoeeQhui+k+WHuizmiZPljIXovpPlh7rnmoTlhoXlrrnkvp3otZbmraTmlofku7bnmoTovpPlh7pcclxuICovXHJcbi8qKlNjZW5lKi9cclxuZXhwb3J0IHtDYW1lcmFzfSBmcm9tIFwiLi9TY2VuZS9DYW1lcmFzXCJcclxuaW1wb3J0IFwiLi9TY2VuZS9DYW1lcmFzLmNzc1wiXHJcblxyXG4vKipDb3JlKi9cclxuZXhwb3J0IHtDYXJ0ZXNpYW4zc30gZnJvbSBcIi4vQ29yZS9DYXJ0ZXNpYW4zc1wiXHJcbmV4cG9ydCB7RXZlbnRTeXN0ZW1JbnN0YW5jZSxFdmVudFR5cGV9IGZyb20gXCIuL0NvcmUvRXZlbnRTeXN0ZW1cIlxyXG5cclxuXHJcbi8qKkRhdGFTb3VyY2VzKi9cclxuZXhwb3J0IHtEYXp6bGluZ0xhYmVsRW50aXR5fSBmcm9tIFwiLi9EYXRhU291cmNlcy9EYXp6bGluZ0xhYmVsRW50aXR5XCJcclxuZXhwb3J0IHtFZGl0YWJsZUVudGl0eX0gZnJvbSBcIi4vRGF0YVNvdXJjZXMvRWRpdGFibGVFbnRpdHlcIlxyXG5leHBvcnQge0J1aWxkaW5nSGlnaHRsaWdodEJ1aWxkZXJ9IGZyb20gXCIuL0RhdGFTb3VyY2VzL0J1aWxkaW5nSGlnaHRsaWdodEJ1aWxkZXJcIlxyXG5cclxuXHJcbi8qKlV0aWwqKi9cclxuaW1wb3J0ICogYXMgb2ZmaWNpYWxVdGlscyBmcm9tIFwiLi9VdGlsL09mZmljaWFsVXRpbHNcIjtcclxuZXhwb3J0IGNvbnN0IE9mZmljaWFsVXRpbHMgPSBvZmZpY2lhbFV0aWxzO1xyXG5cclxuLyoqV2lkZ2V0cyoqL1xyXG5leHBvcnQge1NldHRpbmdzfSBmcm9tICBcIi4vV2lkZ2V0cy9TZXR0aW5nc1wiO1xyXG5leHBvcnQge2Nlc2l1bTFfNTBQYXRjaH0gZnJvbSAgXCIuL1dpZGdldHMvUGF0Y2hzXCI7XHJcblxyXG5cclxuLypUaGlyZFBhcnR5Ki9cclxuaW1wb3J0ICogYXMgZHJhd0hlbHBlciBmcm9tIFwiLi9UaGlyZFBhcnR5L0RyYXdIZWxwZXJcIjtcclxuZXhwb3J0IGNvbnN0IERyYXdIZWxwZXIgPSBkcmF3SGVscGVyO1xyXG5cclxuZXhwb3J0IHtDaG9pY2VIZWxwZXJ9IGZyb20gXCIuL1RoaXJkUGFydHkvQ2hvaWNlSGVscGVyXCJcclxuXHJcbmltcG9ydCBcIi4vVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmNzc1wiXHJcblxyXG5cclxuXHJcbi8v6YGN5Y6Gc2NyaXB0IOiOt+WPlnNyY+i3r+W+hFxyXG5mdW5jdGlvbiBnZXRQYXRoRGlyKCkge1xyXG4gICAgbGV0IHNjcmlwdFNyYyA9IFwiXCI7XHJcbiAgICBsZXQgbm9kZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpO1xyXG4gICAgZm9yKGxldCBpID0gMDsgaTwgbm9kZUxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgaWYoL0Nlc2l1bXNbXlxcL10qJC8udGVzdChub2RlTGlzdC5pdGVtKGkpLnNyYykpe1xyXG4gICAgICAgICAgICBzY3JpcHRTcmMgPSBub2RlTGlzdC5pdGVtKGkpLnNyYztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzY3JpcHRTcmMubWF0Y2goLyguKylcXC8oQ2VzaXVtcy5qcy4qfENlc2l1bXMubWluLmpzKS8pWzFdO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar getWithDefault = exports.getWithDefault = function getWithDefault(element, defaultElement) {\n    return defined(element) ? element : defaultElement;\n};\n\nvar defined = exports.defined = function defined(element) {\n    return element !== null && element !== undefined;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9Ob3JtYWxVdGlscy5qcz85NzdlIl0sIm5hbWVzIjpbImdldFdpdGhEZWZhdWx0IiwiZWxlbWVudCIsImRlZmF1bHRFbGVtZW50IiwiZGVmaW5lZCIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxJQUFNQSwwQ0FBaUIsU0FBakJBLGNBQWlCLENBQUNDLE9BQUQsRUFBVUMsY0FBVixFQUE2QjtBQUN2RCxXQUFPQyxRQUFRRixPQUFSLElBQW1CQSxPQUFuQixHQUE2QkMsY0FBcEM7QUFDSCxDQUZNOztBQUlBLElBQU1DLDRCQUFVLFNBQVZBLE9BQVUsQ0FBQ0YsT0FBRCxFQUFZO0FBQy9CLFdBQU9BLFlBQVksSUFBWixJQUFvQkEsWUFBWUcsU0FBdkM7QUFDSCxDQUZNIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0V2l0aERlZmF1bHQgPSAoZWxlbWVudCwgZGVmYXVsdEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiBkZWZpbmVkKGVsZW1lbnQpID8gZWxlbWVudCA6IGRlZmF1bHRFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmaW5lZCA9IChlbGVtZW50KSA9PntcclxuICAgIHJldHVybiBlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQgIT09IHVuZGVmaW5lZDtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n/**\r\n * 获取绕某点的圆 SampledPositionProperty\r\n * @param lon 角度\r\n * @param lat 角度\r\n * @param height\r\n * @param radius\r\n */\nvar computeCirclularFlight = exports.computeCirclularFlight = function computeCirclularFlight(lon, lat, height, radius) {\n    var property = new Cesium.SampledPositionProperty();\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n\n    var increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n    for (var i = startAngle; i < endAngle; i += increment) {\n        var radians = Cesium.Math.toRadians(i);\n        var timeIncrement = i - startAngle;\n        var time = Cesium.JulianDate.addSeconds(start, timeIncrement, new Cesium.JulianDate());\n        var position = Cesium.Cartesian3.fromDegrees(lon + radius * 1.5 * Math.cos(radians), lat + radius * Math.sin(radians), height);\n        property.addSample(time, position);\n    }\n    return property;\n};\n\nvar computeCirclularFlightPositions = exports.computeCirclularFlightPositions = function computeCirclularFlightPositions(lon, lat, height, radius) {\n    var positions = [];\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n\n    var increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n    for (var i = startAngle; i < endAngle; i += increment) {\n        var radians = Cesium.Math.toRadians(i);\n        var position = Cesium.Cartesian3.fromDegrees(lon + radius * 1.5 * Math.cos(radians), lat + radius * Math.sin(radians), height);\n        positions.push(position);\n    }\n    return positions;\n};\n\nvar computeCirclularAugle = exports.computeCirclularAugle = function computeCirclularAugle(increment) {\n    var startAngle = Cesium.Math.nextRandomNumber() * 360.0;\n    var endAngle = startAngle + 360.0;\n    // let increment = (Cesium.Math.nextRandomNumber() * 2.0 - 1.0) * 10.0 + 45.0;\n\n    var angles = [];\n    for (var i = startAngle; i < endAngle; i += increment) {\n        angles.push(i);\n    }\n    return angles;\n};\n\nvar computeCircle = exports.computeCircle = function computeCircle(radius) {\n    var positions = [];\n    for (var i = 0; i < 360; i++) {\n        var radians = Cesium.Math.toRadians(i);\n        positions.push(new Cesium.Cartesian2(radius * Math.cos(radians), radius * Math.sin(radians)));\n    }\n    return positions;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9PZmZpY2lhbFV0aWxzLmpzP2IwNTYiXSwibmFtZXMiOlsiY29tcHV0ZUNpcmNsdWxhckZsaWdodCIsImxvbiIsImxhdCIsImhlaWdodCIsInJhZGl1cyIsInByb3BlcnR5IiwiQ2VzaXVtIiwiU2FtcGxlZFBvc2l0aW9uUHJvcGVydHkiLCJzdGFydEFuZ2xlIiwiTWF0aCIsIm5leHRSYW5kb21OdW1iZXIiLCJlbmRBbmdsZSIsImluY3JlbWVudCIsImkiLCJyYWRpYW5zIiwidG9SYWRpYW5zIiwidGltZUluY3JlbWVudCIsInRpbWUiLCJKdWxpYW5EYXRlIiwiYWRkU2Vjb25kcyIsInN0YXJ0IiwicG9zaXRpb24iLCJDYXJ0ZXNpYW4zIiwiZnJvbURlZ3JlZXMiLCJjb3MiLCJzaW4iLCJhZGRTYW1wbGUiLCJjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0UG9zaXRpb25zIiwicG9zaXRpb25zIiwicHVzaCIsImNvbXB1dGVDaXJjbHVsYXJBdWdsZSIsImFuZ2xlcyIsImNvbXB1dGVDaXJjbGUiLCJDYXJ0ZXNpYW4yIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7O0FBT08sSUFBTUEsMERBQXlCLFNBQXpCQSxzQkFBeUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE1BQVgsRUFBbUJDLE1BQW5CLEVBQThCO0FBQ2hFLFFBQUlDLFdBQVcsSUFBSUMsT0FBT0MsdUJBQVgsRUFBZjtBQUNBLFFBQUlDLGFBQWFGLE9BQU9HLElBQVAsQ0FBWUMsZ0JBQVosS0FBaUMsS0FBbEQ7QUFDQSxRQUFJQyxXQUFXSCxhQUFhLEtBQTVCOztBQUVBLFFBQUlJLFlBQVksQ0FBQ04sT0FBT0csSUFBUCxDQUFZQyxnQkFBWixLQUFpQyxHQUFqQyxHQUF1QyxHQUF4QyxJQUErQyxJQUEvQyxHQUFzRCxJQUF0RTtBQUNBLFNBQUssSUFBSUcsSUFBSUwsVUFBYixFQUF5QkssSUFBSUYsUUFBN0IsRUFBdUNFLEtBQUtELFNBQTVD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YW1wbGVkUG9zaXRpb25Qcm9wZXJ0eVxyXG4gKiBAcGFyYW0gbG9uIOinkuW6plxyXG4gKiBAcGFyYW0gbGF0IOinkuW6plxyXG4gKiBAcGFyYW0gaGVpZ2h0XHJcbiAqIEBwYXJhbSByYWRpdXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0ID0gKGxvbiwgbGF0LCBoZWlnaHQsIHJhZGl1cykgPT4ge1xyXG4gICAgbGV0IHByb3BlcnR5ID0gbmV3IENlc2l1bS5TYW1wbGVkUG9zaXRpb25Qcm9wZXJ0eSgpO1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuXHJcbiAgICBsZXQgaW5jcmVtZW50ID0gKENlc2l1bS5NYXRoLm5leHRSYW5kb21OdW1iZXIoKSAqIDIuMCAtIDEuMCkgKiAxMC4wICsgNDUuMDtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbnMgPSBDZXNpdW0uTWF0aC50b1JhZGlhbnMoaSk7XHJcbiAgICAgICAgbGV0IHRpbWVJbmNyZW1lbnQgPSBpIC0gc3RhcnRBbmdsZTtcclxuICAgICAgICBsZXQgdGltZSA9IENlc2l1bS5KdWxpYW5EYXRlLmFkZFNlY29uZHMoc3RhcnQsIHRpbWVJbmNyZW1lbnQsIG5ldyBDZXNpdW0uSnVsaWFuRGF0ZSgpKTtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhsb24gKyAocmFkaXVzICogMS41ICogTWF0aC5jb3MocmFkaWFucykpLCBsYXQgKyAocmFkaXVzICogTWF0aC5zaW4ocmFkaWFucykpLCBoZWlnaHQpO1xyXG4gICAgICAgIHByb3BlcnR5LmFkZFNhbXBsZSh0aW1lLCBwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvcGVydHk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2x1bGFyRmxpZ2h0UG9zaXRpb25zID0gKGxvbiwgbGF0LCBoZWlnaHQsIHJhZGl1cykgPT4ge1xyXG4gICAgbGV0IHBvc2l0aW9ucyA9IFtdO1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuXHJcbiAgICBsZXQgaW5jcmVtZW50ID0gKENlc2l1bS5NYXRoLm5leHRSYW5kb21OdW1iZXIoKSAqIDIuMCAtIDEuMCkgKiAxMC4wICsgNDUuMDtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgbGV0IHJhZGlhbnMgPSBDZXNpdW0uTWF0aC50b1JhZGlhbnMoaSk7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMobG9uICsgKHJhZGl1cyAqIDEuNSAqIE1hdGguY29zKHJhZGlhbnMpKSwgbGF0ICsgKHJhZGl1cyAqIE1hdGguc2luKHJhZGlhbnMpKSwgaGVpZ2h0KTtcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zaXRpb25zO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29tcHV0ZUNpcmNsdWxhckF1Z2xlID0gKGluY3JlbWVudCkgPT4ge1xyXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBDZXNpdW0uTWF0aC5uZXh0UmFuZG9tTnVtYmVyKCkgKiAzNjAuMDtcclxuICAgIGxldCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAzNjAuMDtcclxuICAgIC8vIGxldCBpbmNyZW1lbnQgPSAoQ2VzaXVtLk1hdGgubmV4dFJhbmRvbU51bWJlcigpICogMi4wIC0gMS4wKSAqIDEwLjAgKyA0NS4wO1xyXG5cclxuICAgIGxldCBhbmdsZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEFuZ2xlOyBpIDwgZW5kQW5nbGU7IGkgKz0gaW5jcmVtZW50KSB7XHJcbiAgICAgICAgYW5nbGVzLnB1c2goaSlcclxuICAgIH1cclxuICAgIHJldHVybiBhbmdsZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlQ2lyY2xlID0gKHJhZGl1cykgPT4ge1xyXG4gICAgdmFyIHBvc2l0aW9ucyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjA7IGkrKykge1xyXG4gICAgICAgIHZhciByYWRpYW5zID0gQ2VzaXVtLk1hdGgudG9SYWRpYW5zKGkpO1xyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKG5ldyBDZXNpdW0uQ2FydGVzaWFuMihyYWRpdXMgKiBNYXRoLmNvcyhyYWRpYW5zKSwgcmFkaXVzICogTWF0aC5zaW4ocmFkaWFucykpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbnM7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Cartesian3s = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Cartesian3s = exports.Cartesian3s = function () {\n    function Cartesian3s() {\n        _classCallCheck(this, Cartesian3s);\n    }\n\n    _createClass(Cartesian3s, null, [{\n        key: "toRadians",\n\n\n        /**\r\n         * 将地球坐标系基于WSG84椭球体转换成经纬度（弧度制）\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         * @returns {{height: *, latitude: *, longitude: *}}\r\n         */\n        value: function toRadians(cartesian3) {\n            return Cesium.Cartographic.fromCartesian(cartesian3);\n        }\n\n        /**\r\n         * 输出角度单位的经纬度\r\n         * @param {Cesium.Cartesian3}  cartesian3\r\n         * @returns {{height: *, latitude: *, longitude: *}}\r\n         */\n\n    }, {\n        key: "toDegrees",\n        value: function toDegrees(cartesian3) {\n            var cartographic = Cartesian3s.toRadians(cartesian3);\n            return {\n                height: cartographic.height,\n                latitude: Cesium.Math.toDegrees(cartographic.latitude),\n                longitude: Cesium.Math.toDegrees(cartographic.longitude)\n            };\n        }\n\n        /**\r\n         * 修正当前点位的高度\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         * @param {number} heightPlus - 修正高度，默认为5\r\n         */\n\n    }, {\n        key: "formatHeightPlus",\n        value: function formatHeightPlus(cartesian3) {\n            var heightPlus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, fromCartesian.height + heightPlus);\n        }\n\n        /**\r\n         * 修正当前点位的高度到0\r\n         * @param {Cesium.Cartesian3} cartesian3\r\n         */\n\n    }, {\n        key: "formatHeightZero",\n        value: function formatHeightZero(cartesian3) {\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n        }\n    }, {\n        key: "formatHeight",\n        value: function formatHeight(cartesian3, height) {\n            var fromCartesian = Cartesian3s.toRadians(cartesian3);\n            return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, height);\n        }\n    }, {\n        key: "getCenter",\n        value: function getCenter(positions) {\n            var sum = new Cesium.Cartesian3();\n            positions.forEach(function (position) {\n                Cesium.Cartesian3.add(sum, position, sum);\n            });\n            return Cesium.Cartesian3.divideByScalar(sum, positions.length, sum);\n        }\n    }]);\n\n    return Cartesian3s;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29yZS9DYXJ0ZXNpYW4zcy5qcz85OTMwIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkNhcnRlc2lhbjNzIiwiY2FydGVzaWFuMyIsIkNhcnRvZ3JhcGhpYyIsImZyb21DYXJ0ZXNpYW4iLCJjYXJ0b2dyYXBoaWMiLCJ0b1JhZGlhbnMiLCJoZWlnaHQiLCJsYXRpdHVkZSIsIk1hdGgiLCJ0b0RlZ3JlZXMiLCJsb25naXR1ZGUiLCJoZWlnaHRQbHVzIiwiQ2FydGVzaWFuMyIsImZyb21SYWRpYW5zIiwicG9zaXRpb25zIiwic3VtIiwiZm9yRWFjaCIsInBvc2l0aW9uIiwiYWRkIiwiZGl2aWRlQnlTY2FsYXIiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOzs7Ozs7SUFFQ0MsVyxXQUFBQSxXOzs7Ozs7Ozs7QUFFVDs7Ozs7a0NBS2lCQyxVLEVBQVk7QUFDekIsbUJBQU9GLE9BQU9HLFlBQVAsQ0FBb0JDLGFBQXBCLENBQWtDRixVQUFsQyxDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7O2tDQUtpQkEsVSxFQUFZO0FBQ3pCLGdCQUFJRyxlQUFlSixZQUFZSyxTQUFaLENBQXNCSixVQUF0QixDQUFuQjtBQUNBLG1CQUFPO0FBQ0hLLHdCQUFRRixhQUFhRSxNQURsQjtBQUVIQywwQkFBVVIsT0FBT1MsSUFBUCxDQUFZQyxTQUFaLENBQXNCTCxhQUFhRyxRQUFuQyxDQUZQO0FBR0hHLDJCQUFXWCxPQUFPUyxJQUFQLENBQVlDLFNBQVosQ0FBc0JMLGFBQWFNLFNBQW5DO0FBSFIsYUFBUDtBQUtIOztBQUVEOzs7Ozs7Ozt5Q0FLd0JULFUsRUFBNEI7QUFBQSxnQkFBaEJVLFVBQWdCLHVFQUFILENBQUc7O0FBQ2hELGdCQUFJUixnQkFBZ0JILFlBQVlLLFNBQVosQ0FBc0JKLFVBQXRCLENBQXBCO0FBQ0EsbUJBQU9GLE9BQU9hLFVBQVAsQ0FBa0JDLFdBQWxCLENBQThCVixjQUFjTyxTQUE1QyxFQUF1RFAsY0FBY0ksUUFBckUsRUFBK0VKLGNBQWNHLE1BQWQsR0FBdUJLLFVBQXRHLENBQVA7QUFDSDs7QUFFRDs7Ozs7Ozt5Q0FJd0JWLFUsRUFBWTtBQUNoQyxnQkFBSUUsZ0JBQWdCSCxZQUFZSyxTQUFaLENBQXNCSixVQUF0QixDQUFwQjtBQUNBLG1CQUFPRixPQUFPYSxVQUFQLENBQWtCQyxXQUFsQixDQUE4QlYsY0FBY08sU0FBNUMsRUFBdURQLGNBQWNJLFFBQXJFLEVBQStFLENBQS9FLENBQVA7QUFDSDs7O3FDQUVtQk4sVSxFQUFZSyxNLEVBQVE7QUFDcEMsZ0JBQUlILGdCQUFnQkgsWUFBWUssU0FBWixDQUFzQkosVUFBdEIsQ0FBcEI7QUFDQSxtQkFBT0YsT0FBT2EsVUFBUCxDQUFrQkMsV0FBbEIsQ0FBOEJWLGNBQWNPLFNBQTVDLEVBQXVEUCxjQUFjSSxRQUFyRSxFQUErRUQsTUFBL0UsQ0FBUDtBQUNIOzs7a0NBRWdCUSxTLEVBQVU7QUFDdkIsZ0JBQUlDLE1BQU0sSUFBSWhCLE9BQU9hLFVBQVgsRUFBVjtBQUNBRSxzQkFBVUUsT0FBVixDQUFrQixVQUFDQyxRQUFELEVBQVk7QUFDMUJsQix1QkFBT2EsVUFBUCxDQUFrQk0sR0FBbEIsQ0FBc0JILEdBQXRCLEVBQTJCRSxRQUEzQixFQUFxQ0YsR0FBckM7QUFDSCxhQUZEO0FBR0EsbUJBQU9oQixPQUFPYSxVQUFQLENBQWtCTyxjQUFsQixDQUFpQ0osR0FBakMsRUFBcUNELFVBQVVNLE1BQS9DLEVBQXNETCxHQUF0RCxDQUFQO0FBQ0giLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FydGVzaWFuM3Mge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCG5Zyw55CD5Z2Q5qCH57O75Z+65LqOV1NHODTmpK3nkIPkvZPovazmjaLmiJDnu4/nuqzluqbvvIjlvKfluqbliLbvvIlcclxuICAgICAqIEBwYXJhbSB7Q2VzaXVtLkNhcnRlc2lhbjN9IGNhcnRlc2lhbjNcclxuICAgICAqIEByZXR1cm5zIHt7aGVpZ2h0OiAqLCBsYXRpdHVkZTogKiwgbG9uZ2l0dWRlOiAqfX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHRvUmFkaWFucyhjYXJ0ZXNpYW4zKSB7XHJcbiAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjYXJ0ZXNpYW4zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi+k+WHuuinkuW6puWNleS9jeeahOe7j+e6rOW6plxyXG4gICAgICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gIGNhcnRlc2lhbjNcclxuICAgICAqIEByZXR1cm5zIHt7aGVpZ2h0OiAqLCBsYXRpdHVkZTogKiwgbG9uZ2l0dWRlOiAqfX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHRvRGVncmVlcyhjYXJ0ZXNpYW4zKSB7XHJcbiAgICAgICAgbGV0IGNhcnRvZ3JhcGhpYyA9IENhcnRlc2lhbjNzLnRvUmFkaWFucyhjYXJ0ZXNpYW4zKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IGNhcnRvZ3JhcGhpYy5oZWlnaHQsXHJcbiAgICAgICAgICAgIGxhdGl0dWRlOiBDZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxhdGl0dWRlKSxcclxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBDZXNpdW0uTWF0aC50b0RlZ3JlZXMoY2FydG9ncmFwaGljLmxvbmdpdHVkZSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5q2j5b2T5YmN54K55L2N55qE6auY5bqmXHJcbiAgICAgKiBAcGFyYW0ge0Nlc2l1bS5DYXJ0ZXNpYW4zfSBjYXJ0ZXNpYW4zXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0UGx1cyAtIOS/ruato+mrmOW6pu+8jOm7mOiupOS4ujVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZvcm1hdEhlaWdodFBsdXMoY2FydGVzaWFuMywgaGVpZ2h0UGx1cyA9IDUpIHtcclxuICAgICAgICBsZXQgZnJvbUNhcnRlc2lhbiA9IENhcnRlc2lhbjNzLnRvUmFkaWFucyhjYXJ0ZXNpYW4zKTtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbVJhZGlhbnMoZnJvbUNhcnRlc2lhbi5sb25naXR1ZGUsIGZyb21DYXJ0ZXNpYW4ubGF0aXR1ZGUsIGZyb21DYXJ0ZXNpYW4uaGVpZ2h0ICsgaGVpZ2h0UGx1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkv67mraPlvZPliY3ngrnkvY3nmoTpq5jluqbliLAwXHJcbiAgICAgKiBAcGFyYW0ge0Nlc2l1bS5DYXJ0ZXNpYW4zfSBjYXJ0ZXNpYW4zXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmb3JtYXRIZWlnaHRaZXJvKGNhcnRlc2lhbjMpIHtcclxuICAgICAgICBsZXQgZnJvbUNhcnRlc2lhbiA9IENhcnRlc2lhbjNzLnRvUmFkaWFucyhjYXJ0ZXNpYW4zKTtcclxuICAgICAgICByZXR1cm4gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbVJhZGlhbnMoZnJvbUNhcnRlc2lhbi5sb25naXR1ZGUsIGZyb21DYXJ0ZXNpYW4ubGF0aXR1ZGUsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmb3JtYXRIZWlnaHQoY2FydGVzaWFuMywgaGVpZ2h0KSB7XHJcbiAgICAgICAgbGV0IGZyb21DYXJ0ZXNpYW4gPSBDYXJ0ZXNpYW4zcy50b1JhZGlhbnMoY2FydGVzaWFuMyk7XHJcbiAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21SYWRpYW5zKGZyb21DYXJ0ZXNpYW4ubG9uZ2l0dWRlLCBmcm9tQ2FydGVzaWFuLmxhdGl0dWRlLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDZW50ZXIocG9zaXRpb25zKXtcclxuICAgICAgICBsZXQgc3VtID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCk7XHJcbiAgICAgICAgcG9zaXRpb25zLmZvckVhY2goKHBvc2l0aW9uKT0+e1xyXG4gICAgICAgICAgICBDZXNpdW0uQ2FydGVzaWFuMy5hZGQoc3VtLCBwb3NpdGlvbiwgc3VtKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmRpdmlkZUJ5U2NhbGFyKHN1bSxwb3NpdGlvbnMubGVuZ3RoLHN1bSk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.EventSystemInstance = exports.EventSystemFactory = exports.EventType = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _NormalUtils = __webpack_require__(2);\n\nvar _TypeUtils = __webpack_require__(10);\n\nvar _EventHelper = __webpack_require__(11);\n\nvar _Settings = __webpack_require__(6);\n\nvar _Uuid = __webpack_require__(12);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar consumeMoveOutFlag = true;\n\n/**\r\n * 接管Cesium的事件系统（对于entity和primitive）\r\n */\n\nvar EventSystem = function () {\n    function EventSystem() {\n        var accuracy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n\n        _classCallCheck(this, EventSystem);\n\n        this._init = false;\n        this._accuracy = accuracy;\n        this._enableRotation = true;\n        this._frameRate = 60;\n        this.updateMoveTime();\n        this._cunsumeMoveOutObject = [];\n        window.logs = [];\n    }\n\n    /**\r\n     * 单地图\r\n     * @param viewer\r\n     */\n\n\n    _createClass(EventSystem, [{\n        key: "setView",\n        value: function setView(viewer) {\n            if (!this._init) {\n                this.viewer = viewer;\n                if ((0, _NormalUtils.defined)(viewer)) {\n                    this._init = true;\n                    this.eventBind();\n                }\n            }\n            return this;\n        }\n\n        /**\r\n         * 设置帧率，帧率会影响move事件的节流时间\r\n         * @param frameRate\r\n         */\n\n    }, {\n        key: "setFrameRate",\n        value: function setFrameRate(frameRate) {\n            this._frameRate = frameRate;\n            this.updateMoveTime();\n        }\n    }, {\n        key: "updateMoveTime",\n        value: function updateMoveTime() {\n            this._moveTime = parseInt(1000 / this._frameRate);\n        }\n    }, {\n        key: "setAccuracy",\n        value: function setAccuracy() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n\n            this._accuracy = value;\n            return this;\n        }\n    }, {\n        key: "eventBind",\n        value: function eventBind() {\n            var _this = this;\n\n            var moveCount = 0;\n            var moveTimeout = null;\n            var pressFlag = false;\n            var currentObject = null;\n            var firstFlag = true;\n            var mouseMoveObject = null;\n            var handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(EventType.LEFT_CLICK, movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n            handler.setInputAction(function (movement) {\n                _this.callPrimitiveCallback(EventType.LEFT_DOUBLE_CLICK, movement.position);\n            }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n\n            handler.setInputAction(function (movementStep) {\n\n                if (moveTimeout === null) {\n                    var markPosition = {\n                        x: movementStep.endPosition.x,\n                        y: movementStep.endPosition.y\n                    };\n                    // console.log(markPosition)\n\n                    moveTimeout = setTimeout(function () {\n                        if (pressFlag) {\n                            //第一次按下\n                            if (firstFlag) {\n                                firstFlag = false;\n                                _this.callPrimitiveCallbackCurrent(currentObject, EventType.DRAW_START, markPosition);\n                                if (currentObject && !_this._enableRotation) {\n                                    _Settings.Settings.enableRotation(_this.viewer, false);\n                                }\n                            } else {\n                                _this.callPrimitiveCallbackCurrent(currentObject, EventType.DRAW, markPosition);\n                            }\n                        } else {\n                            var lastObject = mouseMoveObject;\n                            // console.log([ lastObject, mouseMoveObject, markPosition])\n                            var currentMouseMoveObject = _this.callPrimitiveCallback(EventType.MOUSE_MOVE, markPosition);\n                            // console.log([currentMouseMoveObject, lastObject, mouseMoveObject, markPosition])\n                            if (currentMouseMoveObject !== lastObject) {\n                                mouseMoveObject = currentMouseMoveObject;\n                                lastObject && _this.callPrimitiveCallbackCurrent(lastObject, EventType.MOUSE_MOVE_OUT, markPosition);\n                            }\n                        }\n                        moveTimeout = null;\n                    }, _this._moveTime);\n                }\n            }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n            handler.setInputAction(function (movement) {\n                if (pressFlag) {\n                    pressFlag = false;\n                    currentObject && _this.callPrimitiveCallbackCurrent(currentObject, EventType.DRAW_END, movement.position);\n                }\n                _this.callPrimitiveCallback(EventType.LEFT_UP, movement.position);\n\n                _Settings.Settings.enableRotation(_this.viewer, true);\n                currentObject = null;\n                firstFlag = true;\n            }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n            handler.setInputAction(function (movement) {\n                pressFlag = true;\n                currentObject = _this.callPrimitiveCallback(EventType.LEFT_DOWN, movement.position);\n                // if (currentObject && (currentObject[EventType.DRAW] || currentObject[EventType.DRAW_START] || currentObject[EventType.DRAW_END])) {\n            }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n        }\n    }, {\n        key: "callPrimitiveCallback",\n        value: function callPrimitiveCallback(eventName, position) {\n            var pickedObject = this.viewer.scene.pick(position, this._accuracy, this._accuracy);\n            //entity\n            if (pickedObject && (0, _TypeUtils.typeContaines)(pickedObject.id, "Entity")) {\n                return this.callPrimitiveCallbackCurrent(pickedObject.id, eventName, position);\n            }\n            //primitive\n            if (pickedObject && pickedObject.primitive) {\n                return this.callPrimitiveCallbackCurrent(pickedObject.primitive, eventName, position);\n            }\n\n            return undefined;\n        }\n    }, {\n        key: "callPrimitiveCallbackCurrent",\n        value: function callPrimitiveCallbackCurrent(pickedObjectObj, eventName, position) {\n            pickedObjectObj && pickedObjectObj[eventName] && pickedObjectObj[eventName](position, pickedObjectObj);\n            return pickedObjectObj;\n        }\n    }, {\n        key: "consumeMoveOut",\n        value: function consumeMoveOut() {\n            var _this2 = this;\n\n            if (consumeMoveOutFlag) {\n                consumeMoveOutFlag = false;\n                var cunsumeObjects = this._cunsumeMoveOutObject.slice(0);\n                this._cunsumeMoveOutObject.length = 0;\n                cunsumeObjects.forEach(function (obj) {\n                    obj.obj && _this2.callPrimitiveCallbackCurrent(obj.obj, EventType.MOUSE_MOVE_OUT, obj.position);\n                });\n\n                consumeMoveOutFlag = true;\n            }\n        }\n\n        /**\r\n         *\r\n         * @param {Cesium.Entity | Cesium.Primitive} obj\r\n         * @param {string} type\r\n         * @param callback\r\n         */\n\n    }, {\n        key: "setListener",\n        value: function setListener(obj, type, callback) {\n            if ((0, _NormalUtils.defined)(obj) && (0, _NormalUtils.defined)(type) && typeof callback === "function") {\n                obj[type] = callback;\n            }\n        }\n    }, {\n        key: "removeListener",\n        value: function removeListener(obj, type) {\n            delete obj[type];\n        }\n    }, {\n        key: "enableDrawRotation",\n        value: function enableDrawRotation() {\n            var enable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            this._enableRotation = enable;\n        }\n\n        //pass\n\n    }, {\n        key: "onLeftClick",\n        value: function onLeftClick(obj, callback) {\n            this.setListener(obj, EventType.LEFT_CLICK, callback);\n        }\n    }, {\n        key: "onLeftDoubleClick",\n        value: function onLeftDoubleClick(obj, callback) {\n            this.setListener(obj, EventType.LEFT_DOUBLE_CLICK, callback);\n        }\n    }, {\n        key: "onMouseMove",\n        value: function onMouseMove(obj, callback) {\n            this.setListener(obj, EventType.MOUSE_MOVE, callback);\n        }\n    }, {\n        key: "onMouseMoveOut",\n        value: function onMouseMoveOut(obj, callback) {\n            this.setListener(obj, EventType.MOUSE_MOVE_OUT, callback);\n        }\n    }, {\n        key: "onLeftUp",\n        value: function onLeftUp(obj, callback) {\n            this.setListener(obj, EventType.LEFT_UP, callback);\n        }\n    }, {\n        key: "onLeftDown",\n        value: function onLeftDown(obj, callback) {\n            this.setListener(obj, EventType.LEFT_DOWN, callback);\n        }\n    }, {\n        key: "onDragStart",\n        value: function onDragStart(obj, callback) {\n            this.setListener(obj, EventType.DRAW_START, callback);\n        }\n    }, {\n        key: "onDrag",\n        value: function onDrag(obj, callback) {\n            this.setListener(obj, EventType.DRAW, callback);\n        }\n    }, {\n        key: "onDragEnd",\n        value: function onDragEnd(obj, callback) {\n            this.setListener(obj, EventType.DRAW_END, callback);\n        }\n    }]);\n\n    return EventSystem;\n}();\n\nvar EventType = exports.EventType = Object.freeze({\n    LEFT_CLICK: "leftClick",\n    LEFT_DOUBLE_CLICK: "leftDoubleClick",\n    MOUSE_MOVE: "mouseMove",\n    MOUSE_MOVE_OUT: "mouseMoveOut",\n    LEFT_UP: "leftUp",\n    LEFT_DOWN: "leftDown",\n    DRAW_START: "drawStart",\n    DRAW: "draw",\n    DRAW_END: "drawEnd"\n});\n\nvar eventSystemMap = {};\n\n// 应对多viewer的情况\n// 但是内部模块（Entity）的事件不好管理，除非全部用SetView的方式\n// 目前\n\nvar EventSystemFactory = exports.EventSystemFactory = function () {\n    function EventSystemFactory() {\n        _classCallCheck(this, EventSystemFactory);\n    }\n\n    _createClass(EventSystemFactory, null, [{\n        key: "createEventSystem",\n        value: function createEventSystem(viewer) {\n            if ((0, _NormalUtils.defined)(viewer)) {\n                if ((0, _NormalUtils.defined)(viewer._eventSystemUUID) && (0, _NormalUtils.defined)(eventSystemMap[viewer._eventSystemUUID])) {\n                    return eventSystemMap[viewer._eventSystemUUID];\n                }\n\n                var _eventSystem = new EventSystem();\n                var id = (0, _Uuid.Uuid)();\n                _eventSystem.setView(viewer);\n                viewer._eventSystemUUID = id;\n                eventSystemMap[id] = _eventSystem;\n                return _eventSystem;\n            }\n        }\n    }]);\n\n    return EventSystemFactory;\n}();\n\nvar eventSystem = new EventSystem();\n\n// 默认单个viewer ， 内部模块更容易接入事件系统\n\nvar EventSystemInstance = exports.EventSystemInstance = function () {\n    function EventSystemInstance() {\n        _classCallCheck(this, EventSystemInstance);\n    }\n\n    _createClass(EventSystemInstance, null, [{\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            if (!eventSystem._init) {\n                eventSystem.setView(viewer);\n            }\n        }\n    }, {\n        key: "getInstance",\n        value: function getInstance(viewer) {\n            if ((0, _NormalUtils.defined)(viewer)) this.setViewer(viewer);\n            return eventSystem;\n        }\n    }]);\n\n    return EventSystemInstance;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvQ29yZS9FdmVudFN5c3RlbS5qcz9kMGU4Il0sIm5hbWVzIjpbIkNlc2l1bSIsImNvbnN1bWVNb3ZlT3V0RmxhZyIsIkV2ZW50U3lzdGVtIiwiYWNjdXJhY3kiLCJfaW5pdCIsIl9hY2N1cmFjeSIsIl9lbmFibGVSb3RhdGlvbiIsIl9mcmFtZVJhdGUiLCJ1cGRhdGVNb3ZlVGltZSIsIl9jdW5zdW1lTW92ZU91dE9iamVjdCIsIndpbmRvdyIsImxvZ3MiLCJ2aWV3ZXIiLCJldmVudEJpbmQiLCJmcmFtZVJhdGUiLCJfbW92ZVRpbWUiLCJwYXJzZUludCIsInZhbHVlIiwibW92ZUNvdW50IiwibW92ZVRpbWVvdXQiLCJwcmVzc0ZsYWciLCJjdXJyZW50T2JqZWN0IiwiZmlyc3RGbGFnIiwibW91c2VNb3ZlT2JqZWN0IiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwic2NlbmUiLCJjYW52YXMiLCJzZXRJbnB1dEFjdGlvbiIsIm1vdmVtZW50IiwiY2FsbFByaW1pdGl2ZUNhbGxiYWNrIiwiRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsInBvc2l0aW9uIiwiU2NyZWVuU3BhY2VFdmVudFR5cGUiLCJMRUZUX0RPVUJMRV9DTElDSyIsIm1vdmVtZW50U3RlcCIsIm1hcmtQb3NpdGlvbiIsIngiLCJlbmRQb3NpdGlvbiIsInkiLCJzZXRUaW1lb3V0IiwiY2FsbFByaW1pdGl2ZUNhbGxiYWNrQ3VycmVudCIsIkRSQVdfU1RBUlQiLCJTZXR0aW5ncyIsImVuYWJsZVJvdGF0aW9uIiwiRFJBVyIsImxhc3RPYmplY3QiLCJjdXJyZW50TW91c2VNb3ZlT2JqZWN0IiwiTU9VU0VfTU9WRSIsIk1PVVNFX01PVkVfT1VUIiwiRFJBV19FTkQiLCJMRUZUX1VQIiwiTEVGVF9ET1dOIiwiZXZlbnROYW1lIiwicGlja2VkT2JqZWN0IiwicGljayIsImlkIiwicHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicGlja2VkT2JqZWN0T2JqIiwiY3Vuc3VtZU9iamVjdHMiLCJzbGljZSIsImxlbmd0aCIsImZvckVhY2giLCJvYmoiLCJ0eXBlIiwiY2FsbGJhY2siLCJlbmFibGUiLCJzZXRMaXN0ZW5lciIsIk9iamVjdCIsImZyZWV6ZSIsImV2ZW50U3lzdGVtTWFwIiwiRXZlbnRTeXN0ZW1GYWN0b3J5IiwiX2V2ZW50U3lzdGVtVVVJRCIsImV2ZW50U3lzdGVtIiwic2V0VmlldyIsIkV2ZW50U3lzdGVtSW5zdGFuY2UiLCJzZXRWaWV3ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOztBQUNaOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7QUFHQSxJQUFJQyxxQkFBcUIsSUFBekI7O0FBRUE7Ozs7SUFJTUMsVztBQUVGLDJCQUEwQjtBQUFBLFlBQWRDLFFBQWMsdUVBQUgsQ0FBRzs7QUFBQTs7QUFDdEIsYUFBS0MsS0FBTCxHQUFhLEtBQWI7QUFDQSxhQUFLQyxTQUFMLEdBQWlCRixRQUFqQjtBQUNBLGFBQUtHLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBQ0EsYUFBS0MsY0FBTDtBQUNBLGFBQUtDLHFCQUFMLEdBQTZCLEVBQTdCO0FBQ0FDLGVBQU9DLElBQVAsR0FBYyxFQUFkO0FBQ0g7O0FBRUQ7Ozs7Ozs7O2dDQUlRQyxNLEVBQVE7QUFDWixnQkFBSSxDQUFDLEtBQUtSLEtBQVYsRUFBaUI7QUFDYixxQkFBS1EsTUFBTCxHQUFjQSxNQUFkO0FBQ0Esb0JBQUksMEJBQVFBLE1BQVIsQ0FBSixFQUFxQjtBQUNqQix5QkFBS1IsS0FBTCxHQUFhLElBQWI7QUFDQSx5QkFBS1MsU0FBTDtBQUNIO0FBQ0o7QUFDRCxtQkFBTyxJQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7cUNBSWFDLFMsRUFBVztBQUNwQixpQkFBS1AsVUFBTCxHQUFrQk8sU0FBbEI7QUFDQSxpQkFBS04sY0FBTDtBQUNIOzs7eUNBRWdCO0FBQ2IsaUJBQUtPLFNBQUwsR0FBaUJDLFNBQVMsT0FBTyxLQUFL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Q0FBSixFQUFxQjtBQUNqQixvQkFBSSwwQkFBUUEsT0FBTzhELGdCQUFmLEtBQW9DLDBCQUFRRixlQUFlNUQsT0FBTzhELGdCQUF0QixDQUFSLENBQXhDLEVBQTBGO0FBQ3RGLDJCQUFPRixlQUFlNUQsT0FBTzhELGdCQUF0QixDQUFQO0FBQ0g7O0FBRUQsb0JBQUlDLGVBQWMsSUFBSXpFLFdBQUosRUFBbEI7QUFDQSxvQkFBSXVELEtBQUssaUJBQVQ7QUFDQWtCLDZCQUFZQyxPQUFaLENBQW9CaEUsTUFBcEI7QUFDQUEsdUJBQU84RCxnQkFBUCxHQUEwQmpCLEVBQTFCO0FBQ0FlLCtCQUFlZixFQUFmLElBQXFCa0IsWUFBckI7QUFDQSx1QkFBT0EsWUFBUDtBQUNIO0FBQ0o7Ozs7OztBQUdMLElBQU1BLGNBQWMsSUFBSXpFLFdBQUosRUFBcEI7O0FBRUE7O0lBQ2EyRSxtQixXQUFBQSxtQjs7Ozs7OztrQ0FDUWpFLE0sRUFBUTtBQUNyQixnQkFBSSxDQUFDK0QsWUFBWXZFLEtBQWpCLEVBQXdCO0FBQ3BCdUUsNEJBQVlDLE9BQVosQ0FBb0JoRSxNQUFwQjtBQUNIO0FBQ0o7OztvQ0FFa0JBLE0sRUFBUTtBQUN2QixnQkFBSSwwQkFBUUEsTUFBUixDQUFKLEVBQ0ksS0FBS2tFLFNBQUwsQ0FBZWxFLE1BQWY7QUFDSixtQkFBTytELFdBQVA7QUFDSCIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtkZWZpbmVkfSBmcm9tIFwiLi4vVXRpbC9Ob3JtYWxVdGlsc1wiXHJcbmltcG9ydCB7dHlwZUNvbnRhaW5lc30gZnJvbSBcIi4uL1V0aWwvVHlwZVV0aWxzXCJcclxuaW1wb3J0IHtzZXRMaXN0ZW5lcn0gZnJvbSBcIi4uL1RoaXJkUGFydHkvRHJhd0hlbHBlclYyL3V0aWwvRXZlbnRIZWxwZXJcIjtcclxuaW1wb3J0IHtTZXR0aW5nc30gZnJvbSBcIi4uL1dpZGdldHMvU2V0dGluZ3NcIlxyXG5pbXBvcnQge1V1aWR9IGZyb20gXCIuLi9VdGlsL1V1aWRcIlxyXG5cclxuXHJcbmxldCBjb25zdW1lTW92ZU91dEZsYWcgPSB0cnVlO1xyXG5cclxuLyoqXHJcbiAqIOaOpeeuoUNlc2l1beeahOS6i+S7tuezu+e7n++8iOWvueS6jmVudGl0eeWSjHByaW1pdGl2Ze+8iVxyXG4gKi9cclxuXHJcbmNsYXNzIEV2ZW50U3lzdGVtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhY2N1cmFjeSA9IDMpIHtcclxuICAgICAgICB0aGlzLl9pbml0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYWNjdXJhY3kgPSBhY2N1cmFjeTtcclxuICAgICAgICB0aGlzLl9lbmFibGVSb3RhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fZnJhbWVSYXRlID0gNjA7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3ZlVGltZSgpXHJcbiAgICAgICAgdGhpcy5fY3Vuc3VtZU1vdmVPdXRPYmplY3QgPSBbXTtcclxuICAgICAgICB3aW5kb3cubG9ncyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y2V5Zyw5Zu+XHJcbiAgICAgKiBAcGFyYW0gdmlld2VyXHJcbiAgICAgKi9cclxuICAgIHNldFZpZXcodmlld2VyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xyXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2aWV3ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCaW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7luKfnjofvvIzluKfnjofkvJrlvbHlk41tb3Zl5LqL5Lu255qE6IqC5rWB5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gZnJhbWVSYXRlXHJcbiAgICAgKi9cclxuICAgIHNldEZyYW1lUmF0ZShmcmFtZVJhdGUpIHtcclxuICAgICAgICB0aGlzLl9mcmFtZVJhdGUgPSBmcmFtZVJhdGU7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3ZlVGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZU1vdmVUaW1lKCkge1xyXG4gICAgICAgIHRoaXMuX21vdmVUaW1lID0gcGFyc2VJbnQoMTAwMCAvIHRoaXMuX2ZyYW1lUmF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWNjdXJhY3kodmFsdWUgPSAzKSB7XHJcbiAgICAgICAgdGhpcy5fYWNjdXJhY3kgPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBldmVudEJpbmQoKSB7XHJcbiAgICAgICAgbGV0IG1vdmVDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IG1vdmVUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICBsZXQgcHJlc3NGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRPYmplY3QgPSBudWxsO1xyXG4gICAgICAgIGxldCBmaXJzdEZsYWcgPSB0cnVlO1xyXG4gICAgICAgIGxldCBtb3VzZU1vdmVPYmplY3QgPSBudWxsO1xyXG4gICAgICAgIGxldCBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih0aGlzLnZpZXdlci5zY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxQcmltaXRpdmVDYWxsYmFjayhFdmVudFR5cGUuTEVGVF9DTElDSywgbW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigobW92ZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2soRXZlbnRUeXBlLkxFRlRfRE9VQkxFX0NMSUNLLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9VQkxFX0NMSUNLKTtcclxuXHJcbiAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbigobW92ZW1lbnRTdGVwKSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKG1vdmVUaW1lb3V0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFya1Bvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IG1vdmVtZW50U3RlcC5lbmRQb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IG1vdmVtZW50U3RlcC5lbmRQb3NpdGlvbi55XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWFya1Bvc2l0aW9uKVxyXG5cclxuICAgICAgICAgICAgICAgIG1vdmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXNzRmxhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+esrOS4gOasoeaMieS4i1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrQ3VycmVudChjdXJyZW50T2JqZWN0LCBFdmVudFR5cGUuRFJBV19TVEFSVCwgbWFya1Bvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmplY3QgJiYgIXRoaXMuX2VuYWJsZVJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3MuZW5hYmxlUm90YXRpb24odGhpcy52aWV3ZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrQ3VycmVudChjdXJyZW50T2JqZWN0LCBFdmVudFR5cGUuRFJBVywgbWFya1Bvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RPYmplY3QgPSBtb3VzZU1vdmVPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFsgbGFzdE9iamVjdCwgbW91c2VNb3ZlT2JqZWN0LCBtYXJrUG9zaXRpb25dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE1vdXNlTW92ZU9iamVjdCA9IHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrKEV2ZW50VHlwZS5NT1VTRV9NT1ZFLCBtYXJrUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhbY3VycmVudE1vdXNlTW92ZU9iamVjdCwgbGFzdE9iamVjdCwgbW91c2VNb3ZlT2JqZWN0LCBtYXJrUG9zaXRpb25dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1vdXNlTW92ZU9iamVjdCAhPT0gbGFzdE9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VNb3ZlT2JqZWN0ID0gY3VycmVudE1vdXNlTW92ZU9iamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RPYmplY3QgJiYgdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2tDdXJyZW50KGxhc3RPYmplY3QsIEV2ZW50VHlwZS5NT1VTRV9NT1ZFX09VVCwgbWFya1Bvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuX21vdmVUaW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuICAgICAgICBoYW5kbGVyLnNldElucHV0QWN0aW9uKChtb3ZlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocHJlc3NGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVzc0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QgJiYgdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2tDdXJyZW50KGN1cnJlbnRPYmplY3QsIEV2ZW50VHlwZS5EUkFXX0VORCwgbW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrKEV2ZW50VHlwZS5MRUZUX1VQLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcblxyXG5cclxuICAgICAgICAgICAgU2V0dGluZ3MuZW5hYmxlUm90YXRpb24odGhpcy52aWV3ZXIsIHRydWUpO1xyXG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0ID0gbnVsbDtcclxuICAgICAgICAgICAgZmlyc3RGbGFnID0gdHJ1ZTtcclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9VUCk7XHJcblxyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oKG1vdmVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHByZXNzRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGN1cnJlbnRPYmplY3QgPSB0aGlzLmNhbGxQcmltaXRpdmVDYWxsYmFjayhFdmVudFR5cGUuTEVGVF9ET1dOLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGlmIChjdXJyZW50T2JqZWN0ICYmIChjdXJyZW50T2JqZWN0W0V2ZW50VHlwZS5EUkFXXSB8fCBjdXJyZW50T2JqZWN0W0V2ZW50VHlwZS5EUkFXX1NUQVJUXSB8fCBjdXJyZW50T2JqZWN0W0V2ZW50VHlwZS5EUkFXX0VORF0pKSB7XHJcblxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPV04pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGxQcmltaXRpdmVDYWxsYmFjayhldmVudE5hbWUsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgbGV0IHBpY2tlZE9iamVjdCA9IHRoaXMudmlld2VyLnNjZW5lLnBpY2socG9zaXRpb24sIHRoaXMuX2FjY3VyYWN5LCB0aGlzLl9hY2N1cmFjeSk7XHJcbiAgICAgICAgLy9lbnRpdHlcclxuICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHR5cGVDb250YWluZXMocGlja2VkT2JqZWN0LmlkLCBcIkVudGl0eVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2tDdXJyZW50KHBpY2tlZE9iamVjdC5pZCwgZXZlbnROYW1lLCBwb3NpdGlvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9wcmltaXRpdmVcclxuICAgICAgICBpZiAocGlja2VkT2JqZWN0ICYmIHBpY2tlZE9iamVjdC5wcmltaXRpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbFByaW1pdGl2ZUNhbGxiYWNrQ3VycmVudChwaWNrZWRPYmplY3QucHJpbWl0aXZlLCBldmVudE5hbWUsIHBvc2l0aW9uKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrQ3VycmVudChwaWNrZWRPYmplY3RPYmosIGV2ZW50TmFtZSwgcG9zaXRpb24pIHtcclxuICAgICAgICBwaWNrZWRPYmplY3RPYmogJiYgcGlja2VkT2JqZWN0T2JqW2V2ZW50TmFtZV0gJiYgcGlja2VkT2JqZWN0T2JqW2V2ZW50TmFtZV0ocG9zaXRpb24scGlja2VkT2JqZWN0T2JqKTtcclxuICAgICAgICByZXR1cm4gcGlja2VkT2JqZWN0T2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN1bWVNb3ZlT3V0KCkge1xyXG4gICAgICAgIGlmIChjb25zdW1lTW92ZU91dEZsYWcpIHtcclxuICAgICAgICAgICAgY29uc3VtZU1vdmVPdXRGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBjdW5zdW1lT2JqZWN0cyA9IHRoaXMuX2N1bnN1bWVNb3ZlT3V0T2JqZWN0LnNsaWNlKDApO1xyXG4gICAgICAgICAgICB0aGlzLl9jdW5zdW1lTW92ZU91dE9iamVjdC5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBjdW5zdW1lT2JqZWN0cy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgIG9iai5vYmogJiYgdGhpcy5jYWxsUHJpbWl0aXZlQ2FsbGJhY2tDdXJyZW50KG9iai5vYmosIEV2ZW50VHlwZS5NT1VTRV9NT1ZFX09VVCwgb2JqLnBvc2l0aW9uKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgY29uc3VtZU1vdmVPdXRGbGFnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtDZXNpdW0uRW50aXR5IHwgQ2VzaXVtLlByaW1pdGl2ZX0gb2JqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHNldExpc3RlbmVyKG9iaiwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoZGVmaW5lZChvYmopICYmIGRlZmluZWQodHlwZSkgJiYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSkge1xyXG4gICAgICAgICAgICBvYmpbdHlwZV0gPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGlzdGVuZXIob2JqLCB0eXBlKSB7XHJcbiAgICAgICAgZGVsZXRlIG9ialt0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVEcmF3Um90YXRpb24oZW5hYmxlID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZVJvdGF0aW9uID0gZW5hYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcGFzc1xyXG4gICAgb25MZWZ0Q2xpY2sob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9DTElDSywgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTGVmdERvdWJsZUNsaWNrKG9iaiwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLnNldExpc3RlbmVyKG9iaiwgRXZlbnRUeXBlLkxFRlRfRE9VQkxFX0NMSUNLLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Nb3VzZU1vdmUob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTU9VU0VfTU9WRSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTW91c2VNb3ZlT3V0KG9iaiwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLnNldExpc3RlbmVyKG9iaiwgRXZlbnRUeXBlLk1PVVNFX01PVkVfT1VULCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25MZWZ0VXAob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9VUCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTGVmdERvd24ob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuTEVGVF9ET1dOLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EcmFnU3RhcnQob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuRFJBV19TVEFSVCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhZyhvYmosIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMaXN0ZW5lcihvYmosIEV2ZW50VHlwZS5EUkFXLCBjYWxsYmFjaylcclxuICAgIH1cclxuXHJcbiAgICBvbkRyYWdFbmQob2JqLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIob2JqLCBFdmVudFR5cGUuRFJBV19FTkQsIGNhbGxiYWNrKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRXZlbnRUeXBlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBMRUZUX0NMSUNLOiBcImxlZnRDbGlja1wiLFxyXG4gICAgTEVGVF9ET1VCTEVfQ0xJQ0s6IFwibGVmdERvdWJsZUNsaWNrXCIsXHJcbiAgICBNT1VTRV9NT1ZFOiBcIm1vdXNlTW92ZVwiLFxyXG4gICAgTU9VU0VfTU9WRV9PVVQ6IFwibW91c2VNb3ZlT3V0XCIsXHJcbiAgICBMRUZUX1VQOiBcImxlZnRVcFwiLFxyXG4gICAgTEVGVF9ET1dOOiBcImxlZnREb3duXCIsXHJcbiAgICBEUkFXX1NUQVJUOiBcImRyYXdTdGFydFwiLFxyXG4gICAgRFJBVzogXCJkcmF3XCIsXHJcbiAgICBEUkFXX0VORDogXCJkcmF3RW5kXCJcclxufSlcclxuXHJcbmNvbnN0IGV2ZW50U3lzdGVtTWFwID0ge307XHJcblxyXG4vLyDlupTlr7nlpJp2aWV3ZXLnmoTmg4XlhrVcclxuLy8g5L2G5piv5YaF6YOo5qih5Z2X77yIRW50aXR577yJ55qE5LqL5Lu25LiN5aW9566h55CG77yM6Zmk6Z2e5YWo6YOo55SoU2V0Vmlld+eahOaWueW8j1xyXG4vLyDnm67liY1cclxuZXhwb3J0IGNsYXNzIEV2ZW50U3lzdGVtRmFjdG9yeSB7XHJcbiAgICBzdGF0aWMgY3JlYXRlRXZlbnRTeXN0ZW0odmlld2VyKSB7XHJcbiAgICAgICAgaWYgKGRlZmluZWQodmlld2VyKSkge1xyXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2aWV3ZXIuX2V2ZW50U3lzdGVtVVVJRCkgJiYgZGVmaW5lZChldmVudFN5c3RlbU1hcFt2aWV3ZXIuX2V2ZW50U3lzdGVtVVVJRF0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRTeXN0ZW1NYXBbdmlld2VyLl9ldmVudFN5c3RlbVVVSURdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZXZlbnRTeXN0ZW0gPSBuZXcgRXZlbnRTeXN0ZW0oKTtcclxuICAgICAgICAgICAgbGV0IGlkID0gVXVpZCgpO1xyXG4gICAgICAgICAgICBldmVudFN5c3RlbS5zZXRWaWV3KHZpZXdlcik7XHJcbiAgICAgICAgICAgIHZpZXdlci5fZXZlbnRTeXN0ZW1VVUlEID0gaWQ7XHJcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtTWFwW2lkXSA9IGV2ZW50U3lzdGVtO1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRTeXN0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBldmVudFN5c3RlbSA9IG5ldyBFdmVudFN5c3RlbSgpO1xyXG5cclxuLy8g6buY6K6k5Y2V5Liqdmlld2VyIO+8jCDlhoXpg6jmqKHlnZfmm7TlrrnmmJPmjqXlhaXkuovku7bns7vnu59cclxuZXhwb3J0IGNsYXNzIEV2ZW50U3lzdGVtSW5zdGFuY2Uge1xyXG4gICAgc3RhdGljIHNldFZpZXdlcih2aWV3ZXIpIHtcclxuICAgICAgICBpZiAoIWV2ZW50U3lzdGVtLl9pbml0KSB7XHJcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtLnNldFZpZXcodmlld2VyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uodmlld2VyKSB7XHJcbiAgICAgICAgaWYgKGRlZmluZWQodmlld2VyKSlcclxuICAgICAgICAgICAgdGhpcy5zZXRWaWV3ZXIodmlld2VyKTtcclxuICAgICAgICByZXR1cm4gZXZlbnRTeXN0ZW07XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Settings = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\r\n * 记录一些常用的设置\r\n */\nvar Settings = exports.Settings = function () {\n    function Settings() {\n        _classCallCheck(this, Settings);\n    }\n\n    _createClass(Settings, null, [{\n        key: "cancelDefaultDbLeftClick",\n\n        /**\r\n         * 清除默认的双击事件\r\n         * @param viewer\r\n         */\n        value: function cancelDefaultDbLeftClick(viewer) {\n            viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        }\n    }, {\n        key: "enableRotation",\n        value: function enableRotation(viewer) {\n            var enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            viewer.scene.screenSpaceCameraController.enableRotate = enable;\n        }\n    }]);\n\n    return Settings;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvV2lkZ2V0cy9TZXR0aW5ncy5qcz9lYWMwIl0sIm5hbWVzIjpbIkNlc2l1bSIsIlNldHRpbmdzIiwidmlld2VyIiwiY2VzaXVtV2lkZ2V0Iiwic2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJyZW1vdmVJbnB1dEFjdGlvbiIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9ET1VCTEVfQ0xJQ0siLCJlbmFibGUiLCJzY2VuZSIsInNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlciIsImVuYWJsZVJvdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0lBQVlBLE07Ozs7OztBQUVaOzs7SUFHYUMsUSxXQUFBQSxROzs7Ozs7OztBQUNUOzs7O2lEQUlnQ0MsTSxFQUFPO0FBQ25DQSxtQkFBT0MsWUFBUCxDQUFvQkMsdUJBQXBCLENBQTRDQyxpQkFBNUMsQ0FBOERMLE9BQU9NLG9CQUFQLENBQTRCQyxpQkFBMUY7QUFDSDs7O3VDQUVxQkwsTSxFQUFxQjtBQUFBLGdCQUFkTSxNQUFjLHVFQUFMLElBQUs7O0FBQ3ZDTixtQkFBT08sS0FBUCxDQUFhQywyQkFBYixDQUF5Q0MsWUFBekMsR0FBd0RILE1BQXhEO0FBQ0giLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcblxyXG4vKipcclxuICog6K6w5b2V5LiA5Lqb5bi455So55qE6K6+572uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiDmuIXpmaTpu5jorqTnmoTlj4zlh7vkuovku7ZcclxuICAgICAqIEBwYXJhbSB2aWV3ZXJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNhbmNlbERlZmF1bHREYkxlZnRDbGljayh2aWV3ZXIpe1xyXG4gICAgICAgIHZpZXdlci5jZXNpdW1XaWRnZXQuc2NyZWVuU3BhY2VFdmVudEhhbmRsZXIucmVtb3ZlSW5wdXRBY3Rpb24oQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9VQkxFX0NMSUNLKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBlbmFibGVSb3RhdGlvbih2aWV3ZXIsZW5hYmxlID0gdHJ1ZSl7XHJcbiAgICAgICAgdmlld2VyLnNjZW5lLnNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlci5lbmFibGVSb3RhdGUgPSBlbmFibGU7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.BaseEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _EventSystem = __webpack_require__(5);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 基础entity\r\n * 改变了，继承改变 display/hide/add/remove方向\r\n * 选择选中接口对外开放\r\n * 点击事件\r\n */\nvar BaseEntity = exports.BaseEntity = function (_Cesium$Entity) {\n    _inherits(BaseEntity, _Cesium$Entity);\n\n    function BaseEntity(config) {\n        _classCallCheck(this, BaseEntity);\n\n        return _possibleConstructorReturn(this, (BaseEntity.__proto__ || Object.getPrototypeOf(BaseEntity)).call(this, config));\n    }\n\n    _createClass(BaseEntity, [{\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            viewer.entities.add(this);\n            this._viewer = viewer;\n        }\n    }, {\n        key: "removeViewer",\n        value: function removeViewer(viewer) {\n            viewer.entities.remove(this);\n            delete this._viewer;\n        }\n    }, {\n        key: "display",\n        value: function display() {\n            this.show = true;\n        }\n    }, {\n        key: "hide",\n        value: function hide() {\n            this.show = false;\n        }\n    }, {\n        key: "setSelected",\n        value: function setSelected() {\n            var selected = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            this.selected = selected;\n        }\n    }, {\n        key: "cancelSelected",\n        value: function cancelSelected() {\n            this.selected = false;\n        }\n    }, {\n        key: "onSelect",\n        value: function onSelect() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n            this._selectedCallback = callback;\n        }\n    }, {\n        key: "onRelease",\n        value: function onRelease() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n            this._releaseCallback = callback;\n        }\n    }, {\n        key: "initEvent",\n        value: function initEvent() {\n            var _this2 = this;\n\n            _EventSystem.EventSystemInstance.getInstance().onLeftClick(this, function (position) {\n                // this.onSelected ^= true;//反向\n                if (typeof _this2.onClickCallback === "function") {\n                    _this2.onClickCallback(position);\n                }\n            });\n        }\n    }, {\n        key: "onClick",\n        value: function onClick(callback) {\n            this.onClickCallback = callback;\n        }\n    }, {\n        key: "selected",\n        set: function set(selected) {\n            this._selected = selected;\n            if (this.selected) {\n                typeof this._selectedCallback() === "function" && this._selectedCallback();\n            } else {\n                typeof this._releaseCallback === "function" && this._releaseCallback();\n            }\n        },\n        get: function get() {\n            return this._selected;\n        }\n    }]);\n\n    return BaseEntity;\n}(Cesium.Entity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvQmFzZUVudGl0eS5qcz9iNGQzIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkJhc2VFbnRpdHkiLCJjb25maWciLCJ2aWV3ZXIiLCJlbnRpdGllcyIsImFkZCIsIl92aWV3ZXIiLCJyZW1vdmUiLCJzaG93Iiwic2VsZWN0ZWQiLCJjYWxsYmFjayIsIl9zZWxlY3RlZENhbGxiYWNrIiwiX3JlbGVhc2VDYWxsYmFjayIsIkV2ZW50U3lzdGVtSW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsIm9uTGVmdENsaWNrIiwicG9zaXRpb24iLCJvbkNsaWNrQ2FsbGJhY2siLCJfc2VsZWN0ZWQiLCJFbnRpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOztBQUNaOzs7Ozs7Ozs7O0FBRUE7Ozs7OztJQU1hQyxVLFdBQUFBLFU7OztBQUNULHdCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUEsdUhBQ1ZBLE1BRFU7QUFFbkI7Ozs7a0NBRVNDLE0sRUFBUTtBQUNkQSxtQkFBT0MsUUFBUCxDQUFnQkMsR0FBaEIsQ0FBb0IsSUFBcEI7QUFDQSxpQkFBS0MsT0FBTCxHQUFlSCxNQUFmO0FBQ0g7OztxQ0FFWUEsTSxFQUFRO0FBQ2pCQSxtQkFBT0MsUUFBUCxDQUFnQkcsTUFBaEIsQ0FBdUIsSUFBdkI7QUFDQSxtQkFBTyxLQUFLRCxPQUFaO0FBQ0g7OztrQ0FFUztBQUNOLGlCQUFLRSxJQUFMLEdBQVksSUFBWjtBQUNIOzs7K0JBRU07QUFDSCxpQkFBS0EsSUFBTCxHQUFZLEtBQVo7QUFDSDs7O3NDQWU0QjtBQUFBLGdCQUFqQkMsUUFBaUIsdUVBQU4sSUFBTTs7QUFDekIsaUJBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0g7Ozt5Q0FFZ0I7QUFDYixpQkFBS0EsUUFBTCxHQUFnQixLQUFoQjtBQUNIOzs7bUNBR0U7QUFBQSxnQkFETUMsUUFDTix1RUFEaUIsWUFBTSxDQUN6QixDQUFFOztBQUNDLGlCQUFLQyxpQkFBTCxHQUF5QkQsUUFBekI7QUFDSDs7O29DQUdFO0FBQUEsZ0JBRE9BLFFBQ1AsdUVBRGtCLFlBQU0sQ0FDMUIsQ0FBRTs7QUFDQyxpQkFBS0UsZ0JBQUwsR0FBd0JGLFFBQXhCO0FBQ0g7OztvQ0FFVztBQUFBOztBQUNSRyw2Q0FBb0JDLFdBQXBCLEdBQWtDQyxXQUFsQyxDQUE4QyxJQUE5QyxFQUFvRCxVQUFDQyxRQUFELEVBQWM7QUFDOUQ7QUFDQSxvQkFBSSxPQUFPLE9BQUtDLGVBQVosS0FBZ0MsVUFBcEMsRUFBZ0Q7QUFDNUMsMkJBQUtBLGVBQUwsQ0FBcUJELFFBQXJCO0FBQ0g7QUFDSixhQUxEO0FBTUg7OztnQ0FFT04sUSxFQUFVO0FBQ2QsaUJBQUtPLGVBQUwsR0FBdUJQLFFBQXZCO0FBQ0g7OzswQkExQ1lELFEsRUFBUztBQUNsQixpQkFBS1MsU0FBTCxHQUFpQlQsUUFBakI7QUFDQSxnQkFBRyxLQUFLQSxRQUFSLEVBQWlCO0FBQ2IsdUJBQU8sS0FBS0UsaUJBQUwsRUFBUCxLQUFvQyxVQUFwQyxJQUFrRCxLQUFLQSxpQkFBTCxFQUFsRDtBQUNILGFBRkQsTUFFSztBQUNELHVCQUFPLEtBQUtDLGdCQUFaLEtBQWlDLFVBQWpDLElBQStDLEtBQUtBLGdCQUFMLEVBQS9DO0FBQ0g7QUFDSixTOzRCQUVhO0FBQ1YsbUJBQU8sS0FBS00sU0FBWjtBQUNIOzs7O0VBbEMyQmxCLE9BQU9tQixNIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDZXNpdW0gZnJvbSBcIkNlc2l1bVwiO1xyXG5pbXBvcnQge0V2ZW50U3lzdGVtSW5zdGFuY2V9IGZyb20gXCIuLi9Db3JlL0V2ZW50U3lzdGVtXCI7XHJcblxyXG4vKipcclxuICog5Z+656GAZW50aXR5XHJcbiAqIOaUueWPmOS6hu+8jOe7p+aJv+aUueWPmCBkaXNwbGF5L2hpZGUvYWRkL3JlbW92ZeaWueWQkVxyXG4gKiDpgInmi6npgInkuK3mjqXlj6Plr7nlpJblvIDmlL5cclxuICog54K55Ye75LqL5Lu2XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQmFzZUVudGl0eSBleHRlbmRzIENlc2l1bS5FbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3ZXIodmlld2VyKSB7XHJcbiAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl92aWV3ZXIgPSB2aWV3ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVmlld2VyKHZpZXdlcikge1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcyk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdlcjtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCkge1xyXG4gICAgICAgIHRoaXMuc2hvdyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc2VsZWN0ZWQoc2VsZWN0ZWQpe1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgaWYodGhpcy5zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9zZWxlY3RlZENhbGxiYWNrKCkgPT09IFwiZnVuY3Rpb25cIiAmJiB0aGlzLl9zZWxlY3RlZENhbGxiYWNrKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLl9yZWxlYXNlQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIiAmJiB0aGlzLl9yZWxlYXNlQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNlbGVjdGVkKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNlbGVjdGVkKHNlbGVjdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBjYW5jZWxTZWxlY3RlZCgpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25TZWxlY3QoY2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVsZWFzZShjYWxsYmFjayA9ICgpID0+IHtcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLl9yZWxlYXNlQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBpbml0RXZlbnQoKSB7XHJcbiAgICAgICAgRXZlbnRTeXN0ZW1JbnN0YW5jZS5nZXRJbnN0YW5jZSgpLm9uTGVmdENsaWNrKHRoaXMsIChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAvLyB0aGlzLm9uU2VsZWN0ZWQgXj0gdHJ1ZTsvL+WPjeWQkVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25DbGlja0NhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb25DbGljayhjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(I,C,g){I.exports=g(1)},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Cameras = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _OfficialUtils = __webpack_require__(3);\n\nvar _ = __webpack_require__(1);\n\nvar _NormalUtils = __webpack_require__(2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\r\n * @namespace Cameras\r\n */\nvar Cameras = exports.Cameras = function () {\n    function Cameras() {\n        _classCallCheck(this, Cameras);\n    }\n\n    _createClass(Cameras, null, [{\n        key: "getPositionAwayByCamara",\n\n        /**\r\n         * 获取一个目标点位向摄像头方向移动distance米的点位\r\n         * @param camera\r\n         * @param position\r\n         * @param distance\r\n         * @returns {*}\r\n         */\n        value: function getPositionAwayByCamara(camera, position, distance) {\n            var totalDistance = Cesium.Cartesian3.distance(camera.position, position, new Cesium.Cartesian3());\n            var subtract = Cesium.Cartesian3.subtract(camera.position, position, new Cesium.Cartesian3());\n            var add = Cesium.Cartesian3.multiplyByScalar(subtract, distance / totalDistance, new Cesium.Cartesian3());\n            return Cesium.Cartesian3.add(position, add, new Cesium.Cartesian3());\n        }\n\n        /**\r\n         *\r\n         * @param camera\r\n         * @param position 围绕的点位\r\n         * @param radius 围绕的半径\r\n         * @param second 转一圈的秒数\r\n         * @param increment 绕圈精度\r\n         * @param pitch 俯角\r\n         */\n\n    }, {\n        key: "flyAroundPosition",\n        value: function flyAroundPosition(camera, position, radius) {\n            var second = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 20;\n            var increment = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.1;\n            var pitch = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -45;\n\n            var angles = (0, _OfficialUtils.computeCirclularAugle)(increment);\n            var index = 0;\n            var timeInterval = second * 1000 / angles.length;\n\n            var interval = setInterval(function () {\n                camera.lookAt(position, new Cesium.HeadingPitchRange(Cesium.Math.toRadians(angles[index]), Cesium.Math.toRadians(pitch), radius));\n                camera.lookAtTransform(Cesium.Matrix4.IDENTITY); //勉强确保摄像头坐标系正确\n                index = ++index % angles.length;\n            }, timeInterval);\n\n            return function () {\n                clearInterval(interval);\n                camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n            };\n        }\n\n        /**\r\n         * 类似于Camera.lookAt\r\n         * 第三个参数是 Cesium.HeadingPitchRange\r\n         * @param camera\r\n         * @param position 面向的点位\r\n         * @param config 俯仰角配置\r\n         * @param config.heading\r\n         * @param config.pitch 俯仰角\r\n         * @param config.range 距离\r\n         * @param complete 飞行完成回调\r\n         * @param cancel 飞行取消回调\r\n         */\n\n    }, {\n        key: "flyAt",\n        value: function flyAt(camera, position) {\n            var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n                _ref$heading = _ref.heading,\n                heading = _ref$heading === undefined ? 0 : _ref$heading,\n                _ref$pitch = _ref.pitch,\n                pitch = _ref$pitch === undefined ? 0 : _ref$pitch,\n                _ref$range = _ref.range,\n                range = _ref$range === undefined ? 50 : _ref$range;\n\n            var complete = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n            var cancel = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n\n            pitch = Cesium.Math.toRadians(pitch);\n            heading = Cesium.Math.toRadians(heading);\n\n            // let x = Math.sqrt(1 / (Math.pow(Math.tan(-pitch), 2) + 1) / (1 + Math.pow(Math.tan(-heading), 2)));\n            // // let y = Math.sqrt(1 / (Math.pow(Math.tan(-pitch), 2) + 1) / (1 / (Math.pow(Math.tan(-heading), 2) + 1)));\n            // let z = Math.sqrt(Math.pow(Math.tan(-pitch), 2) / (Math.pow(Math.tan(-pitch), 2) + 1));\n            // let y = Math.sqrt(1 - Math.pow(x, 2) - (Math.pow(z, 2)));\n            // let relativePosition = Cesium.Cartesian3.multiplyByScalar(new Cesium.Cartesian3(x, y, z), range, new Cesium.Cartesian3());\n\n            var rotationTranslation = Cesium.Matrix4.fromRotationTranslation(Cesium.Matrix3.fromHeadingPitchRoll(new Cesium.HeadingPitchRoll(heading + Math.PI / 2, -pitch, 0)));\n            var relativePosition = Cesium.Matrix4.multiplyByPoint(rotationTranslation, new Cesium.Cartesian3(range, 0, 0), new Cesium.Cartesian3());\n\n            var earthTransform = Cesium.Transforms.eastNorthUpToFixedFrame(position, Cesium.Ellipsoid.WGS84, new Cesium.Matrix4());\n            var cameraPosition = Cesium.Matrix4.multiplyByPoint(earthTransform, relativePosition, new Cesium.Cartesian3());\n\n            camera.flyTo({\n                destination: cameraPosition,\n                orientation: {\n                    heading: heading,\n                    pitch: pitch,\n                    roll: 0.0\n                },\n                complete: complete,\n                cancel: cancel\n            });\n        }\n\n        /**\r\n         *  保存当前摄像头的位置\r\n         * @param camera\r\n         * @returns {string} uri编码后的数据\r\n         */\n\n    }, {\n        key: "saveCameraStatus",\n        value: function saveCameraStatus(camera) {\n            var data = {\n                position: camera.position,\n                heading: camera.heading,\n                pitch: camera.pitch,\n                roll: camera.roll\n            };\n            var dataCompress = [data.position.x.toFixed(2), data.position.y.toFixed(2), data.position.z.toFixed(2), data.heading.toFixed(2), data.pitch.toFixed(2), data.roll.toFixed(2)];\n\n            return encodeURIComponent(dataCompress.join(","));\n        }\n\n        /**\r\n         * 加载\r\n         * @param camera\r\n         * @param data\r\n         * @param isFly\r\n         */\n\n    }, {\n        key: "loadCameraStatus",\n        value: function loadCameraStatus(camera, data) {\n            var isFly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n            var errorCallback = arguments[3];\n\n            try {\n                var dataCompress = decodeURIComponent(data).split(",");\n\n                if ((0, _NormalUtils.defined)(dataCompress) && dataCompress.length >= 6) {\n                    var target = {\n                        destination: {\n                            x: parseFloat(dataCompress[0]),\n                            y: parseFloat(dataCompress[1]),\n                            z: parseFloat(dataCompress[2])\n                        },\n                        orientation: {\n                            heading: parseFloat(dataCompress[3]),\n                            pitch: parseFloat(dataCompress[4]),\n                            roll: parseFloat(dataCompress[5])\n                        }\n                    };\n                    if (isFly) {\n                        camera.flyTo(target);\n                    } else {\n                        camera.setView(target);\n                    }\n                } else throw "not define position| heading | pitch | roll";\n            } catch (e) {\n                console.error(e);\n                if (typeof errorCallback === \'function\') errorCallback(e);\n            }\n        }\n    }]);\n\n    return Cameras;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvU2NlbmUvQ2FtZXJhcy5qcz8yNWQ2Il0sIm5hbWVzIjpbIkNlc2l1bSIsIkNhbWVyYXMiLCJjYW1lcmEiLCJwb3NpdGlvbiIsImRpc3RhbmNlIiwidG90YWxEaXN0YW5jZSIsIkNhcnRlc2lhbjMiLCJzdWJ0cmFjdCIsImFkZCIsIm11bHRpcGx5QnlTY2FsYXIiLCJyYWRpdXMiLCJzZWNvbmQiLCJpbmNyZW1lbnQiLCJwaXRjaCIsImFuZ2xlcyIsImluZGV4IiwidGltZUludGVydmFsIiwibGVuZ3RoIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImxvb2tBdCIsIkhlYWRpbmdQaXRjaFJhbmdlIiwiTWF0aCIsInRvUmFkaWFucyIsImxvb2tBdFRyYW5zZm9ybSIsIk1hdHJpeDQiLCJJREVOVElUWSIsImNsZWFySW50ZXJ2YWwiLCJoZWFkaW5nIiwicmFuZ2UiLCJjb21wbGV0ZSIsImNhbmNlbCIsInJvdGF0aW9uVHJhbnNsYXRpb24iLCJmcm9tUm90YXRpb25UcmFuc2xhdGlvbiIsIk1hdHJpeDMiLCJmcm9tSGVhZGluZ1BpdGNoUm9sbCIsIkhlYWRpbmdQaXRjaFJvbGwiLCJQSSIsInJlbGF0aXZlUG9zaXRpb24iLCJtdWx0aXBseUJ5UG9pbnQiLCJlYXJ0aFRyYW5zZm9ybSIsIlRyYW5zZm9ybXMiLCJlYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSIsIkVsbGlwc29pZCIsIldHUzg0IiwiY2FtZXJhUG9zaXRpb24iLCJmbHlUbyIsImRlc3RpbmF0aW9uIiwib3JpZW50YXRpb24iLCJyb2xsIiwiZGF0YSIsImRhdGFDb21wcmVzcyIsIngiLCJ0b0ZpeGVkIiwieSIsInoiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiaXNGbHkiLCJlcnJvckNhbGxiYWNrIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3BsaXQiLCJ0YXJnZXQiLCJwYXJzZUZsb2F0Iiwic2V0VmlldyIsImUiLCJjb25zb2xlIiwiZXJyb3IiXSwi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QWVGLE1BQWY7QUFDSDtBQUNKLGlCQWxCRCxNQWtCTyxNQUFNLDZDQUFOO0FBQ1YsYUF0QkQsQ0FzQkUsT0FBT0csQ0FBUCxFQUFVO0FBQ1JDLHdCQUFRQyxLQUFSLENBQWNGLENBQWQ7QUFDQSxvQkFBSSxPQUFPTixhQUFQLEtBQXlCLFVBQTdCLEVBQXlDQSxjQUFjTSxDQUFkO0FBQzVDO0FBQ0oiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcbmltcG9ydCB7Y29tcHV0ZUNpcmNsdWxhckF1Z2xlfSBmcm9tIFwiLi4vVXRpbC9PZmZpY2lhbFV0aWxzXCJcclxuaW1wb3J0IHtDYXJ0ZXNpYW4zc30gZnJvbSBcIi4uXCI7XHJcbmltcG9ydCB7ZGVmaW5lZH0gZnJvbSBcIi4uL1V0aWwvTm9ybWFsVXRpbHNcIlxyXG5cclxuLyoqXHJcbiAqIEBuYW1lc3BhY2UgQ2FtZXJhc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbWVyYXMge1xyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bkuIDkuKrnm67moIfngrnkvY3lkJHmkYTlg4/lpLTmlrnlkJHnp7vliqhkaXN0YW5jZeexs+eahOeCueS9jVxyXG4gICAgICogQHBhcmFtIGNhbWVyYVxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2VcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0UG9zaXRpb25Bd2F5QnlDYW1hcmEoY2FtZXJhLCBwb3NpdGlvbiwgZGlzdGFuY2UpIHtcclxuICAgICAgICBsZXQgdG90YWxEaXN0YW5jZSA9IENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlKGNhbWVyYS5wb3NpdGlvbiwgcG9zaXRpb24sIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcclxuICAgICAgICBsZXQgc3VidHJhY3QgPSBDZXNpdW0uQ2FydGVzaWFuMy5zdWJ0cmFjdChjYW1lcmEucG9zaXRpb24sIHBvc2l0aW9uLCBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoKSk7XHJcbiAgICAgICAgbGV0IGFkZCA9IENlc2l1bS5DYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoc3VidHJhY3QsIGRpc3RhbmNlIC8gdG90YWxEaXN0YW5jZSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5hZGQocG9zaXRpb24sIGFkZCwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbWVyYVxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIOWbtOe7leeahOeCueS9jVxyXG4gICAgICogQHBhcmFtIHJhZGl1cyDlm7Tnu5XnmoTljYrlvoRcclxuICAgICAqIEBwYXJhbSBzZWNvbmQg6L2s5LiA5ZyI55qE56eS5pWwXHJcbiAgICAgKiBAcGFyYW0gaW5jcmVtZW50IOe7leWciOeyvuW6plxyXG4gICAgICogQHBhcmFtIHBpdGNoIOS/r+inklxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZmx5QXJvdW5kUG9zaXRpb24oY2FtZXJhLCBwb3NpdGlvbiwgcmFkaXVzLCBzZWNvbmQgPSAyMCwgaW5jcmVtZW50ID0gMC4xLCBwaXRjaCA9IC00NSkge1xyXG4gICAgICAgIGxldCBhbmdsZXMgPSBjb21wdXRlQ2lyY2x1bGFyQXVnbGUoaW5jcmVtZW50KTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGxldCB0aW1lSW50ZXJ2YWwgPSBzZWNvbmQgKiAxMDAwIC8gYW5nbGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBjYW1lcmEubG9va0F0KHBvc2l0aW9uLCBuZXcgQ2VzaXVtLkhlYWRpbmdQaXRjaFJhbmdlKENlc2l1bS5NYXRoLnRvUmFkaWFucyhhbmdsZXNbaW5kZXhdKSwgQ2VzaXVtLk1hdGgudG9SYWRpYW5zKHBpdGNoKSwgcmFkaXVzKSlcclxuICAgICAgICAgICAgY2FtZXJhLmxvb2tBdFRyYW5zZm9ybShDZXNpdW0uTWF0cml4NC5JREVOVElUWSk7Ly/li4nlvLrnoa7kv53mkYTlg4/lpLTlnZDmoIfns7vmraPnoa5cclxuICAgICAgICAgICAgaW5kZXggPSAoKytpbmRleCkgJSBhbmdsZXMubGVuZ3RoO1xyXG4gICAgICAgIH0sIHRpbWVJbnRlcnZhbCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBjYW1lcmEubG9va0F0VHJhbnNmb3JtKENlc2l1bS5NYXRyaXg0LklERU5USVRZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnsbvkvLzkuo5DYW1lcmEubG9va0F0XHJcbiAgICAgKiDnrKzkuInkuKrlj4LmlbDmmK8gQ2VzaXVtLkhlYWRpbmdQaXRjaFJhbmdlXHJcbiAgICAgKiBAcGFyYW0gY2FtZXJhXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24g6Z2i5ZCR55qE54K55L2NXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIOS/r+S7sOinkumFjee9rlxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5oZWFkaW5nXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnLnBpdGNoIOS/r+S7sOinklxyXG4gICAgICogQHBhcmFtIGNvbmZpZy5yYW5nZSDot53nprtcclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDpo57ooYzlrozmiJDlm57osINcclxuICAgICAqIEBwYXJhbSBjYW5jZWwg6aOe6KGM5Y+W5raI5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmbHlBdChjYW1lcmEsIHBvc2l0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmcgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICBwaXRjaCA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gNTAsXHJcbiAgICAgICAgICAgICAgICAgfSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgY2FuY2VsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIH0pIHtcclxuICAgICAgICBwaXRjaCA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhwaXRjaCk7XHJcbiAgICAgICAgaGVhZGluZyA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhoZWFkaW5nKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IHggPSBNYXRoLnNxcnQoMSAvIChNYXRoLnBvdyhNYXRoLnRhbigtcGl0Y2gpLCAyKSArIDEpIC8gKDEgKyBNYXRoLnBvdyhNYXRoLnRhbigtaGVhZGluZyksIDIpKSk7XHJcbiAgICAgICAgLy8gLy8gbGV0IHkgPSBNYXRoLnNxcnQoMSAvIChNYXRoLnBvdyhNYXRoLnRhbigtcGl0Y2gpLCAyKSArIDEpIC8gKDEgLyAoTWF0aC5wb3coTWF0aC50YW4oLWhlYWRpbmcpLCAyKSArIDEpKSk7XHJcbiAgICAgICAgLy8gbGV0IHogPSBNYXRoLnNxcnQoTWF0aC5wb3coTWF0aC50YW4oLXBpdGNoKSwgMikgLyAoTWF0aC5wb3coTWF0aC50YW4oLXBpdGNoKSwgMikgKyAxKSk7XHJcbiAgICAgICAgLy8gbGV0IHkgPSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHgsIDIpIC0gKE1hdGgucG93KHosIDIpKSk7XHJcbiAgICAgICAgLy8gbGV0IHJlbGF0aXZlUG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKG5ldyBDZXNpdW0uQ2FydGVzaWFuMyh4LCB5LCB6KSwgcmFuZ2UsIG5ldyBDZXNpdW0uQ2FydGVzaWFuMygpKTtcclxuXHJcbiAgICAgICAgbGV0IHJvdGF0aW9uVHJhbnNsYXRpb24gPSBDZXNpdW0uTWF0cml4NC5mcm9tUm90YXRpb25UcmFuc2xhdGlvbihDZXNpdW0uTWF0cml4My5mcm9tSGVhZGluZ1BpdGNoUm9sbChuZXcgQ2VzaXVtLkhlYWRpbmdQaXRjaFJvbGwoaGVhZGluZyArIE1hdGguUEkgLyAyLCAtcGl0Y2gsIDApKSk7XHJcbiAgICAgICAgbGV0IHJlbGF0aXZlUG9zaXRpb24gPSBDZXNpdW0uTWF0cml4NC5tdWx0aXBseUJ5UG9pbnQocm90YXRpb25UcmFuc2xhdGlvbiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKHJhbmdlLCAwLCAwKSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG5cclxuICAgICAgICBsZXQgZWFydGhUcmFuc2Zvcm0gPSBDZXNpdW0uVHJhbnNmb3Jtcy5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShwb3NpdGlvbiwgQ2VzaXVtLkVsbGlwc29pZC5XR1M4NCwgbmV3IENlc2l1bS5NYXRyaXg0KCkpO1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3NpdGlvbiA9IENlc2l1bS5NYXRyaXg0Lm11bHRpcGx5QnlQb2ludChlYXJ0aFRyYW5zZm9ybSwgcmVsYXRpdmVQb3NpdGlvbiwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpO1xyXG5cclxuICAgICAgICBjYW1lcmEuZmx5VG8oe1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogY2FtZXJhUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiBoZWFkaW5nLFxyXG4gICAgICAgICAgICAgICAgcGl0Y2g6IHBpdGNoLFxyXG4gICAgICAgICAgICAgICAgcm9sbDogMC4wXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSxcclxuICAgICAgICAgICAgY2FuY2VsOiBjYW5jZWxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDkv53lrZjlvZPliY3mkYTlg4/lpLTnmoTkvY3nva5cclxuICAgICAqIEBwYXJhbSBjYW1lcmFcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHVyaee8lueggeWQjueahOaVsOaNrlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2F2ZUNhbWVyYVN0YXR1cyhjYW1lcmEpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGNhbWVyYS5wb3NpdGlvbixcclxuICAgICAgICAgICAgaGVhZGluZzogY2FtZXJhLmhlYWRpbmcsXHJcbiAgICAgICAgICAgIHBpdGNoOiBjYW1lcmEucGl0Y2gsXHJcbiAgICAgICAgICAgIHJvbGw6IGNhbWVyYS5yb2xsLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRhdGFDb21wcmVzcyA9IFtcclxuICAgICAgICAgICAgZGF0YS5wb3NpdGlvbi54LnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgIGRhdGEucG9zaXRpb24ueS50b0ZpeGVkKDIpLFxyXG4gICAgICAgICAgICBkYXRhLnBvc2l0aW9uLnoudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgZGF0YS5oZWFkaW5nLnRvRml4ZWQoMiksXHJcbiAgICAgICAgICAgIGRhdGEucGl0Y2gudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgZGF0YS5yb2xsLnRvRml4ZWQoMilcclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGF0YUNvbXByZXNzLmpvaW4oXCIsXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vVxyXG4gICAgICogQHBhcmFtIGNhbWVyYVxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqIEBwYXJhbSBpc0ZseVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbG9hZENhbWVyYVN0YXR1cyhjYW1lcmEsIGRhdGEsIGlzRmx5ID0gZmFsc2UsIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YUNvbXByZXNzID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpLnNwbGl0KFwiLFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGRhdGFDb21wcmVzcykgJiYgZGF0YUNvbXByZXNzLmxlbmd0aCA+PSA2KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogcGFyc2VGbG9hdChkYXRhQ29tcHJlc3NbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6OiBwYXJzZUZsb2F0KGRhdGFDb21wcmVzc1syXSlcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzNdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2g6IHBhcnNlRmxvYXQoZGF0YUNvbXByZXNzWzRdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sbDogcGFyc2VGbG9hdChkYXRhQ29tcHJlc3NbNV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0ZseSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5mbHlUbyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuc2V0Vmlldyh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgdGhyb3cgXCJub3QgZGVmaW5lIHBvc2l0aW9ufCBoZWFkaW5nIHwgcGl0Y2ggfCByb2xsXCI7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGVycm9yQ2FsbGJhY2soZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.getType = exports.typeContaines = exports.isType = undefined;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _NormalUtils = __webpack_require__(2);\n\nvar isType = exports.isType = function isType(instance, typeName) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        return instance.constructor.toString().match(/^function\\s*([^\\s(]+)/)[1] === typeName;\n    }\n    return false;\n};\n\n/**\r\n * 类名包含\r\n * @param instance\r\n * @param typeName\r\n * @returns {boolean}\r\n */\nvar typeContaines = exports.typeContaines = function typeContaines(instance, typeName) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        var typeMatchGroup = instance.constructor.toString().match(/^function\\s*([^\\s(]+)/);\n        if ((0, _NormalUtils.defined)(typeMatchGroup) && (0, _NormalUtils.defined)(typeMatchGroup[1])) {\n            return typeMatchGroup[1].indexOf(typeName) !== -1;\n        }\n    }\n    return false;\n};\n\nvar getType = exports.getType = function getType(instance) {\n    if ((typeof instance === "undefined" ? "undefined" : _typeof(instance)) === "object" && (0, _NormalUtils.defined)(instance.constructor)) {\n        var typeMatchGroup = instance.constructor.toString().match(/^function\\s*([^\\s(]+)/);\n        if ((0, _NormalUtils.defined)(typeMatchGroup) && (0, _NormalUtils.defined)(typeMatchGroup[1])) {\n            return typeMatchGroup[1];\n        }\n    }\n    return undefined;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9UeXBlVXRpbHMuanM/MGFhMCJdLCJuYW1lcyI6WyJpc1R5cGUiLCJpbnN0YW5jZSIsInR5cGVOYW1lIiwiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsIm1hdGNoIiwidHlwZUNvbnRhaW5lcyIsInR5cGVNYXRjaEdyb3VwIiwiaW5kZXhPZiIsImdldFR5cGUiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVPLElBQU1BLDBCQUFTLFNBQVRBLE1BQVMsQ0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQzFDLFFBQUksUUFBT0QsUUFBUCx5Q0FBT0EsUUFBUCxPQUFvQixRQUFwQixJQUFnQywwQkFBUUEsU0FBU0UsV0FBakIsQ0FBcEMsRUFBbUU7QUFDL0QsZUFBT0YsU0FBU0UsV0FBVCxDQUFxQkMsUUFBckIsR0FBZ0NDLEtBQWhDLENBQXNDLHVCQUF0QyxFQUErRCxDQUEvRCxNQUFzRUgsUUFBN0U7QUFDSDtBQUNELFdBQU8sS0FBUDtBQUNILENBTE07O0FBT1A7Ozs7OztBQU1PLElBQU1JLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ0wsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQ2pELFFBQUksUUFBT0QsUUFBUCx5Q0FBT0EsUUFBUCxPQUFvQixRQUFwQixJQUFnQywwQkFBUUEsU0FBU0UsV0FBakIsQ0FBcEMsRUFBbUU7QUFDL0QsWUFBSUksaUJBQWlCTixTQUFTRSxXQUFULENBQXFCQyxRQUFyQixHQUFnQ0MsS0FBaEMsQ0FBc0MsdUJBQXRDLENBQXJCO0FBQ0EsWUFBSSwwQkFBUUUsY0FBUixLQUEyQiwwQkFBUUEsZUFBZSxDQUFmLENBQVIsQ0FBL0IsRUFBMkQ7QUFDdkQsbUJBQU9BLGVBQWUsQ0FBZixFQUFrQkMsT0FBbEIsQ0FBMEJOLFFBQTFCLE1BQXdDLENBQUMsQ0FBaEQ7QUFDSDtBQUNKO0FBQ0QsV0FBTyxLQUFQO0FBQ0gsQ0FSTTs7QUFVQSxJQUFNTyw0QkFBVSxTQUFWQSxPQUFVLENBQUNSLFFBQUQsRUFBYztBQUNqQyxRQUFJLFFBQU9BLFFBQVAseUNBQU9BLFFBQVAsT0FBb0IsUUFBcEIsSUFBZ0MsMEJBQVFBLFNBQVNFLFdBQWpCLENBQXBDLEVBQW1FO0FBQy9ELFlBQUlJLGlCQUFpQk4sU0FBU0UsV0FBVCxDQUFxQkMsUUFBckIsR0FBZ0NDLEtBQWhDLENBQXNDLHVCQUF0QyxDQUFyQjtBQUNBLFlBQUksMEJBQVFFLGNBQVIsS0FBMkIsMEJBQVFBLGVBQWUsQ0FBZixDQUFSLENBQS9CLEVBQTJEO0FBQ3ZELG1CQUFPQSxlQUFlLENBQWYsQ0FBUDtBQUNIO0FBQ0o7QUFDRCxXQUFPRyxTQUFQO0FBQ0gsQ0FSTSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZGVmaW5lZH0gZnJvbSBcIi4vTm9ybWFsVXRpbHNcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGlzVHlwZSA9IChpbnN0YW5jZSwgdHlwZU5hbWUpID0+IHtcclxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgPT09IFwib2JqZWN0XCIgJiYgZGVmaW5lZChpbnN0YW5jZS5jb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKihbXlxccyhdKykvKVsxXSA9PT0gdHlwZU5hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnsbvlkI3ljIXlkKtcclxuICogQHBhcmFtIGluc3RhbmNlXHJcbiAqIEBwYXJhbSB0eXBlTmFtZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmV4cG9ydCBjb25zdCB0eXBlQ29udGFpbmVzID0gKGluc3RhbmNlLCB0eXBlTmFtZSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gXCJvYmplY3RcIiAmJiBkZWZpbmVkKGluc3RhbmNlLmNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgIGxldCB0eXBlTWF0Y2hHcm91cCA9IGluc3RhbmNlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15mdW5jdGlvblxccyooW15cXHMoXSspLyk7XHJcbiAgICAgICAgaWYgKGRlZmluZWQodHlwZU1hdGNoR3JvdXApICYmIGRlZmluZWQodHlwZU1hdGNoR3JvdXBbMV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlTWF0Y2hHcm91cFsxXS5pbmRleE9mKHR5cGVOYW1lKSAhPT0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VHlwZSA9IChpbnN0YW5jZSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gXCJvYmplY3RcIiAmJiBkZWZpbmVkKGluc3RhbmNlLmNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgIGxldCB0eXBlTWF0Y2hHcm91cCA9IGluc3RhbmNlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15mdW5jdGlvblxccyooW15cXHMoXSspLyk7XHJcbiAgICAgICAgaWYgKGRlZmluZWQodHlwZU1hdGNoR3JvdXApICYmIGRlZmluZWQodHlwZU1hdGNoR3JvdXBbMV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlTWF0Y2hHcm91cFsxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar setListener = exports.setListener = function setListener(primitive, type, callback) {\n    primitive[type] = callback;\n};\n\nvar removeListener = exports.removeListener = function removeListener(primitive, type) {\n    delete primitive[type];\n};\n\n/**\r\n * 给对象设置监听器\r\n * @param element\r\n */\nvar enhanceWithListeners = exports.enhanceWithListeners = function enhanceWithListeners(element) {\n    element._listeners = {};\n\n    element.addListener = function (name, callback) {\n        this._listeners[name] = this._listeners[name] || [];\n        this._listeners[name].push(callback);\n        return this._listeners[name].length;\n    };\n\n    element.executeListeners = function (event, defaultCallback) {\n        if (this._listeners[event.name] && this._listeners[event.name].length > 0) {\n            var index = 0;\n            for (; index < this._listeners[event.name].length; index++) {\n                this._listeners[event.name][index](event);\n            }\n        } else {\n            if (defaultCallback) {\n                defaultCallback(event);\n            }\n        }\n    };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9EcmF3SGVscGVyVjIvdXRpbC9FdmVudEhlbHBlci5qcz85NTM0Il0sIm5hbWVzIjpbInNldExpc3RlbmVyIiwicHJpbWl0aXZlIiwidHlwZSIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJlbmhhbmNlV2l0aExpc3RlbmVycyIsImVsZW1lbnQiLCJfbGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJuYW1lIiwicHVzaCIsImxlbmd0aCIsImV4ZWN1dGVMaXN0ZW5lcnMiLCJldmVudCIsImRlZmF1bHRDYWxsYmFjayIsImluZGV4Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFPLElBQU1BLG9DQUFjLFNBQWRBLFdBQWMsQ0FBQ0MsU0FBRCxFQUFZQyxJQUFaLEVBQWtCQyxRQUFsQixFQUErQjtBQUN0REYsY0FBVUMsSUFBVixJQUFrQkMsUUFBbEI7QUFDSCxDQUZNOztBQUlBLElBQU1DLDBDQUFpQixTQUFqQkEsY0FBaUIsQ0FBQ0gsU0FBRCxFQUFZQyxJQUFaLEVBQXFCO0FBQy9DLFdBQU9ELFVBQVVDLElBQVYsQ0FBUDtBQUNILENBRk07O0FBSVA7Ozs7QUFJTyxJQUFNRyxzREFBdUIsU0FBdkJBLG9CQUF1QixDQUFDQyxPQUFELEVBQWE7QUFDN0NBLFlBQVFDLFVBQVIsR0FBcUIsRUFBckI7O0FBRUFELFlBQVFFLFdBQVIsR0FBc0IsVUFBVUMsSUFBVixFQUFnQk4sUUFBaEIsRUFBMEI7QUFDNUMsYUFBS0ksVUFBTCxDQUFnQkUsSUFBaEIsSUFBeUIsS0FBS0YsVUFBTCxDQUFnQkUsSUFBaEIsS0FBeUIsRUFBbEQ7QUFDQSxhQUFLRixVQUFMLENBQWdCRSxJQUFoQixFQUFzQkMsSUFBdEIsQ0FBMkJQLFFBQTNCO0FBQ0EsZUFBTyxLQUFLSSxVQUFMLENBQWdCRSxJQUFoQixFQUFzQkUsTUFBN0I7QUFDSCxLQUpEOztBQU1BTCxZQUFRTSxnQkFBUixHQUEyQixVQUFVQyxLQUFWLEVBQWlCQyxlQUFqQixFQUFrQztBQUN6RCxZQUFJLEtBQUtQLFVBQUwsQ0FBZ0JNLE1BQU1KLElBQXRCLEtBQStCLEtBQUtGLFVBQUwsQ0FBZ0JNLE1BQU1KLElBQXRCLEVBQTRCRSxNQUE1QixHQUFxQyxDQUF4RSxFQUEyRTtBQUN2RSxnQkFBSUksUUFBUSxDQUFaO0FBQ0EsbUJBQU9BLFFBQVEsS0FBS1IsVUFBTCxDQUFnQk0sTUFBTUosSUFBdEIsRUFBNEJFLE1BQTNDLEVBQW1ESSxPQUFuRCxFQUE0RDtBQUN4RCxxQkFBS1IsVUFBTCxDQUFnQk0sTUFBTUosSUFBdEIsRUFBNEJNLEtBQTVCLEVBQW1DRixLQUFuQztBQUNIO0FBQ0osU0FMRCxNQUtPO0FBQ0gsZ0JBQUlDLGVBQUosRUFBcUI7QUFDakJBLGdDQUFnQkQsS0FBaEI7QUFDSDtBQUNKO0FBQ0osS0FYRDtBQVlILENBckJNIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldExpc3RlbmVyID0gKHByaW1pdGl2ZSwgdHlwZSwgY2FsbGJhY2spID0+IHtcclxuICAgIHByaW1pdGl2ZVt0eXBlXSA9IGNhbGxiYWNrO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSAocHJpbWl0aXZlLCB0eXBlKSA9PiB7XHJcbiAgICBkZWxldGUgcHJpbWl0aXZlW3R5cGVdO1xyXG59XHJcblxyXG4vKipcclxuICog57uZ5a+56LGh6K6+572u55uR5ZCs5ZmoXHJcbiAqIEBwYXJhbSBlbGVtZW50XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW5oYW5jZVdpdGhMaXN0ZW5lcnMgPSAoZWxlbWVudCkgPT4ge1xyXG4gICAgZWxlbWVudC5fbGlzdGVuZXJzID0ge307XHJcblxyXG4gICAgZWxlbWVudC5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9ICh0aGlzLl9saXN0ZW5lcnNbbmFtZV0gfHwgW10pO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW25hbWVdLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50LmV4ZWN1dGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZlbnQsIGRlZmF1bHRDYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnNbZXZlbnQubmFtZV0gJiYgdGhpcy5fbGlzdGVuZXJzW2V2ZW50Lm5hbWVdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgdGhpcy5fbGlzdGVuZXJzW2V2ZW50Lm5hbWVdLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50Lm5hbWVdW2luZGV4XShldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZGVmYXVsdENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2FsbGJhY2soZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Uuid = exports.Uuid = function Uuid() {\n    var d = new Date().getTime();\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9VdWlkLmpzPzc0NzciXSwibmFtZXMiOlsiVXVpZCIsImQiLCJEYXRlIiwiZ2V0VGltZSIsInJlcGxhY2UiLCJjIiwiciIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFPLElBQU1BLHNCQUFPLFNBQVBBLElBQU8sR0FBSTtBQUNwQixRQUFJQyxJQUFJLElBQUlDLElBQUosR0FBV0MsT0FBWCxFQUFSO0FBQ0EsV0FBTyx1Q0FBdUNDLE9BQXZDLENBQStDLE9BQS9DLEVBQXdELFVBQVVDLENBQVYsRUFBYTtBQUN4RSxZQUFJQyxJQUFJLENBQUNMLElBQUlNLEtBQUtDLE1BQUwsS0FBZ0IsRUFBckIsSUFBMkIsRUFBM0IsR0FBZ0MsQ0FBeEM7QUFDQVAsWUFBSU0sS0FBS0UsS0FBTCxDQUFXUixJQUFJLEVBQWYsQ0FBSjtBQUNBLGVBQU8sQ0FBQ0ksTUFBTSxHQUFOLEdBQVlDLENBQVosR0FBaUJBLElBQUksR0FBSixHQUFVLEdBQTVCLEVBQWtDSSxRQUFsQyxDQUEyQyxFQUEzQyxDQUFQO0FBQ0gsS0FKTSxDQUFQO0FBS0gsQ0FQTSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBVdWlkID0gKCk9PntcclxuICAgIGxldCBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIGxldCByID0gKGQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xyXG4gICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XHJcbiAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDcgfCAweDgpKS50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.DazzlingLabelEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _Cartesian3s = __webpack_require__(4);\n\nvar _Math = __webpack_require__(14);\n\nvar _BaseEntity2 = __webpack_require__(7);\n\nvar _index = __webpack_require__(1);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * 无法解决单个entity引用模型的问题\r\n */\nvar DazzlingLabelEntity = exports.DazzlingLabelEntity = function (_BaseEntity) {\n    _inherits(DazzlingLabelEntity, _BaseEntity);\n\n    /**\r\n     *\r\n     * @param config\r\n     * @param modelColor\r\n     * @param width\r\n     * @param timePeriod\r\n     * @param relativeSize\r\n     */\n    function DazzlingLabelEntity(config) {\n        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n            _ref$modelColor = _ref.modelColor,\n            modelColor = _ref$modelColor === undefined ? Cesium.Color.DARKVIOLET : _ref$modelColor,\n            _ref$line = _ref.line;\n\n        _ref$line = _ref$line === undefined ? {} : _ref$line;\n        var _ref$line$width = _ref$line.width,\n            width = _ref$line$width === undefined ? 5 : _ref$line$width,\n            _ref$ring = _ref.ring;\n        _ref$ring = _ref$ring === undefined ? {} : _ref$ring;\n        var _ref$ring$timePeriod = _ref$ring.timePeriod,\n            timePeriod = _ref$ring$timePeriod === undefined ? 10 : _ref$ring$timePeriod,\n            _ref$ring$relativeSiz = _ref$ring.relativeSize,\n            relativeSize = _ref$ring$relativeSiz === undefined ? 1 : _ref$ring$relativeSiz;\n\n        _classCallCheck(this, DazzlingLabelEntity);\n\n        // let simpleSin = new SimpleSinBuilder().setPeriod(20).setAmplitude(1).setPhase(0).build();\n        var _this = _possibleConstructorReturn(this, (DazzlingLabelEntity.__proto__ || Object.getPrototypeOf(DazzlingLabelEntity)).call(this, config));\n\n        var simpleCos = new _Math.SimpleCosBuilder().setPeriod(timePeriod / 2).setAmplitude(-0.5).setPhase(0).build();\n        var startTime = Cesium.JulianDate.now();\n\n        _this.ringEntity = new Cesium.Entity({\n            position: new Cesium.CallbackProperty(function (time, result) {\n                return _Cartesian3s.Cartesian3s.formatHeight(config.position, (0.5 + simpleCos.calc(Cesium.JulianDate.secondsDifference(Cesium.JulianDate.now(), startTime) % (timePeriod / 2))) * _Cartesian3s.Cartesian3s.toRadians(config.position).height);\n            }, false),\n            model: {\n                uri: _index.__dirpath + "/resources/圆环.glb",\n                scale: new Cesium.CallbackProperty(function (time, result) {\n                    // this.viewer.scene.camera.position\n                    return Cesium.Cartesian3.distance(config.position, _this.viewer.scene.camera.position) * relativeSize / 340;\n                    // return 0.1;\n                }, false),\n                maximumScale: 1,\n                color: modelColor,\n                show: new Cesium.CallbackProperty(function (time, result) {\n                    return _this.selected;\n                }, false)\n            },\n            polyline: {\n                positions: [_Cartesian3s.Cartesian3s.formatHeightZero(config.position), config.position],\n                width: width,\n                material: modelColor\n            }\n        });\n        _this.ringEntity.parent = _this;\n\n        _this.initEvent();\n        _this.selected = false;\n        return _this;\n    }\n\n    _createClass(DazzlingLabelEntity, [{\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            this.viewer = viewer;\n            viewer.entities.add(this);\n            viewer.entities.add(this.ringEntity);\n        }\n    }, {\n        key: "removeViewer",\n        value: function removeViewer(viewer) {\n            viewer.entities.add(this);\n            viewer.entities.add(this.ringEntity);\n        }\n    }]);\n\n    return DazzlingLabelEntity;\n}(_BaseEntity2.BaseEntity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvRGF6emxpbmdMYWJlbEVudGl0eS5qcz8yZTFmIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkRhenpsaW5nTGFiZWxFbnRpdHkiLCJjb25maWciLCJtb2RlbENvbG9yIiwiQ29sb3IiLCJEQVJLVklPTEVUIiwibGluZSIsIndpZHRoIiwicmluZyIsInRpbWVQZXJpb2QiLCJyZWxhdGl2ZVNpemUiLCJzaW1wbGVDb3MiLCJTaW1wbGVDb3NCdWlsZGVyIiwic2V0UGVyaW9kIiwic2V0QW1wbGl0dWRlIiwic2V0UGhhc2UiLCJidWlsZCIsInN0YXJ0VGltZSIsIkp1bGlhbkRhdGUiLCJub3ciLCJyaW5nRW50aXR5IiwiRW50aXR5IiwicG9zaXRpb24iLCJDYWxsYmFja1Byb3BlcnR5IiwidGltZSIsInJlc3VsdCIsIkNhcnRlc2lhbjNzIiwiZm9ybWF0SGVpZ2h0IiwiY2FsYyIsInNlY29uZHNEaWZmZXJlbmNlIiwidG9SYWRpYW5zIiwiaGVpZ2h0IiwibW9kZWwiLCJ1cmkiLCJfX2RpcnBhdGgiLCJzY2FsZSIsIkNhcnRlc2lhbjMiLCJkaXN0YW5jZSIsInZpZXdlciIsInNjZW5lIiwiY2FtZXJhIiwibWF4aW11bVNjYWxlIiwiY29sb3IiLCJzaG93Iiwic2VsZWN0ZWQiLCJwb2x5bGluZSIsInBvc2l0aW9ucyIsImZvcm1hdEhlaWdodFplcm8iLCJtYXRlcmlhbCIsInBhcmVudCIsImluaXRFdmVudCIsImVudGl0aWVzIiwiYWRkIiwiQmFzZUVudGl0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0lBQVlBLE07O0FBQ1o7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7QUFFQTs7O0lBR2FDLG1CLFdBQUFBLG1COzs7QUFDVDs7Ozs7Ozs7QUFRQSxpQ0FBWUMsTUFBWixFQVNRO0FBQUEsdUZBQUosRUFBSTtBQUFBLG1DQVJKQyxVQVFJO0FBQUEsWUFSSkEsVUFRSSxtQ0FSU0gsT0FBT0ksS0FB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ZW50IjpbImltcG9ydCAqIGFzIENlc2l1bSBmcm9tIFwiQ2VzaXVtXCI7XHJcbmltcG9ydCB7Q2FydGVzaWFuM3N9IGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjNzXCI7XHJcbmltcG9ydCB7U2ltcGxlQ29zQnVpbGRlcn0gZnJvbSBcIi4uL1V0aWwvTWF0aFwiXHJcbmltcG9ydCB7QmFzZUVudGl0eX0gZnJvbSBcIi4vQmFzZUVudGl0eVwiO1xyXG5pbXBvcnQge19fZGlycGF0aH0gZnJvbSBcIi4uL2luZGV4XCI7XHJcblxyXG4vKipcclxuICog5peg5rOV6Kej5Yaz5Y2V5LiqZW50aXR55byV55So5qih5Z6L55qE6Zeu6aKYXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGF6emxpbmdMYWJlbEVudGl0eSBleHRlbmRzIEJhc2VFbnRpdHkge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ1xyXG4gICAgICogQHBhcmFtIG1vZGVsQ29sb3JcclxuICAgICAqIEBwYXJhbSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHRpbWVQZXJpb2RcclxuICAgICAqIEBwYXJhbSByZWxhdGl2ZVNpemVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCB7XHJcbiAgICAgICAgbW9kZWxDb2xvciA9IENlc2l1bS5Db2xvci5EQVJLVklPTEVULFxyXG4gICAgICAgIGxpbmU6IHtcclxuICAgICAgICAgICAgd2lkdGggPSA1XHJcbiAgICAgICAgfSA9IHt9LFxyXG4gICAgICAgIHJpbmc6IHtcclxuICAgICAgICAgICAgdGltZVBlcmlvZCA9IDEwLFxyXG4gICAgICAgICAgICByZWxhdGl2ZVNpemUgPSAxXHJcbiAgICAgICAgfSA9IHt9XHJcbiAgICB9ID0ge30pIHtcclxuICAgICAgICBzdXBlcihjb25maWcpXHJcbiAgICAgICAgLy8gbGV0IHNpbXBsZVNpbiA9IG5ldyBTaW1wbGVTaW5CdWlsZGVyKCkuc2V0UGVyaW9kKDIwKS5zZXRBbXBsaXR1ZGUoMSkuc2V0UGhhc2UoMCkuYnVpbGQoKTtcclxuICAgICAgICBsZXQgc2ltcGxlQ29zID0gbmV3IFNpbXBsZUNvc0J1aWxkZXIoKS5zZXRQZXJpb2QodGltZVBlcmlvZCAvIDIpLnNldEFtcGxpdHVkZSgtMC41KS5zZXRQaGFzZSgwKS5idWlsZCgpO1xyXG4gICAgICAgIGxldCBzdGFydFRpbWUgPSBDZXNpdW0uSnVsaWFuRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5yaW5nRW50aXR5ID0gbmV3IENlc2l1bS5FbnRpdHkoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IENlc2l1bS5DYWxsYmFja1Byb3BlcnR5KCh0aW1lLCByZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYXJ0ZXNpYW4zcy5mb3JtYXRIZWlnaHQoY29uZmlnLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICgwLjUgKyBzaW1wbGVDb3MuY2FsYyhDZXNpdW0uSnVsaWFuRGF0ZS5zZWNvbmRzRGlmZmVyZW5jZShDZXNpdW0uSnVsaWFuRGF0ZS5ub3coKSwgc3RhcnRUaW1lKSAlICh0aW1lUGVyaW9kIC8gMikpKSAqIENhcnRlc2lhbjNzLnRvUmFkaWFucyhjb25maWcucG9zaXRpb24pLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSwgZmFsc2UpLFxyXG4gICAgICAgICAgICBtb2RlbDoge1xyXG4gICAgICAgICAgICAgICAgdXJpOiBfX2RpcnBhdGggKyBcIi9yZXNvdXJjZXMv5ZyG546vLmdsYlwiLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eSgodGltZSwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy52aWV3ZXIuc2NlbmUuY2FtZXJhLnBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmRpc3RhbmNlKGNvbmZpZy5wb3NpdGlvbiwgdGhpcy52aWV3ZXIuc2NlbmUuY2FtZXJhLnBvc2l0aW9uKSAqIHJlbGF0aXZlU2l6ZSAvIDM0MDtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gMC4xO1xyXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpLFxyXG4gICAgICAgICAgICAgICAgbWF4aW11bVNjYWxlOiAxLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IG1vZGVsQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBzaG93OiBuZXcgQ2VzaXVtLkNhbGxiYWNrUHJvcGVydHkoKHRpbWUsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvbHlsaW5lOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IFtDYXJ0ZXNpYW4zcy5mb3JtYXRIZWlnaHRaZXJvKGNvbmZpZy5wb3NpdGlvbiksIGNvbmZpZy5wb3NpdGlvbl0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogbW9kZWxDb2xvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yaW5nRW50aXR5LnBhcmVudCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEV2ZW50KCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZpZXdlcih2aWV3ZXIpIHtcclxuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcclxuICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMpO1xyXG4gICAgICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5yaW5nRW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVWaWV3ZXIodmlld2VyKSB7XHJcbiAgICAgICAgdmlld2VyLmVudGl0aWVzLmFkZCh0aGlzKTtcclxuICAgICAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMucmluZ0VudGl0eSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar SimpleSin = exports.SimpleSin = function () {\n    function SimpleSin(A, k, b) {\n        _classCallCheck(this, SimpleSin);\n\n        this.A = A;\n        this.k = k;\n        this.b = b;\n        return this;\n    }\n\n    _createClass(SimpleSin, [{\n        key: "calc",\n        value: function calc(x) {\n            return Math.sin(this.k * x + this.b) * this.A;\n        }\n    }]);\n\n    return SimpleSin;\n}();\n\nvar SimpleSinBuilder = exports.SimpleSinBuilder = function () {\n    function SimpleSinBuilder() {\n        _classCallCheck(this, SimpleSinBuilder);\n    }\n\n    _createClass(SimpleSinBuilder, [{\n        key: "setPeriod",\n        value: function setPeriod(number) {\n            this.k = 2 * Math.PI / number;\n            return this;\n        }\n    }, {\n        key: "setAmplitude",\n        value: function setAmplitude(number) {\n            this.A = number;\n            return this;\n        }\n    }, {\n        key: "setPhase",\n        value: function setPhase(number) {\n            this.b = number;\n            return this;\n        }\n    }, {\n        key: "build",\n        value: function build() {\n            return new SimpleSin(this.A, this.k, this.b);\n        }\n    }]);\n\n    return SimpleSinBuilder;\n}();\n\nvar simpleCos = exports.simpleCos = function () {\n    function simpleCos(A, k, b) {\n        _classCallCheck(this, simpleCos);\n\n        this.A = A;\n        this.k = k;\n        this.b = b;\n        return this;\n    }\n\n    _createClass(simpleCos, [{\n        key: "calc",\n        value: function calc(x) {\n            return Math.cos(this.k * x + this.b) * this.A;\n        }\n    }]);\n\n    return simpleCos;\n}();\n\nvar SimpleCosBuilder = exports.SimpleCosBuilder = function () {\n    function SimpleCosBuilder() {\n        _classCallCheck(this, SimpleCosBuilder);\n    }\n\n    _createClass(SimpleCosBuilder, [{\n        key: "setPeriod",\n        value: function setPeriod(number) {\n            this.k = 2 * Math.PI / number;\n            return this;\n        }\n    }, {\n        key: "setAmplitude",\n        value: function setAmplitude(number) {\n            this.A = number;\n            return this;\n        }\n    }, {\n        key: "setPhase",\n        value: function setPhase(number) {\n            this.b = number;\n            return this;\n        }\n    }, {\n        key: "build",\n        value: function build() {\n            return new simpleCos(this.A, this.k, this.b);\n        }\n    }]);\n\n    return SimpleCosBuilder;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVXRpbC9NYXRoLmpzPzRiY2QiXSwibmFtZXMiOlsiU2ltcGxlU2luIiwiQSIsImsiLCJiIiwieCIsIk1hdGgiLCJzaW4iLCJTaW1wbGVTaW5CdWlsZGVyIiwibnVtYmVyIiwiUEkiLCJzaW1wbGVDb3MiLCJjb3MiLCJTaW1wbGVDb3NCdWlsZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU8sSUFBTUE7QUFDVCx1QkFBWUMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCQyxDQUFsQixFQUFxQjtBQUFBOztBQUNqQixhQUFLRixDQUFMLEdBQVNBLENBQVQ7QUFDQSxhQUFLQyxDQUFMLEdBQVNBLENBQVQ7QUFDQSxhQUFLQyxDQUFMLEdBQVNBLENBQVQ7QUFDQSxlQUFPLElBQVA7QUFDSDs7QUFOUTtBQUFBO0FBQUEsNkJBUUpDLENBUkksRUFRRDtBQUNKLG1CQUFPQyxLQUFLQyxHQUFMLENBQVMsS0FBS0osQ0FBTCxHQUFTRSxDQUFULEdBQWEsS0FBS0QsQ0FBM0IsSUFBZ0MsS0FBS0YsQ0FBNUM7QUFDSDtBQVZROztBQUFBO0FBQUEsR0FBTjs7QUFhQSxJQUFNTTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUEsa0NBQ0NDLE1BREQsRUFDUztBQUNkLGlCQUFLTixDQUFMLEdBQVMsSUFBSUcsS0FBS0ksRUFBVCxHQUFjRCxNQUF2QjtBQUNBLG1CQUFPLElBQVA7QUFDSDtBQUpRO0FBQUE7QUFBQSxxQ0FNSUEsTUFOSixFQU1ZO0FBQ2pCLGlCQUFLUCxDQUFMLEdBQVNPLE1BQVQ7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFUUTtBQUFBO0FBQUEsaUNBV0FBLE1BWEEsRUFXUTtBQUNiLGlCQUFLTCxDQUFMLEdBQVNLLE1BQVQ7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFkUTtBQUFBO0FBQUEsZ0NBZ0JEO0FBQ0osbUJBQU8sSUFBSVIsU0FBSixDQUFjLEtBQUtDLENBQW5CLEVBQXNCLEtBQUtDLENBQTNCLEVBQThCLEtBQUtDLENBQW5DLENBQVA7QUFDSDtBQWxCUTs7QUFBQTtBQUFBLEdBQU47O0FBc0JBLElBQU1PO0FBQ1QsdUJBQVlULENBQVosRUFBZUMsQ0FBZixFQUFrQkMsQ0FBbEIsRUFBcUI7QUFBQTs7QUFDakIsYUFBS0YsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsYUFBS0MsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsYUFBS0MsQ0FBTCxHQUFTQSxDQUFUO0FBQ0EsZUFBTyxJQUFQO0FBQ0g7O0FBTlE7QUFBQTtBQUFBLDZCQVFKQyxDQVJJLEVBUUQ7QUFDSixtQkFBT0MsS0FBS00sR0FBTCxDQUFTLEtBQUtULENBQUwsR0FBU0UsQ0FBVCxHQUFhLEtBQUtELENBQTNCLElBQWdDLEtBQUtGLENBQTVDO0FBQ0g7QUFWUTs7QUFBQTtBQUFBLEdBQU47O0FBYUEsSUFBTVc7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLGtDQUNDSixNQURELEVBQ1M7QUFDZCxpQkFBS04sQ0FBTCxHQUFTLElBQUlHLEtBQUtJLEVBQVQsR0FBY0QsTUFBdkI7QUFDQSxtQkFBTyxJQUFQO0FBQ0g7QUFKUTtBQUFBO0FBQUEscUNBTUlBLE1BTkosRUFNWTtBQUNqQixpQkFBS1AsQ0FBTCxHQUFTTyxNQUFUO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBVFE7QUFBQTtBQUFBLGlDQVdBQSxNQVhBLEVBV1E7QUFDYixpQkFBS0wsQ0FBTCxHQUFTSyxNQUFUO0FBQ0EsbUJBQU8sSUFBUDtBQUNIO0FBZFE7QUFBQTtBQUFBLGdDQWdCRDtBQUNKLG1CQUFPLElBQUlFLFNBQUosQ0FBYyxLQUFLVCxDQUFuQixFQUFzQixLQUFLQyxDQUEzQixFQUE4QixLQUFLQyxDQUFuQyxDQUFQO0FBQ0g7QUFsQlE7O0FBQUE7QUFBQSxHQUFOIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNpbXBsZVNpbiA9IGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKEEsIGssIGIpIHtcclxuICAgICAgICB0aGlzLkEgPSBBO1xyXG4gICAgICAgIHRoaXMuayA9IGs7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjYWxjKHgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zaW4odGhpcy5rICogeCArIHRoaXMuYikgKiB0aGlzLkE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaW1wbGVTaW5CdWlsZGVyID0gY2xhc3Mge1xyXG4gICAgc2V0UGVyaW9kKG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuayA9IDIgKiBNYXRoLlBJIC8gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFtcGxpdHVkZShudW1iZXIpIHtcclxuICAgICAgICB0aGlzLkEgPSBudW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGhhc2UobnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5iID0gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlU2luKHRoaXMuQSwgdGhpcy5rLCB0aGlzLmIpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3Qgc2ltcGxlQ29zID0gY2xhc3MgIHtcclxuICAgIGNvbnN0cnVjdG9yKEEsIGssIGIpIHtcclxuICAgICAgICB0aGlzLkEgPSBBO1xyXG4gICAgICAgIHRoaXMuayA9IGs7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjYWxjKHgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5jb3ModGhpcy5rICogeCArIHRoaXMuYikgKiB0aGlzLkE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaW1wbGVDb3NCdWlsZGVyID0gY2xhc3Mge1xyXG4gICAgc2V0UGVyaW9kKG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuayA9IDIgKiBNYXRoLlBJIC8gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFtcGxpdHVkZShudW1iZXIpIHtcclxuICAgICAgICB0aGlzLkEgPSBudW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGhhc2UobnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5iID0gbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgc2ltcGxlQ29zKHRoaXMuQSwgdGhpcy5rLCB0aGlzLmIpXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.EditableEntity = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _ = __webpack_require__(1);\n\nvar _BaseEntity2 = __webpack_require__(7);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditableEntity = exports.EditableEntity = function (_BaseEntity) {\n    _inherits(EditableEntity, _BaseEntity);\n\n    function EditableEntity() {\n        _classCallCheck(this, EditableEntity);\n\n        return _possibleConstructorReturn(this, (EditableEntity.__proto__ || Object.getPrototypeOf(EditableEntity)).apply(this, arguments));\n    }\n\n    _createClass(EditableEntity, [{\n        key: "setEditable",\n        value: function setEditable() {\n            var _this2 = this;\n\n            var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            var eventSystem = _.EventSystemInstance.getInstance();\n            if (editable === false) {\n                eventSystem.removeListener(this, _.EventType.DRAW);\n                eventSystem.removeListener(this, _.EventType.DRAW_START);\n                eventSystem.removeListener(this, _.EventType.DRAW_END);\n                this._editable = false;\n                return;\n            }\n\n            if (this._editable) return;\n\n            this._editable = true;\n\n            eventSystem.onDragStart(this, function (position) {\n                eventSystem.enableDrawRotation(false);\n                // this._inlineHeight = Cartesian3s.toDegrees(this.position.getValue(0)).height;\n                // this.position = Cartesian3s.formatHeight(this._viewer.scene.camera.pickEllipsoid(position),this._inlineHeight) ;\n                _this2.position = _this2._viewer.scene.camera.pickEllipsoid(position);\n            });\n\n            eventSystem.onDrag(this, function (position) {\n                // this.position = Cartesian3s.formatHeight(this._viewer.scene.camera.pickEllipsoid(position),this._inlineHeight) ;\n                _this2.position = _this2._viewer.scene.camera.pickEllipsoid(position);\n            });\n\n            eventSystem.onDragEnd(this, function (position) {\n                eventSystem.enableDrawRotation(true);\n            });\n        }\n    }]);\n\n    return EditableEntity;\n}(_BaseEntity2.BaseEntity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvRWRpdGFibGVFbnRpdHkuanM/ZDBhOCJdLCJuYW1lcyI6WyJDZXNpdW0iLCJFZGl0YWJsZUVudGl0eSIsImVkaXRhYmxlIiwiZXZlbnRTeXN0ZW0iLCJFdmVudFN5c3RlbUluc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJyZW1vdmVMaXN0ZW5lciIsIkV2ZW50VHlwZSIsIkRSQVciLCJEUkFXX1NUQVJUIiwiRFJBV19FTkQiLCJfZWRpdGFibGUiLCJvbkRyYWdTdGFydCIsInBvc2l0aW9uIiwiZW5hYmxlRHJhd1JvdGF0aW9uIiwiX3ZpZXdlciIsInNjZW5lIiwiY2FtZXJhIiwicGlja0VsbGlwc29pZCIsIm9uRHJhZyIsIm9uRHJhZ0VuZCIsIkJhc2VFbnRpdHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUFZQSxNOztBQUNaOztBQUNBOzs7Ozs7Ozs7O0lBRWFDLGMsV0FBQUEsYzs7Ozs7Ozs7Ozs7c0NBRW1CO0FBQUE7O0FBQUEsZ0JBQWhCQyxRQUFnQix1RUFBTCxJQUFLOztBQUN4QixnQkFBSUMsY0FBY0Msc0JBQW9CQyxXQUFwQixFQUFsQjtBQUNBLGdCQUFHSCxhQUFhLEtBQWhCLEVBQXNCO0FBQ2xCQyw0QkFBWUcsY0FBWixDQUEyQixJQUEzQixFQUFnQ0MsWUFBVUMsSUFBMUM7QUFDQUwsNEJBQVlHLGNBQVosQ0FBMkIsSUFBM0IsRUFBZ0NDLFlBQVVFLFVBQTFDO0FBQ0FOLDRCQUFZRyxjQUFaLENBQTJCLElBQTNCLEVBQWdDQyxZQUFVRyxRQUExQztBQUNBLHFCQUFLQyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0E7QUFDSDs7QUFFRCxnQkFBRyxLQUFLQSxTQUFSLEVBQW1COztBQUVuQixpQkFBS0EsU0FBTCxHQUFpQixJQUFqQjs7QUFFQVIsd0JBQVlTLFdBQVosQ0FBd0IsSUFBeEIsRUFBOEIsVUFBQ0MsUUFBRCxFQUFjO0FBQ3hDViw0QkFBWVcsa0JBQVosQ0FBK0IsS0FBL0I7QUFDQTtBQUNBO0FBQ0EsdUJBQUtELFFBQUwsR0FBZ0IsT0FBS0UsT0FBTCxDQUFhQyxLQUFiLENBQW1CQyxNQUFuQixDQUEwQkMsYUFBMUIsQ0FBd0NMLFFBQXhDLENBQWhCO0FBQ0gsYUFMRDs7QUFPQVYsd0JBQVlnQixNQUFaLENBQW1CLElBQW5CLEVBQXlCLFVBQUNOLFFBQUQsRUFBYztBQUNuQztBQUNBLHVCQUFLQSxRQUFMLEdBQWdCLE9BQUtFLE9BQUwsQ0FBYUMsS0FBYixDQUFtQkMsTUFBbkIsQ0FBMEJDLGFBQTFCLENBQXdDTCxRQUF4QyxDQUFoQjtBQUNILGFBSEQ7O0FBS0FWLHdCQUFZaUIsU0FBWixDQUFzQixJQUF0QixFQUE0QixVQUFDUCxRQUFELEVBQWM7QUFDdENWLDRCQUFZVyxrQkFBWixDQUErQixJQUEvQjtBQUNILGFBRkQ7QUFJSDs7OztFQWhDK0JPLHVCIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtDYXJ0ZXNpYW4zcywgRXZlbnRTeXN0ZW1JbnN0YW5jZSwgRXZlbnRUeXBlfSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHtCYXNlRW50aXR5fSBmcm9tIFwiLi9CYXNlRW50aXR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRWRpdGFibGVFbnRpdHkgZXh0ZW5kcyBCYXNlRW50aXR5e1xyXG5cclxuICAgIHNldEVkaXRhYmxlKGVkaXRhYmxlID0gdHJ1ZSl7XHJcbiAgICAgICAgbGV0IGV2ZW50U3lzdGVtID0gRXZlbnRTeXN0ZW1JbnN0YW5jZS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGlmKGVkaXRhYmxlID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtLnJlbW92ZUxpc3RlbmVyKHRoaXMsRXZlbnRUeXBlLkRSQVcpO1xyXG4gICAgICAgICAgICBldmVudFN5c3RlbS5yZW1vdmVMaXN0ZW5lcih0aGlzLEV2ZW50VHlwZS5EUkFXX1NUQVJUKTtcclxuICAgICAgICAgICAgZXZlbnRTeXN0ZW0ucmVtb3ZlTGlzdGVuZXIodGhpcyxFdmVudFR5cGUuRFJBV19FTkQpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZGl0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLl9lZGl0YWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9lZGl0YWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGV2ZW50U3lzdGVtLm9uRHJhZ1N0YXJ0KHRoaXMsIChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBldmVudFN5c3RlbS5lbmFibGVEcmF3Um90YXRpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLl9pbmxpbmVIZWlnaHQgPSBDYXJ0ZXNpYW4zcy50b0RlZ3JlZXModGhpcy5wb3NpdGlvbi5nZXRWYWx1ZSgwKSkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBvc2l0aW9uID0gQ2FydGVzaWFuM3MuZm9ybWF0SGVpZ2h0KHRoaXMuX3ZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbiksdGhpcy5faW5saW5lSGVpZ2h0KSA7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLl92aWV3ZXIuc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24pIDtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBldmVudFN5c3RlbS5vbkRyYWcodGhpcywgKHBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucG9zaXRpb24gPSBDYXJ0ZXNpYW4zcy5mb3JtYXRIZWlnaHQodGhpcy5fdmlld2VyLnNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKHBvc2l0aW9uKSx0aGlzLl9pbmxpbmVIZWlnaHQpIDtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMuX3ZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbikgO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGV2ZW50U3lzdGVtLm9uRHJhZ0VuZCh0aGlzLCAocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgZXZlbnRTeXN0ZW0uZW5hYmxlRHJhd1JvdGF0aW9uKHRydWUpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.BuildingHightlightBuilder = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _ = __webpack_require__(1);\n\nvar _NormalUtils = __webpack_require__(2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar BuildingHightlightBuilder = exports.BuildingHightlightBuilder = function () {\n    function BuildingHightlightBuilder() {\n        _classCallCheck(this, BuildingHightlightBuilder);\n    }\n\n    _createClass(BuildingHightlightBuilder, [{\n        key: "setPositions",\n        value: function setPositions(positions) {\n            this._position = positions;\n            return this;\n        }\n    }, {\n        key: "setColor",\n        value: function setColor(color) {\n            this._color = color;\n            return this;\n        }\n    }, {\n        key: "setHoverColor",\n        value: function setHoverColor(hoverColor) {\n            this._hoverColor = hoverColor;\n            return this;\n        }\n    }, {\n        key: "setOnClick",\n        value: function setOnClick(clickCallBack) {\n            this.clickCallback = clickCallBack;\n            return this;\n        }\n    }, {\n        key: "setViewer",\n        value: function setViewer(viewer) {\n            this._viewer = viewer;\n            return this;\n        }\n    }, {\n        key: "_setDefault",\n        value: function _setDefault() {\n            if (!(0, _NormalUtils.defined)(this._hoverColor)) {\n                this._hoverColor = Cesium.Color.YELLOW.withAlpha(0.5);\n            }\n            this._hoverColorBytes = this._hoverColor.toBytes();\n            if (!(0, _NormalUtils.defined)(this._color)) {\n                this._color = Cesium.Color.YELLOW.withAlpha(0);\n            }\n            this._colorBytes = this._color.toBytes();\n        }\n    }, {\n        key: "build",\n        value: function build() {\n            var _this = this;\n\n            this._setDefault();\n\n            var eventSystem = _.EventSystemInstance.getInstance();\n            var classificationPrimitive = new Cesium.ClassificationPrimitive({\n                geometryInstances: new Cesium.GeometryInstance({\n                    geometry: Cesium.PolygonGeometry.fromPositions({\n                        vertexFormat: Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,\n                        positions: this._position,\n                        extrudedHeight: 100,\n                        height: -50,\n                        closeBottom: true\n                    }),\n                    attributes: {\n                        color: Cesium.ColorGeometryInstanceAttribute.fromColor(this._color),\n                        show: new Cesium.ShowGeometryInstanceAttribute(true)\n                    },\n                    id: \'box-2\'\n                }),\n                classificationType: Cesium.ClassificationType.BOTH //CESIUM_3D_TILE\n            });\n            eventSystem.onMouseMove(classificationPrimitive, function (position, obj) {\n                if (!obj) return; //暂时过滤掉drawhelper的事件\n                console.log(["move in", position, obj]);\n                var attributes = classificationPrimitive.getGeometryInstanceAttributes(\'box-2\');\n                attributes.color = _this._hoverColorBytes;\n            });\n\n            eventSystem.onMouseMoveOut(classificationPrimitive, function (position, obj) {\n                console.log(["move out", position, obj]);\n                var attributes = classificationPrimitive.getGeometryInstanceAttributes(\'box-2\');\n                attributes.color = _this._colorBytes;\n            });\n\n            this.clickCallback && eventSystem.onLeftClick(classificationPrimitive, function (position) {\n                typeof _this.clickCallback === "function" && _this.clickCallback(position, classificationPrimitive);\n            });\n\n            return classificationPrimitive;\n        }\n    }]);\n\n    return BuildingHightlightBuilder;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvRGF0YVNvdXJjZXMvQnVpbGRpbmdIaWdodGxpZ2h0QnVpbGRlci5qcz84MmMwIl0sIm5hbWVzIjpbIkNlc2l1bSIsIkJ1aWxkaW5nSGlnaHRsaWdodEJ1aWxkZXIiLCJwb3NpdGlvbnMiLCJfcG9zaXRpb24iLCJjb2xvciIsIl9jb2xvciIsImhvdmVyQ29sb3IiLCJfaG92ZXJDb2xvciIsImNsaWNrQ2FsbEJhY2siLCJjbGlja0NhbGxiYWNrIiwidmlld2VyIiwiX3ZpZXdlciIsIkNvbG9yIiwiWUVMTE9XIiwid2l0aEFscGhhIiwiX2hvdmVyQ29sb3JCeXRlcyIsInRvQnl0ZXMiLCJfY29sb3JCeXRlcyIsIl9zZXREZWZhdWx0IiwiZXZlbnRTeXN0ZW0iLCJFdmVudFN5c3RlbUluc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJjbGFzc2lmaWNhdGlvblByaW1pdGl2ZSIsIkNsYXNzaWZpY2F0aW9uUHJpbWl0aXZlIiwiZ2VvbWV0cnlJbnN0YW5jZXMiLCJHZW9tZXRyeUluc3RhbmNlIiwiZ2VvbWV0cnkiLCJQb2x5Z29uR2VvbWV0cnkiLCJmcm9tUG9zaXRpb25zIiwidmVydGV4Rm9ybWF0IiwiUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UiLCJWRVJURVhfRk9STUFUIiwiZXh0cnVkZWRIZWlnaHQiLCJoZWlnaHQiLCJjbG9zZUJvdHRvbSIsImF0dHJpYnV0ZXMiLCJDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUiLCJmcm9tQ29sb3IiLCJzaG93IiwiU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUiLCJpZCIsImNsYXNzaWZpY2F0aW9uVHlwZSIsIkNsYXNzaWZpY2F0aW9uVHlwZSIsIkJPVEgiLCJvbk1vdXNlTW92ZSIsInBvc2l0aW9uIiwib2JqIiwiY29uc29sZSIsImxvZyIsImdldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGVzIiwib25Nb3VzZU1vdmVPdXQiLCJvbkxlZnRDbGljayJdLCJtYXBw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QUFqQjtBQUNBZCwyQkFBVy9CLEtBQVgsR0FBbUIsTUFBS2EsV0FBeEI7QUFDSCxhQUpEOztBQU1BLGlCQUFLUixhQUFMLElBQXNCVSxZQUFZZ0MsV0FBWixDQUF3QjdCLHVCQUF4QixFQUFpRCxVQUFDdUIsUUFBRCxFQUFjO0FBQ2pGLHVCQUFPLE1BQUtwQyxhQUFaLEtBQThCLFVBQTlCLElBQTRDLE1BQUtBLGFBQUwsQ0FBbUJvQyxRQUFuQixFQUE2QnZCLHVCQUE3QixDQUE1QztBQUNILGFBRnFCLENBQXRCOztBQUlBLG1CQUFPQSx1QkFBUDtBQUNIIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtFdmVudFN5c3RlbUluc3RhbmNlfSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHtkZWZpbmVkfSBmcm9tIFwiLi4vVXRpbC9Ob3JtYWxVdGlsc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBCdWlsZGluZ0hpZ2h0bGlnaHRCdWlsZGVyIHtcclxuXHJcbiAgICBzZXRQb3NpdGlvbnMocG9zaXRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbnM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29sb3IoY29sb3IpIHtcclxuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEhvdmVyQ29sb3IoaG92ZXJDb2xvcikge1xyXG4gICAgICAgIHRoaXMuX2hvdmVyQ29sb3IgPSBob3ZlckNvbG9yO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9uQ2xpY2soY2xpY2tDYWxsQmFjaykge1xyXG4gICAgICAgIHRoaXMuY2xpY2tDYWxsYmFjayA9IGNsaWNrQ2FsbEJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlld2VyKHZpZXdlcikge1xyXG4gICAgICAgIHRoaXMuX3ZpZXdlciA9IHZpZXdlcjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RGVmYXVsdCgpIHtcclxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5faG92ZXJDb2xvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5faG92ZXJDb2xvciA9IENlc2l1bS5Db2xvci5ZRUxMT1cud2l0aEFscGhhKDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hvdmVyQ29sb3JCeXRlcyA9IHRoaXMuX2hvdmVyQ29sb3IudG9CeXRlcygpO1xyXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLl9jb2xvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3IgPSBDZXNpdW0uQ29sb3IuWUVMTE9XLndpdGhBbHBoYSgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY29sb3JCeXRlcyA9IHRoaXMuX2NvbG9yLnRvQnl0ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZCgpIHtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBldmVudFN5c3RlbSA9IEV2ZW50U3lzdGVtSW5zdGFuY2UuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBsZXQgY2xhc3NpZmljYXRpb25QcmltaXRpdmUgPSBuZXcgQ2VzaXVtLkNsYXNzaWZpY2F0aW9uUHJpbWl0aXZlKHtcclxuICAgICAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogQ2VzaXVtLlBvbHlnb25HZW9tZXRyeS5mcm9tUG9zaXRpb25zKHtcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhGb3JtYXQ6IENlc2l1bS5QZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZS5WRVJURVhfRk9STUFULFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uczogdGhpcy5fcG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0cnVkZWRIZWlnaHQ6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IC01MCxcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZUJvdHRvbTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNvbG9yKHRoaXMuX2NvbG9yKSxcclxuICAgICAgICAgICAgICAgICAgICBzaG93OiBuZXcgQ2VzaXVtLlNob3dHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlKHRydWUpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaWQ6ICdib3gtMidcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZTogQ2VzaXVtLkNsYXNzaWZpY2F0aW9uVHlwZS5CT1RILy9DRVNJVU1fM0RfVElMRVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV2ZW50U3lzdGVtLm9uTW91c2VNb3ZlKGNsYXNzaWZpY2F0aW9uUHJpbWl0aXZlLCAocG9zaXRpb24sb2JqKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFvYmopIHJldHVybjsvL+aaguaXtui/h+a7pOaOiWRyYXdoZWxwZXLnmoTkuovku7ZcclxuICAgICAgICAgICAgY29uc29sZS5sb2coW1wibW92ZSBpblwiLHBvc2l0aW9uLG9ial0pXHJcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gY2xhc3NpZmljYXRpb25QcmltaXRpdmUuZ2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZXMoJ2JveC0yJyk7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuY29sb3IgPSB0aGlzLl9ob3ZlckNvbG9yQnl0ZXM7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZXZlbnRTeXN0ZW0ub25Nb3VzZU1vdmVPdXQoY2xhc3NpZmljYXRpb25QcmltaXRpdmUsIChwb3NpdGlvbixvYmopID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coW1wibW92ZSBvdXRcIixwb3NpdGlvbixvYmpdKVxyXG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IGNsYXNzaWZpY2F0aW9uUHJpbWl0aXZlLmdldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGVzKCdib3gtMicpO1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmNvbG9yID0gdGhpcy5fY29sb3JCeXRlcztcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmNsaWNrQ2FsbGJhY2sgJiYgZXZlbnRTeXN0ZW0ub25MZWZ0Q2xpY2soY2xhc3NpZmljYXRpb25QcmltaXRpdmUsIChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5jbGlja0NhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5jbGlja0NhbGxiYWNrKHBvc2l0aW9uLCBjbGFzc2lmaWNhdGlvblByaW1pdGl2ZSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGNsYXNzaWZpY2F0aW9uUHJpbWl0aXZlO1xyXG4gICAgfVxyXG5cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.cesium1_50Patch = undefined;\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\r\n * cesium 1.50 ， 加载模型时报错的问题\r\n */\nvar cesium1_50Patch = exports.cesium1_50Patch = function cesium1_50Patch() {\n    var fixGltf = function fixGltf(gltf) {\n        if (!gltf.extensionsUsed) {\n            return;\n        }\n\n        var v = gltf.extensionsUsed.indexOf('KHR_technique_webgl');\n        var t = gltf.extensionsRequired.indexOf('KHR_technique_webgl');\n        // 中招了。。\n        if (v !== -1) {\n            gltf.extensionsRequired.splice(t, 1, 'KHR_techniques_webgl');\n            gltf.extensionsUsed.splice(v, 1, 'KHR_techniques_webgl');\n            gltf.extensions = gltf.extensions || {};\n            gltf.extensions['KHR_techniques_webgl'] = {};\n            gltf.extensions['KHR_techniques_webgl'].programs = gltf.programs;\n            gltf.extensions['KHR_techniques_webgl'].shaders = gltf.shaders;\n            gltf.extensions['KHR_techniques_webgl'].techniques = gltf.techniques;\n            var techniques = gltf.extensions['KHR_techniques_webgl'].techniques;\n\n            gltf.materials.forEach(function (mat, index) {\n                gltf.materials[index].extensions['KHR_technique_webgl'].values = gltf.materials[index].values;\n                gltf.materials[index].extensions['KHR_techniques_webgl'] = gltf.materials[index].extensions['KHR_technique_webgl'];\n\n                var vtxfMaterialExtension = gltf.materials[index].extensions['KHR_techniques_webgl'];\n\n                for (var value in vtxfMaterialExtension.values) {\n                    var us = techniques[vtxfMaterialExtension.technique].uniforms;\n                    for (var key in us) {\n                        if (us[key] === value) {\n                            vtxfMaterialExtension.values[key] = vtxfMaterialExtension.values[value];\n                            delete vtxfMaterialExtension.values[value];\n                            break;\n                        }\n                    }\n                }\n                ;\n            });\n\n            techniques.forEach(function (t) {\n                for (var attribute in t.attributes) {\n                    var name = t.attributes[attribute];\n                    t.attributes[attribute] = t.parameters[name];\n                }\n                ;\n\n                for (var uniform in t.uniforms) {\n                    var name = t.uniforms[uniform];\n                    t.uniforms[uniform] = t.parameters[name];\n                }\n                ;\n            });\n        }\n    };\n\n    Object.defineProperties(Cesium.Model.prototype, {\n        _cachedGltf: {\n            set: function set(value) {\n                this._vtxf_cachedGltf = value;\n                if (this._vtxf_cachedGltf && this._vtxf_cachedGltf._gltf) {\n                    fixGltf(this._vtxf_cachedGltf._gltf);\n                }\n            },\n            get: function get() {\n                return this._vtxf_cachedGltf;\n            }\n        }\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvV2lkZ2V0cy9QYXRjaHMuanM/YmYyMiJdLCJuYW1lcyI6WyJDZXNpdW0iLCJjZXNpdW0xXzUwUGF0Y2giLCJmaXhHbHRmIiwiZ2x0ZiIsImV4dGVuc2lvbnNVc2VkIiwidiIsImluZGV4T2YiLCJ0IiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwic3BsaWNlIiwiZXh0ZW5zaW9ucyIsInByb2dyYW1zIiwic2hhZGVycyIsInRlY2huaXF1ZXMiLCJtYXRlcmlhbHMiLCJmb3JFYWNoIiwibWF0IiwiaW5kZXgiLCJ2YWx1ZXMiLCJ2dHhmTWF0ZXJpYWxFeHRlbnNpb24iLCJ2YWx1ZSIsInVzIiwidGVjaG5pcXVlIiwidW5pZm9ybXMiLCJrZXkiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVzIiwibmFtZSIsInBhcmFtZXRlcnMiLCJ1bmlmb3JtIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsIk1vZGVsIiwicHJvdG90eXBlIiwiX2NhY2hlZEdsdGYiLCJzZXQiLCJfdnR4Zl9jYWNoZWRHbHRmIiwiX2dsdGYiLCJnZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7SUFBWUEsTTs7OztBQUVaOzs7QUFHTyxJQUFNQyw0Q0FBa0IsU0FBbEJBLGVBQWtCLEdBQU07QUFDakMsUUFBSUMsVUFBVSxTQUFWQSxPQUFVLENBQVVDLElBQVYsRUFBZ0I7QUFDMUIsWUFBSSxDQUFDQSxLQUFLQyxjQUFWLEVBQTBCO0FBQ3RCO0FBQ0g7O0FBRUQsWUFBSUMsSUFBSUYsS0FBS0MsY0FBTCxDQUFvQkUsT0FBcEIsQ0FBNEIscUJBQTVCLENBQVI7QUFDQSxZQUFJQyxJQUFJSixLQUFLSyxrQkFBTCxDQUF3QkYsT0FBeEIsQ0FBZ0MscUJBQWhDLENBQVI7QUFDQTtBQUNBLFlBQUlELE1BQU0sQ0FBQyxDQUFYLEVBQWM7QUFDVkYsaUJBQUtLLGtCQUFMLENBQXdCQyxNQUF4QixDQUErQkYsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMsc0JBQXJD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QUNiLHVCQUFPLEtBQUtGLGdCQUFaO0FBQ0g7QUFUUTtBQUQrQixLQUFoRDtBQWFILENBbkVNIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuXHJcbi8qKlxyXG4gKiBjZXNpdW0gMS41MCDvvIwg5Yqg6L295qih5Z6L5pe25oql6ZSZ55qE6Zeu6aKYXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2VzaXVtMV81MFBhdGNoID0gKCkgPT4ge1xyXG4gICAgdmFyIGZpeEdsdGYgPSBmdW5jdGlvbiAoZ2x0Zikge1xyXG4gICAgICAgIGlmICghZ2x0Zi5leHRlbnNpb25zVXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdiA9IGdsdGYuZXh0ZW5zaW9uc1VzZWQuaW5kZXhPZignS0hSX3RlY2huaXF1ZV93ZWJnbCcpO1xyXG4gICAgICAgIHZhciB0ID0gZ2x0Zi5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZignS0hSX3RlY2huaXF1ZV93ZWJnbCcpO1xyXG4gICAgICAgIC8vIOS4reaLm+S6huOAguOAglxyXG4gICAgICAgIGlmICh2ICE9PSAtMSkge1xyXG4gICAgICAgICAgICBnbHRmLmV4dGVuc2lvbnNSZXF1aXJlZC5zcGxpY2UodCwgMSwgJ0tIUl90ZWNobmlxdWVzX3dlYmdsJyk7XHJcbiAgICAgICAgICAgIGdsdGYuZXh0ZW5zaW9uc1VzZWQuc3BsaWNlKHYsIDEsICdLSFJfdGVjaG5pcXVlc193ZWJnbCcpO1xyXG4gICAgICAgICAgICBnbHRmLmV4dGVuc2lvbnMgPSBnbHRmLmV4dGVuc2lvbnMgfHwge307XHJcbiAgICAgICAgICAgIGdsdGYuZXh0ZW5zaW9uc1snS0hSX3RlY2huaXF1ZXNfd2ViZ2wnXSA9IHt9O1xyXG4gICAgICAgICAgICBnbHRmLmV4dGVuc2lvbnNbJ0tIUl90ZWNobmlxdWVzX3dlYmdsJ10ucHJvZ3JhbXMgPSBnbHRmLnByb2dyYW1zO1xyXG4gICAgICAgICAgICBnbHRmLmV4dGVuc2lvbnNbJ0tIUl90ZWNobmlxdWVzX3dlYmdsJ10uc2hhZGVycyA9IGdsdGYuc2hhZGVycztcclxuICAgICAgICAgICAgZ2x0Zi5leHRlbnNpb25zWydLSFJfdGVjaG5pcXVlc193ZWJnbCddLnRlY2huaXF1ZXMgPSBnbHRmLnRlY2huaXF1ZXM7XHJcbiAgICAgICAgICAgIHZhciB0ZWNobmlxdWVzID0gZ2x0Zi5leHRlbnNpb25zWydLSFJfdGVjaG5pcXVlc193ZWJnbCddLnRlY2huaXF1ZXM7XHJcblxyXG4gICAgICAgICAgICBnbHRmLm1hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uIChtYXQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBnbHRmLm1hdGVyaWFsc1tpbmRleF0uZXh0ZW5zaW9uc1snS0hSX3RlY2huaXF1ZV93ZWJnbCddLnZhbHVlcyA9IGdsdGYubWF0ZXJpYWxzW2luZGV4XS52YWx1ZXM7XHJcbiAgICAgICAgICAgICAgICBnbHRmLm1hdGVyaWFsc1tpbmRleF0uZXh0ZW5zaW9uc1snS0hSX3RlY2huaXF1ZXNfd2ViZ2wnXSA9IGdsdGYubWF0ZXJpYWxzW2luZGV4XS5leHRlbnNpb25zWydLSFJfdGVjaG5pcXVlX3dlYmdsJ107XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHZ0eGZNYXRlcmlhbEV4dGVuc2lvbiA9IGdsdGYubWF0ZXJpYWxzW2luZGV4XS5leHRlbnNpb25zWydLSFJfdGVjaG5pcXVlc193ZWJnbCddO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHZhbHVlIGluIHZ0eGZNYXRlcmlhbEV4dGVuc2lvbi52YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXMgPSB0ZWNobmlxdWVzW3Z0eGZNYXRlcmlhbEV4dGVuc2lvbi50ZWNobmlxdWVdLnVuaWZvcm1zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNba2V5XSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZ0eGZNYXRlcmlhbEV4dGVuc2lvbi52YWx1ZXNba2V5XSA9IHZ0eGZNYXRlcmlhbEV4dGVuc2lvbi52YWx1ZXNbdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZ0eGZNYXRlcmlhbEV4dGVuc2lvbi52YWx1ZXNbdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGVjaG5pcXVlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gdC5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB0LmF0dHJpYnV0ZXNbYXR0cmlidXRlXTtcclxuICAgICAgICAgICAgICAgICAgICB0LmF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9IHQucGFyYW1ldGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB1bmlmb3JtIGluIHQudW5pZm9ybXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHQudW5pZm9ybXNbdW5pZm9ybV07XHJcbiAgICAgICAgICAgICAgICAgICAgdC51bmlmb3Jtc1t1bmlmb3JtXSA9IHQucGFyYW1ldGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENlc2l1bS5Nb2RlbC5wcm90b3R5cGUsIHtcclxuICAgICAgICBfY2FjaGVkR2x0Zjoge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdnR4Zl9jYWNoZWRHbHRmID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdnR4Zl9jYWNoZWRHbHRmICYmIHRoaXMuX3Z0eGZfY2FjaGVkR2x0Zi5fZ2x0Zikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeEdsdGYodGhpcy5fdnR4Zl9jYWNoZWRHbHRmLl9nbHRmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdnR4Zl9jYWNoZWRHbHRmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ChoiceHelper = ChoiceHelper;\n\nvar _Cesium = __webpack_require__(0);\n\nvar Cesium = _interopRequireWildcard(_Cesium);\n\nvar _index = __webpack_require__(1);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// export const ChoiceHelper =  factory(Cesium,DrawHelper);\n\n\n/**\r\n * @param {Object} config\r\n * @param {Object} config.viewer - Cesium.viewer对象\r\n * @param {Object} config.toolbar - toolbar,为空则不创建\r\n * @param {Element} config.toolbar.container - toolbar所在容器\r\n * @param {string[]} config.toolbar.buttons - 包括 'polygon', 'circle', 'extent' 代表多边形、圆形、矩形\r\n * @param {Object} config.dom - dom事件绑定模式\r\n * @param {Element} config.polygon - 绑定开始画polygon的事件\r\n * @param {Element} config.marker - 绑定开始画marker的事件\r\n * @param {Element} config.extent - 绑定开始画extent的事件\r\n * @param {Element} config.circle - 绑定开始画circle的事件\r\n * @param {Element} config.clear - 清空绘制事件\r\n * @param {Element} config.cancel - 结束绘制事件\r\n * @param {Array} config.callbacks - 选择回调，可配置多种选择回调\r\n * @param {function(Cesium.Entity):boolean} config.callbacks.choice[].filter - 过滤器，即选择器,确认为需要选择的对象，返回ture\r\n * @param {function(Cesium.Entity[])} config.callbacks.choice[].onChoice - 选择回调\r\n * @param {function(Cesium.Cartesian3)} config.callbacks.marker - marker创建回调\r\n * @param {function} config.callbacks.afterClick - 工具栏点击回调\r\n * {\r\n *     viewer: viewer对象,\r\n *     toolbar:{\r\n *         container: toolbar所在容器,\r\n *         buttons: [],//\r\n *     },\r\n *     dom:{//\r\n *             polygon: function | dom ,\r\n *             marker: function | dom ,\r\n *             extent: function | dom ,\r\n *             circle: function | dom ,\r\n *             clear : dom,\r\n *             cancel : dom\r\n *     },\r\n *     callbacks:{\r\n *          choice:[{\r\n *             filter: function\r\n *             onChoice: function\r\n *         }],\r\n *         marker: function,\r\n *         afterClick: function,\r\n *     }\r\n * }\r\n * @constructor\r\n */\n/*   if (typeof exports === 'object' && typeof module === 'object')\r\n       module.exports = factory(require('Cesium'), require('DrawHelper'));\r\n   else if (typeof define === 'function' && define.amd)\r\n       define('ChoiceHelper', [ 'Cesium', 'DrawHelper'], factory);\r\n   else {\r\n       root.ChoiceHelper = factory(root.Cesium, root.DrawHelper);\r\n   }*/\nfunction ChoiceHelper(config) {\n    this._cesiumViewer = config.viewer;\n    this.util = new Util(this._cesiumViewer);\n\n    this._scene = this._cesiumViewer.scene;\n    this._drawHelper = new _index.DrawHelper(this._cesiumViewer);\n    this._option = config;\n    this._afterClick = config.callbacks.afterClick;\n\n    this._primitives = [];\n    var me = this;\n\n    if (Cesium.defined(config.toolbar) && Cesium.defined(config.toolbar.container)) {\n        this._toolbarContainer = config.toolbar.container;\n\n        this._toolbar = this._drawHelper.addToolbar(this._toolbarContainer, {\n            buttons: config.toolbar.buttons,\n            clickCallback: function clickCallback(event) {\n                //移除之前绘制的\n                me._afterClick && me._afterClick();\n                me.util.getWithDefault(me._primitives, []).forEach(function (element, index) {\n                    me._scene.primitives.remove(element);\n                });\n            },\n            //点位选取策略配置\n            pickStrategy: pickStrategy\n        });\n    } else if (Cesium.defined(config.dom)) {\n        this._toolbar = this._drawHelper.addToolbar(document.body, { buttons: [] });\n        var toolbar = this._toolbar;\n        config.dom.polygon && function () {\n            var lastOnclick = config.dom.polygon.onclick;\n            config.dom.polygon.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingPolygon({\n                    callback: function callback(positions, self) {\n                        toolbar.executeListeners({ name: 'polygonCreated', positions: positions });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.polygon).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingPolygon({\n            //         callback: function (positions, self) {\n            //             toolbar.executeListeners({name: 'polygonCreated', positions: positions});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.polygon && function () {\n            var lastOnclick = config.dom.polyline.onclick;\n            config.dom.polyline.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingPolyline({\n                    callback: function callback(positions, self) {\n                        toolbar.executeListeners({ name: 'polylineCreated', positions: positions });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.polyline).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingPolyline({\n            //         callback: function (positions, self) {\n            //             toolbar.executeListeners({name: 'polylineCreated', positions: positions});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.marker && function () {\n            var lastOnclick = config.dom.marker.onclick;\n            config.dom.marker.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingMarker({\n                    callback: function callback(position, self) {\n                        toolbar.executeListeners({ name: 'markerCreated', position: position });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.marker).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingMarker({\n            //         callback: function (position, self) {\n            //             toolbar.executeListeners({name: 'markerCreated', position: position});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.extent && function () {\n            var lastOnclick = config.dom.extent.onclick;\n\n            config.dom.extent.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingExtent({\n                    callback: function callback(extent, self) {\n                        toolbar.executeListeners({ name: 'extentCreated', extent: extent });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.extent).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingExtent({\n            //         callback: function (extent, self) {\n            //             toolbar.executeListeners({name: 'extentCreated', extent: extent});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.circle && function () {\n            var lastOnclick = config.dom.circle.onclick;\n\n            config.dom.circle.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.startDrawingCircle({\n                    callback: function callback(center, radius, self) {\n                        toolbar.executeListeners({ name: 'circleCreated', center: center, radius: radius });\n                    },\n                    strategy: {\n                        pickStrategy: pickStrategy\n                    }\n                });\n            };\n            // $(config.dom.circle).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.startDrawingCircle({\n            //         callback: function (center, radius, self) {\n            //             toolbar.executeListeners({name: 'circleCreated', center: center, radius: radius});\n            //         },\n            //         strategy: {\n            //             pickStrategy: pickStrategy\n            //         }\n            //     });\n            // });\n        }();\n        config.dom.clear && function () {\n            var lastOnclick = config.dom.clear.onclick;\n\n            config.dom.clear.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n            };\n            // $(config.dom.clear).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //\n            // });\n        }();\n        config.dom.cancel && function () {\n            var lastOnclick = config.dom.cancel.onclick;\n\n            config.dom.cancel.onclick = function (e) {\n                lastOnclick && lastOnclick(e);\n                me._afterClick && me._afterClick();\n                me._drawHelper.stopDrawing();\n            };\n            // $(config.dom.cancel).on('click', function (e) {\n            //     me._afterClick && me._afterClick();\n            //     me._drawHelper.stopDrawing()\n            // });\n        }();\n    } else {\n        console.error(\"传入参数有误！\");\n        return;\n    }\n    this._eventInit();\n}\n\nvar pickStrategy = function pickStrategy(position, viewer) {\n    if (Cesium.defined(viewer.scene.pick(position)) && viewer.scene.pickPositionSupported) {\n        return viewer.scene.pickPosition(position);\n        // var fromCartesian = Cesium.Cartographic.fromCartesian(viewer.scene.pickPosition(position));\n        // return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    } else {\n        var fromCartesian = Cesium.Cartographic.fromCartesian(viewer.scene.camera.pickEllipsoid(position));\n        return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    }\n};\n\nChoiceHelper.prototype._optionReload = function () {};\n\nChoiceHelper.prototype._eventInit = function () {\n    var me = this;\n    me._toolbar.addListener('polygonCreated', function (event) {\n        var polygon = new _index.DrawHelper.PolygonPrimitive({\n            positions: event.positions,\n            material: Cesium.Material.fromType('Checkerboard')\n        });\n\n        console.log(event);\n        var LatLngPaths = [];\n\n        me.util.getWithDefault(event.positions, []).forEach(function (position, index) {\n            LatLngPaths.push(me.util.Cartesian3ToLatLng(position));\n        });\n\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var latlng = Cesium.Cartographic.fromCartesian(entity.position.getValue(0));\n                if (me.util._isInPolygon(latlng, LatLngPaths)) {\n                    parseEntities.push(entity);\n                }\n            });\n            return parseEntities;\n        });\n    });\n    // circle.center :  Cartesian3\n    // circle.ellipsoid._maximumRadius : number\n    // circle.ellipsoid._minimumRadius : number\n    me._toolbar.addListener('circleCreated', function (event) {\n\n        // var r = event.radius\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var latlng = Cesium.Cartographic.fromCartesian(entity.position.getValue(0));\n                var groundPosition = Cesium.Cartesian3.fromRadians(latlng.longitude, latlng.latitude, 0.0);\n                if (Cesium.Cartesian3.distance(me.util.getCesiumHightZero(event.center), groundPosition) <= event.radius) {\n                    parseEntities.push(entity);\n                }\n            });\n\n            return parseEntities;\n        });\n    });\n\n    //Cesium.Rectangle.subsample(e.extent)\n    me._toolbar.addListener('extentCreated', function (e) {\n        var extent = e.extent;\n\n        me._filterExecuter(function (entities) {\n            var parseEntities = [];\n\n            me.util.getWithDefault(entities, []).forEach(function (entity, index) {\n                var cartesian3ToLatLng = me.util.Cartesian3ToLatLng(entity.position.getValue(0));\n                if (extent.west <= cartesian3ToLatLng.longitude && extent.east >= cartesian3ToLatLng.longitude && extent.south <= cartesian3ToLatLng.latitude && extent.north >= cartesian3ToLatLng.latitude) {\n                    parseEntities.push(entity);\n                }\n            });\n\n            return parseEntities;\n        });\n    });\n\n    me._toolbar.addListener('markerCreated', function (event) {\n        me._option.callbacks.marker(event.position);\n        // loggingMessage('Marker created at ' + event.position.toString());\n        // create one common billboard collection for all billboards\n        // var b = new Cesium.BillboardCollection();\n        // viewer.scene.primitives.add(b);\n        // var billboard = b.add({\n        //     show : true,\n        //     position : event.position,\n        //     pixelOffset : new Cesium.Cartesian2(0, 0),\n        //     eyeOffset : new Cesium.Cartesian3(0.0, 0.0, 0.0),\n        //     horizontalOrigin : Cesium.HorizontalOrigin.CENTER,\n        //     verticalOrigin : Cesium.VerticalOrigin.CENTER,\n        //     scale : 1.0,\n        //     image: './img/glyphicons_242_google_maps.png',\n        //     color : new Cesium.Color(1.0, 1.0, 1.0, 1.0)\n        // });\n        // billboard.setEditable();\n    });\n};\n\nChoiceHelper.prototype.setOption = function (option) {};\n\nChoiceHelper.prototype._callBack = function () {};\n\nChoiceHelper.prototype._filterExecuter = function (containsCallback) {\n    var me = this;\n    //选出在圈内的entities\n    var containEntities = containsCallback(me._cesiumViewer.entities.values);\n\n    me.util.getWithDefault(me._option.callbacks.choice, []).forEach(function (callback, index) {\n        var entities = [];\n        //过滤出需要的entity\n        me.util.getWithDefault(containEntities, []).forEach(function (entity, index2) {\n            if (callback.filter(entity)) entities.push(entity);\n        });\n        //callback\n        callback.onChoice(entities);\n    });\n};\n\nfunction Util(viewer) {\n    this._viewer = viewer;\n    this._ellipsoid = this._viewer.scene.globe._ellipsoid;\n}\n\n/**\r\n * 将Cartesian3转为经纬度\r\n * @param cartesian3\r\n * @returns {{height:number,latitude:number,longitude:number}}\r\n */\nUtil.prototype.Cartesian3ToLatLng = function (cartesian3) {\n    // return  Cesium.Cartographic.fromCartesian(cartesian3);\n    return this._ellipsoid.cartesianToCartographic(cartesian3);\n};\n/**\r\n * 但是Cesium不支持此类\r\n * @param cartesian3\r\n * @return {{height: *, latitude: *, longitude: *}}\r\n * @constructor\r\n */\nUtil.prototype.Cartesian3ToDegrees = function (cartesian3) {\n    var cartographic = this._ellipsoid.cartesianToCartographic(cartesian3);\n    var degree = {\n        height: cartographic.height,\n        latitude: Cesium.Math.toDegrees(cartographic.latitude),\n        longitude: Cesium.Math.toDegrees(cartographic.longitude)\n    };\n    return degree;\n};\n\nUtil.prototype.getWithDefault = function (element, defaultElement) {\n    return element ? element : defaultElement;\n};\n\n/**\r\n * 获取当前点位的近地点位\r\n * @param {Cesium.Cartesian3} cartesian3\r\n * @return {Cesium.Cartesian3}\r\n */\nUtil.prototype.getCesiumHightZero = function (cartesian3) {\n    var fromCartesian = Cesium.Cartographic.fromCartesian(cartesian3);\n    return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n};\n\n/**\r\n * 修正当前点位的高度\r\n * @param {Cesium.Cartesian3} cartesian3\r\n * @param {number} heightPlus\r\n * @return {Cesium.Cartesian3}\r\n */\nUtil.prototype.formatHetightPlusNumber = function (cartesian3, heightPlus) {\n    var fromCartesian = Cesium.Cartographic.fromCartesian(cartesian3);\n    return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, fromCartesian.height + heightPlus);\n};\n\n/**\r\n *\r\n * @param position\r\n * @param paths\r\n */\nUtil.prototype._isInPolygon = function (position, paths) {\n    var x = position.longitude;\n    var y = position.latitude;\n\n    var isum,\n        icount,\n        index = 0;\n    var dLon1 = 0,\n        dLon2 = 0,\n        dLat1 = 0,\n        dLat2 = 0,\n        dLon;\n\n    if (paths.size < 3) {\n        return false;\n    }\n\n    isum = 0;\n    icount = paths.length;\n\n    for (index = 0; index < icount - 1; index++) {\n        if (index === icount - 1) {\n            dLon1 = paths[index].longitude;\n            dLat1 = paths[index].latitude;\n            dLon2 = paths[0].longitude;\n            dLat2 = paths[0].latitude;\n        } else {\n            dLon1 = paths[index].longitude;\n            dLat1 = paths[index].latitude;\n            dLon2 = paths[index + 1].longitude;\n            dLat2 = paths[index + 1].latitude;\n        }\n\n        if (y >= dLat1 && y < dLat2 || y >= dLat2 && y < dLat1) {\n            if (Math.abs(dLat1 - dLat2) > 0) {\n                dLon = dLon1 - (dLon1 - dLon2) * (dLat1 - y) / (dLat1 - dLat2);\n                if (dLon < x) isum++;\n            }\n        }\n    }\n\n    return isum % 2 !== 0;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9DaG9pY2VIZWxwZXIuanM/NTJiNiJdLCJuYW1lcyI6WyJDaG9pY2VIZWxwZXIiLCJDZXNpdW0iLCJjb25maWciLCJfY2VzaXVtVmlld2VyIiwidmlld2VyIiwidXRpbCIsIlV0aWwiLCJfc2NlbmUiLCJzY2VuZSIsIl9kcmF3SGVscGVyIiwiRHJhd0hlbHBlciIsIl9vcHRpb24iLCJfYWZ0ZXJDbGljayIsImNhbGxiYWNrcyIsImFmdGVyQ2xpY2siLCJfcHJpbWl0aXZlcyIsIm1lIiwiZGVmaW5lZCIsInRvb2xiYXIiLCJjb250YWluZXIiLCJfdG9vbGJhckNvbnRhaW5lciIsIl90b29sYmFyIiwiYWRkVG9vbGJhciIsImJ1dHRvbnMiLCJjbGlja0NhbGxiYWNrIiwiZXZlbnQiLCJnZXRXaXRoRGVmYXVsdCIsImZvckVhY2giLCJlbGVtZW50IiwiaW5kZXgiLCJwcmltaXRpdmVzIiwicmVtb3ZlIiwicGlja1N0cmF0ZWd5IiwiZG9tIiwiZG9jdW1lbnQiLCJib2R5IiwicG9seWdvbiIsImxhc3RPbmNsaWNrIiwib25jbGljayIsImUiLCJzdGFydERyYXdpbmdQb2x5Z29uIiwiY2FsbGJhY2siLCJwb3NpdGlvbnMiLCJzZWxmIiwiZXhlY3V0ZUxpc3RlbmVycyIsIm5hbWUiLCJzdHJhdGVneSIsInBvbHlsaW5lIiwic3RhcnREcmF3aW5nUG9seWxpbmUiLCJtYXJrZXIiLCJzdGFydERyYXdpbmdNYXJrZXIiLCJwb3NpdGlvbiIsImV4dGVudCIsInN0YXJ0RHJhd2luZ0V4dGVudCIsImNpcmNsZSIsInN0YXJ0RHJhd2luZ0NpcmNsZSIsImNlbnRlciIsInJhZGl1cyIsImNsZWFyIiwiY2FuY2VsIiwic3RvcERyYXdpbmciLCJjb25zb2xlIiwiZXJyb3IiLCJfZXZlbnRJbml0IiwicGljayIsInBpY2tQb3NpdGlvblN1cHBvcnRlZCIsInBpY2tQb3NpdGlvbiIsImZyb21DYXJ0ZXNpYW4iLCJDYXJ0b2dyYXBoaWMiLCJjYW1lcmEiLCJwaWNrRWxsaXBzb2lkIiwiQ2FydGVzaWFuMyIsImZyb21SYWRpYW5zIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJwcm90b3R5cGUiLCJfb3B0aW9uUmVsb2FkIiwiYWRkTGlzdGVuZXIiLCJQb2x5Z29uUHJpbWl0aXZlIiwibWF0ZXJpYWwiLCJNYXRlcmlhbCIsImZyb21UeXBlIiwibG9nIiwiTGF0TG5nUGF0aHMiLCJwdXNoIiwiQ2FydGVzaWFuM1RvTGF0TG5nIiwiX2ZpbHRlckV4ZWN1dGVyIiwiZW50aXRpZXMiLCJwYXJzZUVudGl0aWVzIiwiZW50aXR5IiwibGF0bG5nIiwiZ2V0VmFsdWUiLCJfaXNJblBvbHlnb24iLCJncm91bmRQb3NpdGlvbiIsImRpc3RhbmNlIiwiZ2V0Q2VzaXVtSGlnaHRaZXJvIiwiY2FydGVzaWFuM1RvTGF0TG5nIiwid2VzdCIsImVhc3QiLCJzb3V0aCIsIm5vcnRoIiwic2V0T3B0aW9uIiwib3B0aW9uIiwiX2NhbGxCYWNrIiwiY29udGFpbnNDYWxsYmFjayIsImNvbnRhaW5FbnRpdGllcyIsInZhbHVlcyIsImNob2ljZSIsImluZGV4MiIsImZpbHRlciIsIm9uQ2hvaWNlIiwiX3ZpZXdlciIsIl9lbGxpcHNvaWQiLCJnbG9iZSIsImNhcnRlc2lhbjMiLCJjYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyIsIkNhcnRlc2lhbjNUb0RlZ3JlZXMiLCJjYXJ0b2dyYXBoaWMiLCJkZWdyZWUiLCJoZWlnaHQiLCJNYXRoIiwidG9EZWdyZWVzIiwiZGVmYXVsdEVsZW1lbnQiLCJmb3JtYXRIZXRpZ2h0UGx1c051bWJlciIsImhlaWdodFBsdXMiLCJwYXRocyIsIngiLCJ5IiwiaXN1bSIsImljb3VudCIsImRMb24xIiwiZExvbjIiLCJkTGF0MSIsImRMYXQyIiwiZExvbiIsInNpemUiLCJsZW5ndGgiLCJhYnMiXSwibWFwcGluZ3MiOiI7Ozs7O1FBd0RnQkEsWSxHQUFBQSxZOztBQWpEaEI7O0lBQVlDLE07O0FBQ1o7Ozs7QUFFQTs7O0FBR0E7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QUVEUCxXQUFPLENBQVA7QUFDQUMsYUFBU0osTUFBTVcsTUFBZjs7QUFFQSxTQUFLM0csUUFBUSxDQUFiLEVBQWdCQSxRQUFRb0csU0FBUyxDQUFqQyxFQUFvQ3BHLE9BQXBDLEVBQTZDO0FBQ3pDLFlBQUlBLFVBQVVvRyxTQUFTLENBQXZCLEVBQTBCO0FBQ3RCQyxvQkFBUUwsTUFBTWhHLEtBQU4sRUFBYTRDLFNBQXJCO0FBQ0EyRCxvQkFBUVAsTUFBTWhHLEtBQU4sRUFBYTZDLFFBQXJCO0FBQ0F5RCxvQkFBUU4sTUFBTSxDQUFOLEVBQVNwRCxTQUFqQjtBQUNBNEQsb0JBQVFSLE1BQU0sQ0FBTixFQUFTbkQsUUFBakI7QUFDSCxTQUxELE1BTUs7QUFDRHdELG9CQUFRTCxNQUFNaEcsS0FBTixFQUFhNEMsU0FBckI7QUFDQTJELG9CQUFRUCxNQUFNaEcsS0FBTixFQUFhNkMsUUFBckI7QUFDQXlELG9CQUFRTixNQUFNaEcsUUFBUSxDQUFkLEVBQWlCNEMsU0FBekI7QUFDQTRELG9CQUFRUixNQUFNaEcsUUFBUSxDQUFkLEVBQWlCNkMsUUFBekI7QUFDSDs7QUFFRCxZQUFNcUQsS0FBS0ssS0FBTixJQUFpQkwsSUFBSU0sS0FBdEIsSUFBbUNOLEtBQUtNLEtBQU4sSUFBaUJOLElBQUlLLEtBQTNELEVBQW9FO0FBQ2hFLGdCQUFJWixLQUFLaUIsR0FBTCxDQUFTTCxRQUFRQyxLQUFqQixJQUEwQixDQUE5QixFQUFpQztBQUM3QkMsdUJBQU9KLFFBQVMsQ0FBQ0EsUUFBUUMsS0FBVCxLQUFtQkMsUUFBUUwsQ0FBM0IsQ0FBRCxJQUFtQ0ssUUFBUUMsS0FBM0MsQ0FBZjtBQUNBLG9CQUFJQyxPQUFPUixDQUFYLEVBQ0lFO0FBQ1A7QUFDSjtBQUNKOztBQUVELFdBQVFBLE9BQU8sQ0FBUixLQUFlLENBQXRCO0FBQ0gsQ0F0Q0QiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXHJcbiAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnQ2VzaXVtJyksIHJlcXVpcmUoJ0RyYXdIZWxwZXInKSk7XHJcbiAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcclxuICAgICAgIGRlZmluZSgnQ2hvaWNlSGVscGVyJywgWyAnQ2VzaXVtJywgJ0RyYXdIZWxwZXInXSwgZmFjdG9yeSk7XHJcbiAgIGVsc2Uge1xyXG4gICAgICAgcm9vdC5DaG9pY2VIZWxwZXIgPSBmYWN0b3J5KHJvb3QuQ2VzaXVtLCByb290LkRyYXdIZWxwZXIpO1xyXG4gICB9Ki9cclxuaW1wb3J0ICogYXMgQ2VzaXVtIGZyb20gXCJDZXNpdW1cIjtcclxuaW1wb3J0IHtEcmF3SGVscGVyfSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IENob2ljZUhlbHBlciA9ICBmYWN0b3J5KENlc2l1bSxEcmF3SGVscGVyKTtcclxuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnLnZpZXdlciAtIENlc2l1bS52aWV3ZXLlr7nosaFcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy50b29sYmFyIC0gdG9vbGJhcizkuLrnqbrliJnkuI3liJvlu7pcclxuICogQHBhcmFtIHtFbGVtZW50fSBjb25maWcudG9vbGJhci5jb250YWluZXIgLSB0b29sYmFy5omA5Zyo5a655ZmoXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNvbmZpZy50b29sYmFyLmJ1dHRvbnMgLSDljIXmi6wgJ3BvbHlnb24nLCAnY2lyY2xlJywgJ2V4dGVudCcg5Luj6KGo5aSa6L655b2i44CB5ZyG5b2i44CB55+p5b2iXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuZG9tIC0gZG9t5LqL5Lu257uR5a6a5qih5byPXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLnBvbHlnb24gLSDnu5HlrprlvIDlp4vnlLtwb2x5Z29u55qE5LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLm1hcmtlciAtIOe7keWumuW8gOWni+eUu21hcmtlcueahOS6i+S7tlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbmZpZy5leHRlbnQgLSDnu5HlrprlvIDlp4vnlLtleHRlbnTnmoTkuovku7ZcclxuICogQHBhcmFtIHtFbGVtZW50fSBjb25maWcuY2lyY2xlIC0g57uR5a6a5byA5aeL55S7Y2lyY2xl55qE5LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLmNsZWFyIC0g5riF56m657uY5Yi25LqL5Lu2XHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29uZmlnLmNhbmNlbCAtIOe7k+adn+e7mOWItuS6i+S7tlxyXG4gKiBAcGFyYW0ge0FycmF5fSBjb25maWcuY2FsbGJhY2tzIC0g6YCJ5oup5Zue6LCD77yM5Y+v6YWN572u5aSa56eN6YCJ5oup5Zue6LCDXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQ2VzaXVtLkVudGl0eSk6Ym9vbGVhbn0gY29uZmlnLmNhbGxiYWNrcy5jaG9pY2VbXS5maWx0ZXIgLSDov4fmu6TlmajvvIzljbPpgInmi6nlmags56Gu6K6k5Li66ZyA6KaB6YCJ5oup55qE5a+56LGh77yM6L+U5ZuedHVyZVxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKENlc2l1bS5FbnRpdHlbXSl9IGNvbmZpZy5jYWxsYmFja3MuY2hvaWNlW10ub25DaG9pY2UgLSDpgInmi6nlm57osINcclxuICogQHBhcmFtIHtmdW5jdGlvbihDZXNpdW0uQ2FydGVzaWFuMyl9IGNvbmZpZy5jYWxsYmFja3MubWFya2VyIC0gbWFya2Vy5Yib5bu65Zue6LCDXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbmZpZy5jYWxsYmFja3MuYWZ0ZXJDbGljayAtIOW3peWFt+agj+eCueWHu+Wbnuiwg1xyXG4gKiB7XHJcbiAqICAgICB2aWV3ZXI6IHZpZXdlcuWvueixoSxcclxuICogICAgIHRvb2xiYXI6e1xyXG4gKiAgICAgICAgIGNvbnRhaW5lcjogdG9vbGJhcuaJgOWcqOWuueWZqCxcclxuICogICAgICAgICBidXR0b25zOiBbXSwvL1xyXG4gKiAgICAgfSxcclxuICogICAgIGRvbTp7Ly9cclxuICogICAgICAgICAgICAgcG9seWdvbjogZnVuY3Rpb24gfCBkb20gLFxyXG4gKiAgICAgICAgICAgICBtYXJrZXI6IGZ1bmN0aW9uIHwgZG9tICxcclxuICogICAgICAgICAgICAgZXh0ZW50OiBmdW5jdGlvbiB8IGRvbSAsXHJcbiAqICAgICAgICAgICAgIGNpcmNsZTogZnVuY3Rpb24gfCBkb20gLFxyXG4gKiAgICAgICAgICAgICBjbGVhciA6IGRvbSxcclxuICogICAgICAgICAgICAgY2FuY2VsIDogZG9tXHJcbiAqICAgICB9LFxyXG4gKiAgICAgY2FsbGJhY2tzOntcclxuICogICAgICAgICAgY2hvaWNlOlt7XHJcbiAqICAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb25cclxuICogICAgICAgICAgICAgb25DaG9pY2U6IGZ1bmN0aW9uXHJcbiAqICAgICAgICAgfV0sXHJcbiAqICAgICAgICAgbWFya2VyOiBmdW5jdGlvbixcclxuICogICAgICAgICBhZnRlckNsaWNrOiBmdW5jdGlvbixcclxuICogICAgIH1cclxuICogfVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VIZWxwZXIoY29uZmlnKSB7XHJcbiAgICB0aGlzLl9jZXNpdW1WaWV3ZXIgPSBjb25maWcudmlld2VyO1xyXG4gICAgdGhpcy51dGlsID0gbmV3IFV0aWwodGhpcy5fY2VzaXVtVmlld2VyKTtcclxuXHJcbiAgICB0aGlzLl9zY2VuZSA9IHRoaXMuX2Nlc2l1bVZpZXdlci5zY2VuZTtcclxuICAgIHRoaXMuX2RyYXdIZWxwZXIgPSBuZXcgRHJhd0hlbHBlcih0aGlzLl9jZXNpdW1WaWV3ZXIpO1xyXG4gICAgdGhpcy5fb3B0aW9uID0gY29uZmlnO1xyXG4gICAgdGhpcy5fYWZ0ZXJDbGljayA9IGNvbmZpZy5jYWxsYmFja3MuYWZ0ZXJDbGljaztcclxuXHJcbiAgICB0aGlzLl9wcmltaXRpdmVzID0gW107XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG5cclxuICAgIGlmIChDZXNpdW0uZGVmaW5lZChjb25maWcudG9vbGJhcikgJiYgQ2VzaXVtLmRlZmluZWQoY29uZmlnLnRvb2xiYXIuY29udGFpbmVyKSkge1xyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXJDb250YWluZXIgPSBjb25maWcudG9vbGJhci5jb250YWluZXI7XHJcblxyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXIgPSB0aGlzLl9kcmF3SGVscGVyLmFkZFRvb2xiYXIodGhpcy5fdG9vbGJhckNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICBidXR0b25zOiBjb25maWcudG9vbGJhci5idXR0b25zLFxyXG4gICAgICAgICAgICBjbGlja0NhbGxiYWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8v56e76Zmk5LmL5YmN57uY5Yi255qEXHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChtZS5fcHJpbWl0aXZlcywgW10pLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWUuX3NjZW5lLnByaW1pdGl2ZXMucmVtb3ZlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy/ngrnkvY3pgInlj5bnrZbnlaXphY3nva5cclxuICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChDZXNpdW0uZGVmaW5lZChjb25maWcuZG9tKSkge1xyXG4gICAgICAgIHRoaXMuX3Rvb2xiYXIgPSB0aGlzLl9kcmF3SGVscGVyLmFkZFRvb2xiYXIoZG9jdW1lbnQuYm9keSwge2J1dHRvbnM6IFtdfSk7XHJcbiAgICAgICAgdmFyIHRvb2xiYXIgPSB0aGlzLl90b29sYmFyO1xyXG4gICAgICAgIGNvbmZpZy5kb20ucG9seWdvbiAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20ucG9seWdvbi5vbmNsaWNrO1xyXG4gICAgICAgICAgICBjb25maWcuZG9tLnBvbHlnb24ub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0T25jbGljayAmJiBsYXN0T25jbGljayhlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nUG9seWdvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMsIHNlbGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAncG9seWdvbkNyZWF0ZWQnLCBwb3NpdGlvbnM6IHBvc2l0aW9uc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKGNvbmZpZy5kb20ucG9seWdvbikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdQb2x5Z29uKHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHBvc2l0aW9ucywgc2VsZikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0b29sYmFyLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdwb2x5Z29uQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gICAgICAgICBzdHJhdGVneToge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IHBpY2tTdHJhdGVneVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9KCk7XHJcbiAgICAgICAgY29uZmlnLmRvbS5wb2x5Z29uICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5wb2x5bGluZS5vbmNsaWNrO1xyXG4gICAgICAgICAgICBjb25maWcuZG9tLnBvbHlsaW5lLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nUG9seWxpbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb25zLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ3BvbHlsaW5lQ3JlYXRlZCcsIHBvc2l0aW9uczogcG9zaXRpb25zfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IHBpY2tTdHJhdGVneVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICQoY29uZmlnLmRvbS5wb2x5bGluZSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdQb2x5bGluZSh7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMsIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAncG9seWxpbmVDcmVhdGVkJywgcG9zaXRpb25zOiBwb3NpdGlvbnN9KTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH0oKTtcclxuICAgICAgICBjb25maWcuZG9tLm1hcmtlciAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20ubWFya2VyLm9uY2xpY2s7XHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20ubWFya2VyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nTWFya2VyKHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHBvc2l0aW9uLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ21hcmtlckNyZWF0ZWQnLCBwb3NpdGlvbjogcG9zaXRpb259KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLm1hcmtlcikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdNYXJrZXIoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocG9zaXRpb24sIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnbWFya2VyQ3JlYXRlZCcsIHBvc2l0aW9uOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uZXh0ZW50ICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5leHRlbnQub25jbGljaztcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20uZXh0ZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nRXh0ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGV4dGVudCwgc2VsZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdleHRlbnRDcmVhdGVkJywgZXh0ZW50OiBleHRlbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLmV4dGVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdFeHRlbnQoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZXh0ZW50LCBzZWxmKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2V4dGVudENyZWF0ZWQnLCBleHRlbnQ6IGV4dGVudH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uY2lyY2xlICYmIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RPbmNsaWNrID0gY29uZmlnLmRvbS5jaXJjbGUub25jbGljaztcclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5kb20uY2lyY2xlLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2RyYXdIZWxwZXIuc3RhcnREcmF3aW5nQ2lyY2xlKHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNlbnRlciwgcmFkaXVzLCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2NpcmNsZUNyZWF0ZWQnLCBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tTdHJhdGVneTogcGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJChjb25maWcuZG9tLmNpcmNsZSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vICAgICBtZS5fZHJhd0hlbHBlci5zdGFydERyYXdpbmdDaXJjbGUoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY2VudGVyLCByYWRpdXMsIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9vbGJhci5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnY2lyY2xlQ3JlYXRlZCcsIGNlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1c30pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBwaWNrU3RyYXRlZ3lcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgICAgIGNvbmZpZy5kb20uY2xlYXIgJiYgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdE9uY2xpY2sgPSBjb25maWcuZG9tLmNsZWFyLm9uY2xpY2s7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuZG9tLmNsZWFyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE9uY2xpY2sgJiYgbGFzdE9uY2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5fYWZ0ZXJDbGljayAmJiBtZS5fYWZ0ZXJDbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICQoY29uZmlnLmRvbS5jbGVhcikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9hZnRlckNsaWNrICYmIG1lLl9hZnRlckNsaWNrKCk7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH0oKTtcclxuICAgICAgICBjb25maWcuZG9tLmNhbmNlbCAmJiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0T25jbGljayA9IGNvbmZpZy5kb20uY2FuY2VsLm9uY2xpY2s7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuZG9tLmNhbmNlbC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RPbmNsaWNrICYmIGxhc3RPbmNsaWNrKGUpO1xyXG4gICAgICAgICAgICAgICAgbWUuX2FmdGVyQ2xpY2sgJiYgbWUuX2FmdGVyQ2xpY2soKTtcclxuICAgICAgICAgICAgICAgIG1lLl9kcmF3SGVscGVyLnN0b3BEcmF3aW5nKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKGNvbmZpZy5kb20uY2FuY2VsKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbWUuX2FmdGVyQ2xpY2sgJiYgbWUuX2FmdGVyQ2xpY2soKTtcclxuICAgICAgICAgICAgLy8gICAgIG1lLl9kcmF3SGVscGVyLnN0b3BEcmF3aW5nKClcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi5Lyg5YWl5Y+C5pWw5pyJ6K+v77yBXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2V2ZW50SW5pdCgpO1xyXG59XHJcblxyXG52YXIgcGlja1N0cmF0ZWd5ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2aWV3ZXIpIHtcclxuICAgIGlmIChDZXNpdW0uZGVmaW5lZCh2aWV3ZXIuc2NlbmUucGljayhwb3NpdGlvbikpICYmIHZpZXdlci5zY2VuZS5waWNrUG9zaXRpb25TdXBwb3J0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdmlld2VyLnNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgLy8gdmFyIGZyb21DYXJ0ZXNpYW4gPSBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4odmlld2VyLnNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgICAgIC8vIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmcm9tQ2FydGVzaWFuID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKHZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbikpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLl9vcHRpb25SZWxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG59XHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLl9ldmVudEluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgbWUuX3Rvb2xiYXIuYWRkTGlzdGVuZXIoJ3BvbHlnb25DcmVhdGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgRHJhd0hlbHBlci5Qb2x5Z29uUHJpbWl0aXZlKHtcclxuICAgICAgICAgICAgcG9zaXRpb25zOiBldmVudC5wb3NpdGlvbnMsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uTWF0ZXJpYWwuZnJvbVR5cGUoJ0NoZWNrZXJib2FyZCcpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KVxyXG4gICAgICAgIHZhciBMYXRMbmdQYXRocyA9IFtdO1xyXG5cclxuICAgICAgICBtZS51dGlsLmdldFdpdGhEZWZhdWx0KGV2ZW50LnBvc2l0aW9ucywgW10pLmZvckVhY2goZnVuY3Rpb24gKHBvc2l0aW9uLCBpbmRleCkge1xyXG4gICAgICAgICAgICBMYXRMbmdQYXRocy5wdXNoKG1lLnV0aWwuQ2FydGVzaWFuM1RvTGF0TG5nKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBtZS5fZmlsdGVyRXhlY3V0ZXIoZnVuY3Rpb24gKGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZUVudGl0aWVzID0gW107XHJcbiAgICAgICAgICAgIG1lLnV0aWwuZ2V0V2l0aERlZmF1bHQoZW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGVudGl0eS5wb3NpdGlvbi5nZXRWYWx1ZSgwKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWUudXRpbC5faXNJblBvbHlnb24obGF0bG5nLCBMYXRMbmdQYXRocykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZUVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVudGl0aWVzO1xyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8gY2lyY2xlLmNlbnRlciA6ICBDYXJ0ZXNpYW4zXHJcbiAgICAvLyBjaXJjbGUuZWxsaXBzb2lkLl9tYXhpbXVtUmFkaXVzIDogbnVtYmVyXHJcbiAgICAvLyBjaXJjbGUuZWxsaXBzb2lkLl9taW5pbXVtUmFkaXVzIDogbnVtYmVyXHJcbiAgICBtZS5fdG9vbGJhci5hZGRMaXN0ZW5lcignY2lyY2xlQ3JlYXRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICAvLyB2YXIgciA9IGV2ZW50LnJhZGl1c1xyXG4gICAgICAgIG1lLl9maWx0ZXJFeGVjdXRlcihmdW5jdGlvbiAoZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdmFyIHBhcnNlRW50aXRpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIG1lLnV0aWwuZ2V0V2l0aERlZmF1bHQoZW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGVudGl0eS5wb3NpdGlvbi5nZXRWYWx1ZSgwKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdW5kUG9zaXRpb24gPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhsYXRsbmcubG9uZ2l0dWRlLCBsYXRsbmcubGF0aXR1ZGUsIDAuMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UobWUudXRpbC5nZXRDZXNpdW1IaWdodFplcm8oZXZlbnQuY2VudGVyKSwgZ3JvdW5kUG9zaXRpb24pIDw9IGV2ZW50LnJhZGl1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW50aXRpZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0Nlc2l1bS5SZWN0YW5nbGUuc3Vic2FtcGxlKGUuZXh0ZW50KVxyXG4gICAgbWUuX3Rvb2xiYXIuYWRkTGlzdGVuZXIoJ2V4dGVudENyZWF0ZWQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBleHRlbnQgPSBlLmV4dGVudDtcclxuXHJcbiAgICAgICAgbWUuX2ZpbHRlckV4ZWN1dGVyKGZ1bmN0aW9uIChlbnRpdGllcykge1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VFbnRpdGllcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChlbnRpdGllcywgW10pLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4zVG9MYXRMbmcgPSBtZS51dGlsLkNhcnRlc2lhbjNUb0xhdExuZyhlbnRpdHkucG9zaXRpb24uZ2V0VmFsdWUoMCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVudC53ZXN0IDw9IGNhcnRlc2lhbjNUb0xhdExuZy5sb25naXR1ZGUgJiYgZXh0ZW50LmVhc3QgPj0gY2FydGVzaWFuM1RvTGF0TG5nLmxvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGV4dGVudC5zb3V0aCA8PSBjYXJ0ZXNpYW4zVG9MYXRMbmcubGF0aXR1ZGUgJiYgZXh0ZW50Lm5vcnRoID49IGNhcnRlc2lhbjNUb0xhdExuZy5sYXRpdHVkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW50aXRpZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZS5fdG9vbGJhci5hZGRMaXN0ZW5lcignbWFya2VyQ3JlYXRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIG1lLl9vcHRpb24uY2FsbGJhY2tzLm1hcmtlcihldmVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgLy8gbG9nZ2luZ01lc3NhZ2UoJ01hcmtlciBjcmVhdGVkIGF0ICcgKyBldmVudC5wb3NpdGlvbi50b1N0cmluZygpKTtcclxuICAgICAgICAvLyBjcmVhdGUgb25lIGNvbW1vbiBiaWxsYm9hcmQgY29sbGVjdGlvbiBmb3IgYWxsIGJpbGxib2FyZHNcclxuICAgICAgICAvLyB2YXIgYiA9IG5ldyBDZXNpdW0uQmlsbGJvYXJkQ29sbGVjdGlvbigpO1xyXG4gICAgICAgIC8vIHZpZXdlci5zY2VuZS5wcmltaXRpdmVzLmFkZChiKTtcclxuICAgICAgICAvLyB2YXIgYmlsbGJvYXJkID0gYi5hZGQoe1xyXG4gICAgICAgIC8vICAgICBzaG93IDogdHJ1ZSxcclxuICAgICAgICAvLyAgICAgcG9zaXRpb24gOiBldmVudC5wb3NpdGlvbixcclxuICAgICAgICAvLyAgICAgcGl4ZWxPZmZzZXQgOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgMCksXHJcbiAgICAgICAgLy8gICAgIGV5ZU9mZnNldCA6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygwLjAsIDAuMCwgMC4wKSxcclxuICAgICAgICAvLyAgICAgaG9yaXpvbnRhbE9yaWdpbiA6IENlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkNFTlRFUixcclxuICAgICAgICAvLyAgICAgdmVydGljYWxPcmlnaW4gOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgIC8vICAgICBzY2FsZSA6IDEuMCxcclxuICAgICAgICAvLyAgICAgaW1hZ2U6ICcuL2ltZy9nbHlwaGljb25zXzI0Ml9nb29nbGVfbWFwcy5wbmcnLFxyXG4gICAgICAgIC8vICAgICBjb2xvciA6IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAxLjAsIDEuMCwgMS4wKVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIGJpbGxib2FyZC5zZXRFZGl0YWJsZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5DaG9pY2VIZWxwZXIucHJvdG90eXBlLnNldE9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuXHJcbn1cclxuXHJcbkNob2ljZUhlbHBlci5wcm90b3R5cGUuX2NhbGxCYWNrID0gZnVuY3Rpb24gKCkge1xyXG5cclxufVxyXG5cclxuQ2hvaWNlSGVscGVyLnByb3RvdHlwZS5fZmlsdGVyRXhlY3V0ZXIgPSBmdW5jdGlvbiAoY29udGFpbnNDYWxsYmFjaykge1xyXG4gICAgdmFyIG1lID0gdGhpcztcclxuICAgIC8v6YCJ5Ye65Zyo5ZyI5YaF55qEZW50aXRpZXNcclxuICAgIHZhciBjb250YWluRW50aXRpZXMgPSBjb250YWluc0NhbGxiYWNrKG1lLl9jZXNpdW1WaWV3ZXIuZW50aXRpZXMudmFsdWVzKTtcclxuXHJcbiAgICBtZS51dGlsLmdldFdpdGhEZWZhdWx0KG1lLl9vcHRpb24uY2FsbGJhY2tzLmNob2ljZSwgW10pLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrLCBpbmRleCkge1xyXG4gICAgICAgIHZhciBlbnRpdGllcyA9IFtdO1xyXG4gICAgICAgIC8v6L+H5ruk5Ye66ZyA6KaB55qEZW50aXR5XHJcbiAgICAgICAgbWUudXRpbC5nZXRXaXRoRGVmYXVsdChjb250YWluRW50aXRpZXMsIFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4Mikge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suZmlsdGVyKGVudGl0eSkpIGVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY2FsbGJhY2tcclxuICAgICAgICBjYWxsYmFjay5vbkNob2ljZShlbnRpdGllcyk7XHJcbiAgICB9KVxyXG5cclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBVdGlsKHZpZXdlcikge1xyXG4gICAgdGhpcy5fdmlld2VyID0gdmlld2VyO1xyXG4gICAgdGhpcy5fZWxsaXBzb2lkID0gdGhpcy5fdmlld2VyLnNjZW5lLmdsb2JlLl9lbGxpcHNvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIZDYXJ0ZXNpYW4z6L2s5Li657uP57qs5bqmXHJcbiAqIEBwYXJhbSBjYXJ0ZXNpYW4zXHJcbiAqIEByZXR1cm5zIHt7aGVpZ2h0Om51bWJlcixsYXRpdHVkZTpudW1iZXIsbG9uZ2l0dWRlOm51bWJlcn19XHJcbiAqL1xyXG5VdGlsLnByb3RvdHlwZS5DYXJ0ZXNpYW4zVG9MYXRMbmcgPSBmdW5jdGlvbiAoY2FydGVzaWFuMykge1xyXG4gICAgLy8gcmV0dXJuICBDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuMyk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbjMpO1xyXG59XHJcbi8qKlxyXG4gKiDkvYbmmK9DZXNpdW3kuI3mlK/mjIHmraTnsbtcclxuICogQHBhcmFtIGNhcnRlc2lhbjNcclxuICogQHJldHVybiB7e2hlaWdodDogKiwgbGF0aXR1ZGU6ICosIGxvbmdpdHVkZTogKn19XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuVXRpbC5wcm90b3R5cGUuQ2FydGVzaWFuM1RvRGVncmVlcyA9IGZ1bmN0aW9uIChjYXJ0ZXNpYW4zKSB7XHJcbiAgICB2YXIgY2FydG9ncmFwaGljID0gdGhpcy5fZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbjMpO1xyXG4gICAgdmFyIGRlZ3JlZSA9IHtcclxuICAgICAgICBoZWlnaHQ6IGNhcnRvZ3JhcGhpYy5oZWlnaHQsXHJcbiAgICAgICAgbGF0aXR1ZGU6IENlc2l1bS5NYXRoLnRvRGVncmVlcyhjYXJ0b2dyYXBoaWMubGF0aXR1ZGUpLFxyXG4gICAgICAgIGxvbmdpdHVkZTogQ2VzaXVtLk1hdGgudG9EZWdyZWVzKGNhcnRvZ3JhcGhpYy5sb25naXR1ZGUpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVncmVlO1xyXG59XHJcblxyXG5VdGlsLnByb3RvdHlwZS5nZXRXaXRoRGVmYXVsdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBkZWZhdWx0RWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPyBlbGVtZW50IDogZGVmYXVsdEVsZW1lbnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5blvZPliY3ngrnkvY3nmoTov5HlnLDngrnkvY1cclxuICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2FydGVzaWFuM1xyXG4gKiBAcmV0dXJuIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICovXHJcblV0aWwucHJvdG90eXBlLmdldENlc2l1bUhpZ2h0WmVybyA9IGZ1bmN0aW9uIChjYXJ0ZXNpYW4zKSB7XHJcbiAgICB2YXIgZnJvbUNhcnRlc2lhbiA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjYXJ0ZXNpYW4zKTtcclxuICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkv67mraPlvZPliY3ngrnkvY3nmoTpq5jluqZcclxuICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2FydGVzaWFuM1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0UGx1c1xyXG4gKiBAcmV0dXJuIHtDZXNpdW0uQ2FydGVzaWFuM31cclxuICovXHJcblV0aWwucHJvdG90eXBlLmZvcm1hdEhldGlnaHRQbHVzTnVtYmVyID0gZnVuY3Rpb24gKGNhcnRlc2lhbjMsIGhlaWdodFBsdXMpIHtcclxuICAgIHZhciBmcm9tQ2FydGVzaWFuID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGNhcnRlc2lhbjMpO1xyXG4gICAgcmV0dXJuIENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21SYWRpYW5zKGZyb21DYXJ0ZXNpYW4ubG9uZ2l0dWRlLCBmcm9tQ2FydGVzaWFuLmxhdGl0dWRlLCBmcm9tQ2FydGVzaWFuLmhlaWdodCArIGhlaWdodFBsdXMpO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwb3NpdGlvblxyXG4gKiBAcGFyYW0gcGF0aHNcclxuICovXHJcblV0aWwucHJvdG90eXBlLl9pc0luUG9seWdvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgcGF0aHMpIHtcclxuICAgIHZhciB4ID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG4gICAgdmFyIHkgPSBwb3NpdGlvbi5sYXRpdHVkZTtcclxuXHJcbiAgICB2YXIgaXN1bSwgaWNvdW50LCBpbmRleCA9IDA7XHJcbiAgICB2YXIgZExvbjEgPSAwLCBkTG9uMiA9IDAsIGRMYXQxID0gMCwgZExhdDIgPSAwLCBkTG9uO1xyXG5cclxuICAgIGlmIChwYXRocy5zaXplIDwgMykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpc3VtID0gMDtcclxuICAgIGljb3VudCA9IHBhdGhzLmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBpY291bnQgLSAxOyBpbmRleCsrKSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBpY291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgIGRMb24xID0gcGF0aHNbaW5kZXhdLmxvbmdpdHVkZTtcclxuICAgICAgICAgICAgZExhdDEgPSBwYXRoc1tpbmRleF0ubGF0aXR1ZGU7XHJcbiAgICAgICAgICAgIGRMb24yID0gcGF0aHNbMF0ubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgICBkTGF0MiA9IHBhdGhzWzBdLmxhdGl0dWRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZExvbjEgPSBwYXRoc1tpbmRleF0ubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgICBkTGF0MSA9IHBhdGhzW2luZGV4XS5sYXRpdHVkZTtcclxuICAgICAgICAgICAgZExvbjIgPSBwYXRoc1tpbmRleCArIDFdLmxvbmdpdHVkZTtcclxuICAgICAgICAgICAgZExhdDIgPSBwYXRoc1tpbmRleCArIDFdLmxhdGl0dWRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCgoeSA+PSBkTGF0MSkgJiYgKHkgPCBkTGF0MikpIHx8ICgoeSA+PSBkTGF0MikgJiYgKHkgPCBkTGF0MSkpKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkTGF0MSAtIGRMYXQyKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRMb24gPSBkTG9uMSAtICgoZExvbjEgLSBkTG9uMikgKiAoZExhdDEgLSB5KSkgLyAoZExhdDEgLSBkTGF0Mik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZExvbiA8IHgpXHJcbiAgICAgICAgICAgICAgICAgICAgaXN1bSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoaXN1bSAlIDIpICE9PSAwO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvU2NlbmUvQ2FtZXJhcy5jc3M/MWRkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Created by thomas on 9/01/14.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * (c) www.geocento.com\r\n * www.metaaps.com\r\n * <pre>\r\n *      update:\r\n *          2018-9-17:\r\n *              - pickStrategy属性兼容性\r\n *              - 适配stopDrawing在未开始标绘的情况\r\n *          2019-9-24:\r\n *              - 对属性带有modeType:billboard的entity加入setEditable(boolean)的方法,用于改变位置\r\n * </pre>\r\n *\r\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n    if (( false ? undefined : _typeof(exports)) === 'object' && ( false ? undefined : _typeof(module)) === 'object') module.exports = factory(__webpack_require__(0));else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(window, function (Cesium) {\n    // static variables\n    var ellipsoid = Cesium.Ellipsoid.WGS84;\n\n    /**\r\n     *\r\n     * @param { Cesium.Cartesian2} position\r\n     * @param {Cesium.Viewer} viewer\r\n     * @return {Cesium.Cartesian3}\r\n     */\n    var defaultPickStrategy = function defaultPickStrategy(position, viewer) {\n        return viewer.scene.camera.pickEllipsoid(position);\n    };\n\n    /**\r\n     * @constructor\r\n     * @param cesiumWidget\r\n     * @private\r\n     */\n    function _(cesiumWidget) {\n        this._viewer = cesiumWidget;\n        this._scene = cesiumWidget.scene;\n        this._tooltip = createTooltip(cesiumWidget.container);\n        this._surfaces = [];\n        //适配\n        Cesium.defined(Cesium.ContextLimits) && (Cesium.ContextLimits._maximumAliasedLineWidth = 10);\n\n        this.initialiseHandlers();\n\n        this.enhancePrimitives();\n        enhanceWithListeners(this);\n    }\n\n    _.prototype.initialiseHandlers = function () {\n        var scene = this._scene;\n        var _self = this;\n        // scene events\n        var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function callPrimitiveCallback(name, position) {\n            if (_self._handlersMuted == true) return;\n            var pickedObject = scene.pick(position);\n            if (pickedObject && pickedObject.primitive && pickedObject.primitive[name]) {\n                pickedObject.primitive[name](position);\n            }\n            if (pickedObject && pickedObject.id && pickedObject.id.constructor.toString().match(/^function\\s*([^\\s(]+)/)[1] === \"Entity\" && pickedObject.id[name]) {\n                pickedObject.id[name](position);\n            }\n        }\n\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftClick', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftDoubleClick', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        var mouseOutObject;\n        handler.setInputAction(function (movement) {\n            var markPosition = {\n                x: movement.endPosition.x,\n                y: movement.endPosition.y\n            };\n\n            if (_self._handlersMuted == true) return;\n            var pickedObject = scene.pick(markPosition);\n            if (mouseOutObject && (!pickedObject || mouseOutObject != pickedObject.primitive)) {\n                !(mouseOutObject.isDestroyed && mouseOutObject.isDestroyed()) && mouseOutObject.mouseOut(markPosition);\n                mouseOutObject = null;\n            }\n            if (pickedObject && pickedObject.primitive) {\n                pickedObject = pickedObject.primitive;\n                if (pickedObject.mouseOut) {\n                    mouseOutObject = pickedObject;\n                }\n                if (pickedObject.mouseMove) {\n                    pickedObject.mouseMove(markPosition);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftUp', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_UP);\n        handler.setInputAction(function (movement) {\n            callPrimitiveCallback('leftDown', movement.position);\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n    };\n\n    _.prototype.setListener = function (primitive, type, callback) {\n        primitive[type] = callback;\n    };\n\n    _.prototype.muteHandlers = function (muted) {\n        this._handlersMuted = muted;\n    };\n\n    // register event handling for an editable shape\n    // shape should implement setEditMode and setHighlighted\n    _.prototype.registerEditableShape = function (surface) {\n        var _self = this;\n\n        // handlers for interactions\n        // highlight polygon when mouse is entering\n        setListener(surface, 'mouseMove', function (position) {\n            surface.setHighlighted(true);\n            if (!surface._editMode) {\n                _self._tooltip.showAt(position, \"Click to edit this shape\");\n            }\n        });\n        // hide the highlighting when mouse is leaving the polygon\n        setListener(surface, 'mouseOut', function (position) {\n            surface.setHighlighted(false);\n            _self._tooltip.setVisible(false);\n        });\n        setListener(surface, 'leftClick', function (position) {\n            surface.setEditMode(true);\n        });\n    };\n\n    _.prototype.startDrawing = function (cleanUp) {\n        // undo any current edit of shapes\n        this.disableAllEditMode();\n        // check for cleanUp first\n        if (this.editCleanUp) {\n            this.editCleanUp();\n        }\n        this.editCleanUp = cleanUp;\n        this.muteHandlers(true);\n    };\n\n    _.prototype.stopDrawing = function () {\n        // check for cleanUp first\n        if (this.editCleanUp) {\n            this.editCleanUp();\n            this.editCleanUp = null;\n        }\n        this.muteHandlers(false);\n    };\n\n    // make sure only one shape is highlighted at a time\n    _.prototype.disableAllHighlights = function () {\n        this.setHighlighted(undefined);\n    };\n\n    _.prototype.setHighlighted = function (surface) {\n        if (this._highlightedSurface && !this._highlightedSurface.isDestroyed() && this._highlightedSurface != surface) {\n            this._highlightedSurface.setHighlighted(false);\n        }\n        this._highlightedSurface = surface;\n    };\n\n    _.prototype.disableAllEditMode = function () {\n        this.setEdited(undefined);\n    };\n\n    _.prototype.setEdited = function (surface) {\n        if (this._editedSurface && !this._editedSurface.isDestroyed()) {\n            this._editedSurface.setEditMode(false);\n        }\n        this._editedSurface = surface;\n    };\n\n    var material = Cesium.Material.fromType(Cesium.Material.ColorType);\n    material.uniforms.color = new Cesium.Color(1.0, 1.0, 0.0, 0.5);\n\n    var defaultShapeOptions = {\n        ellipsoid: Cesium.Ellipsoid.WGS84,\n        textureRotationAngle: 0.0,\n        height: 0.0,\n        asynchronous: true,\n        show: true,\n        debugShowBoundingVolume: false,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    };\n\n    var defaultSurfaceOptions = copyOptions(defaultShapeOptions, {\n        appearance: new Cesium.EllipsoidSurfaceAppearance({\n            aboveGround: false\n        }),\n        material: material,\n        granularity: Math.PI / 180.0,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    });\n\n    var defaultPolygonOptions = copyOptions(defaultShapeOptions, {});\n    var defaultExtentOptions = copyOptions(defaultShapeOptions, {});\n    var defaultCircleOptions = copyOptions(defaultShapeOptions, {});\n    var defaultEllipseOptions = copyOptions(defaultSurfaceOptions, { rotation: 0 });\n\n    var defaultPolylineOptions = copyOptions(defaultShapeOptions, {\n        width: 5,\n        geodesic: true,\n        granularity: 10000,\n        appearance: new Cesium.PolylineMaterialAppearance({\n            aboveGround: false\n        }),\n        material: material\n    });\n\n    //    Cesium.Polygon.prototype.setStrokeStyle = setStrokeStyle;\n    //\n    //    Cesium.Polygon.prototype.drawOutline = drawOutline;\n    //\n\n    var ChangeablePrimitive = function () {\n        function _() {}\n\n        _.prototype.initialiseOptions = function (options) {\n\n            fillOptions(this, options);\n\n            this._ellipsoid = undefined;\n            this._granularity = undefined;\n            this._height = undefined;\n            this._textureRotationAngle = undefined;\n            this._id = undefined;\n\n            // set the flags to initiate a first drawing\n            this._createPrimitive = true;\n            this._primitive = undefined;\n            this._outlinePolygon = undefined;\n        };\n\n        _.prototype.setAttribute = function (name, value) {\n            this[name] = value;\n            this._createPrimitive = true;\n        };\n\n        _.prototype.getAttribute = function (name) {\n            return this[name];\n        };\n\n        /**\r\n         * @private\r\n         */\n        _.prototype.update = function (context, frameState, commandList) {\n\n            if (!Cesium.defined(this.ellipsoid)) {\n                throw new Cesium.DeveloperError('this.ellipsoid must be defined.');\n            }\n\n            if (!Cesium.defined(this.appearance)) {\n                throw new Cesium.DeveloperError('this.material must be defined.');\n            }\n\n            if (this.granularity < 0.0) {\n                throw new Cesium.DeveloperError('this.granularity and scene2D/scene3D overrides must be greater than zero.');\n            }\n\n            if (!this.show) {\n                return;\n            }\n\n            if (!this._createPrimitive && !Cesium.defined(this._primitive)) {\n                // No positions/hierarchy to draw\n                return;\n            }\n\n            if (this._createPrimitive || this._ellipsoid !== this.ellipsoid || this._granularity !== this.granularity || this._height !== this.height || this._textureRotationAngle !== this.textureRotationAngle || this._id !== this.id) {\n\n                var geometry = this.getGeometry();\n                if (!geometry) {\n                    return;\n                }\n\n                this._createPrimitive = false;\n                this._ellipsoid = this.ellipsoid;\n                this._granularity = this.granularity;\n                this._height = this.height;\n                this._textureRotationAngle = this.textureRotationAngle;\n                this._id = this.id;\n\n                this._primitive = this._primitive && this._primitive.destroy();\n                var me = this;\n                this._primitive = new Cesium.Primitive({\n                    geometryInstances: new Cesium.GeometryInstance({\n                        geometry: geometry,\n                        id: this.id,\n                        pickPrimitive: this\n                    }),\n                    appearance: this.appearance,\n                    asynchronous: this.asynchronous\n                });\n                // this._primitive = new Cesium.GroundPrimitive({\n                //     geometryInstances: new Cesium.GeometryInstance({\n                //         geometry: geometry,\n                //         id: me.id,\n                //         pickPrimitive: me\n                //     }),\n                //     attributes: {\n                //         // color :  Cesium.ColorGeometryInstanceAttribute.fromColor(Cesium.Color.BLUE.withAlpha(0.5))\n                //         color: Cesium.ColorGeometryInstanceAttribute.fromColor(this.strokeColor)\n                //     }\n                // });\n\n                this._outlinePolygon = this._outlinePolygon && this._outlinePolygon.destroy();\n                if (this.strokeColor && this.getOutlineGeometry) {\n                    // create the highlighting frame\n                    this._outlinePolygon = new Cesium.Primitive({\n                        geometryInstances: new Cesium.GeometryInstance({\n                            geometry: this.getOutlineGeometry(),\n                            attributes: {\n                                color: Cesium.ColorGeometryInstanceAttribute.fromColor(this.strokeColor)\n                            }\n                        }),\n                        appearance: new Cesium.PerInstanceColorAppearance({\n                            flat: true,\n                            renderState: {\n                                depthTest: {\n                                    enabled: true\n                                },\n                                lineWidth: Math.min(this.strokeWidth || 4.0)\n                            }\n                        })\n                    });\n                }\n            }\n\n            var primitive = this._primitive;\n            // primitive.appearance.material = this.material;\n            // primitive.appearance = this.appearance;\n            primitive.appearance.material = this.material;\n            // primitive.debugShowBoundingVolume = this.debugShowBoundingVolume;\n            primitive.update(context, frameState, commandList);\n            //debug\n            // console.log(context)\n            // console.log(frameState)\n            // console.log(commandList)\n            this._outlinePolygon && this._outlinePolygon.update(context, frameState, commandList);\n        };\n\n        _.prototype.isDestroyed = function () {\n            return false;\n        };\n\n        _.prototype.destroy = function () {\n            this._primitive = this._primitive && this._primitive.destroy();\n            return Cesium.destroyObject(this);\n        };\n\n        _.prototype.setStrokeStyle = function (strokeColor, strokeWidth) {\n            if (!this.strokeColor || !this.strokeColor.equals(strokeColor) || this.strokeWidth != strokeWidth) {\n                this._createPrimitive = true;\n                this.strokeColor = strokeColor;\n                this.strokeWidth = strokeWidth;\n            }\n        };\n\n        return _;\n    }();\n\n    _.ExtentPrimitive = function () {\n        function _(options) {\n\n            if (!Cesium.defined(options.extent)) {\n                throw new Cesium.DeveloperError('Extent is required');\n            }\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.setExtent(options.extent);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setExtent = function (extent) {\n            this.setAttribute('extent', extent);\n        };\n\n        _.prototype.getExtent = function () {\n            return this.getAttribute('extent');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.extent)) {\n                return;\n            }\n\n            return new Cesium.RectangleGeometry({\n                rectangle: this.extent,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.RectangleOutlineGeometry({\n                rectangle: this.extent\n            });\n        };\n\n        return _;\n    }();\n\n    _.PolygonPrimitive = function () {\n\n        function _(options) {\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.isPolygon = true;\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setPositions = function (positions) {\n            this.setAttribute('positions', positions);\n        };\n\n        _.prototype.getPositions = function () {\n            return this.getAttribute('positions');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.positions) || this.positions.length < 3) {\n                return;\n            }\n\n            return Cesium.PolygonGeometry.fromPositions({\n                positions: this.positions,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return Cesium.PolygonOutlineGeometry.fromPositions({\n                positions: this.getPositions()\n            });\n        };\n\n        return _;\n    }();\n\n    _.CirclePrimitive = function () {\n\n        function _(options) {\n\n            if (!(Cesium.defined(options.center) && Cesium.defined(options.radius))) {\n                throw new Cesium.DeveloperError('Center and radius are required');\n            }\n\n            options = copyOptions(options, defaultSurfaceOptions);\n\n            this.initialiseOptions(options);\n\n            this.setRadius(options.radius);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setCenter = function (center) {\n            this.setAttribute('center', center);\n        };\n\n        _.prototype.setRadius = function (radius) {\n            this.setAttribute('radius', Math.max(0.1, radius));\n        };\n\n        _.prototype.getCenter = function () {\n            return this.getAttribute('center');\n        };\n\n        _.prototype.getRadius = function () {\n            return this.getAttribute('radius');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!(Cesium.defined(this.center) && Cesium.defined(this.radius))) {\n                return;\n            }\n\n            return new Cesium.CircleGeometry({\n                center: this.center,\n                radius: this.radius,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle,\n                ellipsoid: this.ellipsoid,\n                granularity: this.granularity\n            });\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.CircleOutlineGeometry({\n                center: this.getCenter(),\n                radius: this.getRadius()\n            });\n        };\n\n        return _;\n    }();\n\n    _.EllipsePrimitive = function () {\n        function _(options) {\n\n            if (!(Cesium.defined(options.center) && Cesium.defined(options.semiMajorAxis) && Cesium.defined(options.semiMinorAxis))) {\n                throw new Cesium.DeveloperError('Center and semi major and semi minor axis are required');\n            }\n\n            options = copyOptions(options, defaultEllipseOptions);\n\n            this.initialiseOptions(options);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setCenter = function (center) {\n            this.setAttribute('center', center);\n        };\n\n        _.prototype.setSemiMajorAxis = function (semiMajorAxis) {\n            if (semiMajorAxis < this.getSemiMinorAxis()) return;\n            this.setAttribute('semiMajorAxis', semiMajorAxis);\n        };\n\n        _.prototype.setSemiMinorAxis = function (semiMinorAxis) {\n            if (semiMinorAxis > this.getSemiMajorAxis()) return;\n            this.setAttribute('semiMinorAxis', semiMinorAxis);\n        };\n\n        _.prototype.setRotation = function (rotation) {\n            return this.setAttribute('rotation', rotation);\n        };\n\n        _.prototype.getCenter = function () {\n            return this.getAttribute('center');\n        };\n\n        _.prototype.getSemiMajorAxis = function () {\n            return this.getAttribute('semiMajorAxis');\n        };\n\n        _.prototype.getSemiMinorAxis = function () {\n            return this.getAttribute('semiMinorAxis');\n        };\n\n        _.prototype.getRotation = function () {\n            return this.getAttribute('rotation');\n        };\n\n        _.prototype.getGeometry = function () {\n            var _ref;\n\n            if (!(Cesium.defined(this.center) && Cesium.defined(this.semiMajorAxis) && Cesium.defined(this.semiMinorAxis))) {\n                return;\n            }\n\n            return new Cesium.EllipseGeometry((_ref = {\n                ellipsoid: this.ellipsoid,\n                center: this.center,\n                semiMajorAxis: this.semiMajorAxis,\n                semiMinorAxis: this.semiMinorAxis,\n                rotation: this.rotation,\n                height: this.height,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                stRotation: this.textureRotationAngle\n            }, _defineProperty(_ref, 'ellipsoid', this.ellipsoid), _defineProperty(_ref, 'granularity', this.granularity), _ref));\n        };\n\n        _.prototype.getOutlineGeometry = function () {\n            return new Cesium.EllipseOutlineGeometry({\n                center: this.getCenter(),\n                semiMajorAxis: this.getSemiMajorAxis(),\n                semiMinorAxis: this.getSemiMinorAxis(),\n                rotation: this.getRotation()\n            });\n        };\n\n        return _;\n    }();\n\n    _.PolylinePrimitive = function () {\n\n        function _(options) {\n\n            options = copyOptions(options, defaultPolylineOptions);\n\n            this.initialiseOptions(options);\n        }\n\n        _.prototype = new ChangeablePrimitive();\n\n        _.prototype.setPositions = function (positions) {\n            this.setAttribute('positions', positions);\n        };\n\n        _.prototype.setWidth = function (width) {\n            this.setAttribute('width', width);\n        };\n\n        _.prototype.setGeodesic = function (geodesic) {\n            this.setAttribute('geodesic', geodesic);\n        };\n\n        _.prototype.getPositions = function () {\n            return this.getAttribute('positions');\n        };\n\n        _.prototype.getWidth = function () {\n            return this.getAttribute('width');\n        };\n\n        _.prototype.getGeodesic = function (geodesic) {\n            return this.getAttribute('geodesic');\n        };\n\n        _.prototype.getGeometry = function () {\n\n            if (!Cesium.defined(this.positions) || this.positions.length < 2) {\n                return;\n            }\n\n            return new Cesium.PolylineGeometry({\n                positions: this.positions,\n                height: this.height,\n                width: this.width < 1 ? 1 : this.width,\n                vertexFormat: Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n                ellipsoid: this.ellipsoid\n            });\n        };\n\n        return _;\n    }();\n\n    var defaultBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABbElEQVQoU2NkIAEwwtR6enqyc3Jy6jEzMyv9//+fl5GR8fPfv3/vff/+/dL27dt/gtSBFYMUcnBwePj4+ARYW1u7cHFxiX/9+vXl0aNH92zdunXDjx8/doA0gBV7eXmZ+/r6Zjo4OMR+//6dCWYbOzv7v3379i3evn379G3btp0EK3Z3d49tampq//79u/T///8Zfv36xfD792+Gf//+MbCwsDydOHFi5c6dOxeDFTs5OeV0dHT0vXr1ivXLl28Mf//+gXubjY3t9/Tp04r27ds3BazYysoqsaqqtuX7919S6IHz7dvXZzNnTqk5duzYfLBiY2NjG2dnt2w7O9ewf//+wd38/z/Dv717t686evTA1LNnzx4BK3ZwcOB49epViKOju7+NjYsNHx+/yKdPH94cPrz3yIEDOzeKiYmtOXDgwA94OMvIyHB+//7d+v///7oMDAwCDAwMHxgZGS9zcnIeffLkyXd4OBMbiQDHU6AM+91hMQAAAABJRU5ErkJggg==\",\n        shiftX: 0,\n        shiftY: 0,\n        strategy: {\n            pickStrategy: defaultPickStrategy\n        }\n    };\n\n    var dragBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABbElEQVQoU2NkIAEwwtR6enqyc3Jy6jEzMyv9//+fl5GR8fPfv3/vff/+/dL27dt/gtSBFYMUcnBwePj4+ARYW1u7cHFxiX/9+vXl0aNH92zdunXDjx8/doA0gBV7eXmZ+/r6Zjo4OMR+//6dCWYbOzv7v3379i3evn379G3btp0EK3Z3d49tampq//79u/T///8Zfv36xfD792+Gf//+MbCwsDydOHFi5c6dOxeDFTs5OeV0dHT0vXr1ivXLl28Mf//+gXubjY3t9/Tp04r27ds3BazYysoqsaqqtuX7919S6IHz7dvXZzNnTqk5duzYfLBiY2NjG2dnt2w7O9ewf//+wd38/z/Dv717t686evTA1LNnzx4BK3ZwcOB49epViKOju7+NjYsNHx+/yKdPH94cPrz3yIEDOzeKiYmtOXDgwA94OMvIyHB+//7d+v///7oMDAwCDAwMHxgZGS9zcnIeffLkyXd4OBMbiQDHU6AM+91hMQAAAABJRU5ErkJggg==\",\n        shiftX: 0,\n        shiftY: 0\n    };\n\n    var dragHalfBillboard = {\n        iconUrl: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAABCklEQVQoU5XRMUiEcBTH8e8/iBQMAoXAULBRqTWwGxvaagi3GxqjpragMWhrKhobbpOG2hoaL6G18MYTlIRAIUjQCDKU7mhwqDd/Hvze7wn+MWJi67qeA1aBZWAeeAfGwJMQ4qNxLf6Bm8A2sAEsAq/APXAD3DULE7wG7AF9YOZXsi9gAFwKIR5bXJZlX5KkU2Cp44SXqqqOZFketDjLsgNVVc+A2Q78mef5oaZp5y2O43jXMIwTQO/AaZIkx6ZpXrU4DMOebdv7gNeR2R+NRheO4wxbHEWRlKbpjuu6W0AP0Jp0wDAIgltd168ty6qmPfu+LxdFsQ6sAAvAG/CsKMqD53nltOe/PvEbmPRTDApQ3d8AAAAASUVORK5CYII=\",\n        shiftX: 0,\n        shiftY: 0\n    };\n\n    _.prototype.createBillboardGroup = function (points, options, callbacks) {\n        var markers = new _.BillboardGroup(this, options);\n        markers.addBillboards(points, callbacks);\n        return markers;\n    };\n\n    _.BillboardGroup = function (drawHelper, options) {\n\n        this._drawHelper = drawHelper;\n        this._scene = drawHelper._scene;\n\n        this._options = copyOptions(options, defaultBillboard);\n\n        // create one common billboard collection for all billboards\n        var b = new Cesium.BillboardCollection();\n        this._scene.primitives.add(b);\n        this._billboards = b;\n        // keep an ordered list of billboards\n        this._orderedBillboards = [];\n    };\n\n    _.BillboardGroup.prototype.createBillboard = function (position, callbacks) {\n\n        var billboard = this._billboards.add({\n            show: true,\n            position: position,\n            pixelOffset: new Cesium.Cartesian2(this._options.shiftX, this._options.shiftY),\n            eyeOffset: new Cesium.Cartesian3(0.0, 0.0, 0.0),\n            horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n            verticalOrigin: Cesium.VerticalOrigin.CENTER,\n            scale: 1.0,\n            image: this._options.iconUrl,\n            color: new Cesium.Color(1.0, 1.0, 1.0, 1.0)\n        });\n\n        // if editable\n        if (callbacks) {\n            var enableRotation = function enableRotation(enable) {\n                screenSpaceCameraController.enableRotate = enable;\n            };\n\n            var getIndex = function getIndex() {\n                // find index\n                for (var i = 0, I = _self._orderedBillboards.length; i < I && _self._orderedBillboards[i] != billboard; ++i) {}\n                return i;\n            };\n\n            var _self = this;\n            var screenSpaceCameraController = this._scene.screenSpaceCameraController;\n\n            if (callbacks.dragHandlers) {\n                var _self = this;\n                setListener(billboard, 'leftDown', function (position) {\n                    // TODO - start the drag handlers here\n                    // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                    function onDrag(position) {\n                        billboard.position = position;\n                        // find index\n                        for (var i = 0, I = _self._orderedBillboards.length; i < I && _self._orderedBillboards[i] != billboard; ++i) {}\n                        callbacks.dragHandlers.onDrag && callbacks.dragHandlers.onDrag(getIndex(), position);\n                    }\n\n                    function onDragEnd(position) {\n                        handler.destroy();\n                        enableRotation(true);\n                        callbacks.dragHandlers.onDragEnd && callbacks.dragHandlers.onDragEnd(getIndex(), position);\n                    }\n\n                    var handler = new Cesium.ScreenSpaceEventHandler(_self._scene.canvas);\n\n                    handler.setInputAction(function (movement) {\n                        var cartesian = _self._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                        if (cartesian) {\n                            onDrag(cartesian);\n                        } else {\n                            onDragEnd(cartesian);\n                        }\n                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                    handler.setInputAction(function (movement) {\n                        onDragEnd(_self._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                    }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                    enableRotation(false);\n\n                    callbacks.dragHandlers.onDragStart && callbacks.dragHandlers.onDragStart(getIndex(), _self._scene.camera.pickEllipsoid(position, ellipsoid));\n                });\n            }\n            if (callbacks.onDoubleClick) {\n                setListener(billboard, 'leftDoubleClick', function (position) {\n                    callbacks.onDoubleClick(getIndex());\n                });\n            }\n            if (callbacks.onClick) {\n                setListener(billboard, 'leftClick', function (position) {\n                    callbacks.onClick(getIndex());\n                });\n            }\n            if (callbacks.tooltip) {\n                setListener(billboard, 'mouseMove', function (position) {\n                    _self._drawHelper._tooltip.showAt(position, callbacks.tooltip());\n                });\n                setListener(billboard, 'mouseOut', function (position) {\n                    _self._drawHelper._tooltip.setVisible(false);\n                });\n            }\n        }\n\n        return billboard;\n    };\n\n    _.BillboardGroup.prototype.insertBillboard = function (index, position, callbacks) {\n        this._orderedBillboards.splice(index, 0, this.createBillboard(position, callbacks));\n    };\n\n    _.BillboardGroup.prototype.addBillboard = function (position, callbacks) {\n        this._orderedBillboards.push(this.createBillboard(position, callbacks));\n    };\n\n    _.BillboardGroup.prototype.addBillboards = function (positions, callbacks) {\n        var index = 0;\n        for (; index < positions.length; index++) {\n            this.addBillboard(positions[index], callbacks);\n        }\n    };\n\n    _.BillboardGroup.prototype.updateBillboardsPositions = function (positions) {\n        var index = 0;\n        for (; index < positions.length; index++) {\n            this.getBillboard(index).position = positions[index];\n        }\n    };\n\n    _.BillboardGroup.prototype.countBillboards = function () {\n        return this._orderedBillboards.length;\n    };\n\n    _.BillboardGroup.prototype.getBillboard = function (index) {\n        return this._orderedBillboards[index];\n    };\n\n    _.BillboardGroup.prototype.removeBillboard = function (index) {\n        this._billboards.remove(this.getBillboard(index));\n        this._orderedBillboards.splice(index, 1);\n    };\n\n    _.BillboardGroup.prototype.remove = function () {\n        this._billboards = this._billboards && this._billboards.removeAll() && this._billboards.destroy();\n    };\n\n    _.BillboardGroup.prototype.setOnTop = function () {\n        this._scene.primitives.raiseToTop(this._billboards);\n    };\n\n    _.prototype.startDrawingMarker = function (options) {\n\n        var options = copyOptions(options, defaultBillboard);\n\n        this.startDrawing(function () {\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n\n        var primitives = scene.primitives;\n        var tooltip = this._tooltip;\n\n        var markers = new _.BillboardGroup(this, options);\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n                if (cartesian) {\n                    markers.addBillboard(cartesian);\n                    _self.stopDrawing();\n                    options.callback(cartesian, _self);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(position, viewer);\n                if (cartesian) {\n                    tooltip.showAt(position, \"<p>Click to add your marker. Position is: </p>\" + getDisplayLatLngString(ellipsoid.cartesianToCartographic(cartesian)));\n                } else {\n                    tooltip.showAt(position, \"<p>Click on the globe to add your marker.</p>\");\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.startDrawingPolygon = function (options) {\n        // var options = copyOptions(options, defaultSurfaceOptions);\n        this.startDrawingPolyshape(true, options);\n    };\n\n    _.prototype.startDrawingPolyline = function (options) {\n        // var options = copyOptions(options, defaultPolylineOptions);\n        this.startDrawingPolyshape(false, options);\n    };\n\n    _.prototype.startDrawingPolyshape = function (isPolygon, options) {\n        options = isPolygon ? copyOptions(options, defaultSurfaceOptions) : copyOptions(options, defaultPolylineOptions);\n\n        this.startDrawing(function () {\n            primitives && primitives.remove(poly);\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = scene.primitives;\n        var tooltip = this._tooltip;\n\n        var minPoints = isPolygon ? 3 : 2;\n        var poly;\n        if (isPolygon) {\n            poly = new _.PolygonPrimitive(options);\n        } else {\n            poly = new _.PolylinePrimitive(options);\n        }\n        poly.asynchronous = false;\n        primitives.add(poly);\n\n        var positions = [];\n        var markers = new _.BillboardGroup(this, defaultBillboard);\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        mouseHandler.setInputAction(function (movement) {\n\n            var position = movement.position;\n            if (position != null) {\n                if (positions.length < minPoints /*+ 2*/) {\n                        return;\n                    } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n\n                    if (cartesian) {\n                        _self.stopDrawing();\n                        if (typeof options.callback == 'function') {\n                            // remove overlapping ones\n                            var index = positions.length - 1;\n                            options.callback(positions, _self);\n                        }\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n\n            var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n            cartesian = getCesiumHightZero(cartesian);\n\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n\n                if (cartesian) {\n                    // first click\n                    if (positions.length == 0) {\n                        positions.push(cartesian.clone());\n                        markers.addBillboard(positions[0]);\n                    }\n                    if (positions.length >= minPoints) {\n                        poly.positions = positions;\n                        poly._createPrimitive = true;\n                    }\n                    // add new point to polygon\n                    // this one will move with the mouse\n                    positions.push(cartesian);\n                    // add marker at the new position\n                    markers.addBillboard(cartesian);\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (positions.length == 0) {\n                    tooltip.showAt(position, \"<p>Click to add first point</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    // var cartesian = scene.pickPosition(position);\n                    // cartesian = getCesiumHightZero(cartesian);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        positions.pop();\n                        // make sure it is slightly different\n                        // cartesian.y += (1 + Math.random());\n                        cartesian.y += Cesium.Math.EPSILON7;\n                        positions.push(cartesian);\n                        if (positions.length >= minPoints) {\n                            poly.positions = positions;\n                            poly._createPrimitive = true;\n                        }\n                        // update marker\n                        markers.getBillboard(positions.length - 1).position = cartesian;\n                        // show tooltip\n                        tooltip.showAt(position, \"<p>Click to add new point (\" + positions.length + \")</p>\" + (positions.length > minPoints ? \"<p>Double click to finish drawing</p>\" : \"\"));\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    function getExtentCorners(value) {\n        return ellipsoid.cartographicArrayToCartesianArray([Cesium.Rectangle.northwest(value), Cesium.Rectangle.northeast(value), Cesium.Rectangle.southeast(value), Cesium.Rectangle.southwest(value)]);\n    }\n\n    _.prototype.startDrawingExtent = function (options) {\n\n        var options = copyOptions(options, defaultSurfaceOptions);\n\n        this.startDrawing(function () {\n            if (extent != null) {\n                primitives && primitives.remove(extent);\n            }\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = this._scene.primitives;\n        var tooltip = this._tooltip;\n\n        var firstPoint = null;\n        var extent = null;\n        var markers = null;\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function updateExtent(value) {\n            if (extent == null) {\n                extent = new _.ExtentPrimitive({ extent: value, material: options.material });\n                extent.asynchronous = false;\n                primitives.add(extent);\n            }\n            extent.setExtent(value);\n            extent.rectangle = value;\n            // update the markers\n            var corners = getExtentCorners(value);\n            // create if they do not yet exist\n            if (markers == null) {\n                markers = new _.BillboardGroup(_self, defaultBillboard);\n                markers.addBillboards(corners);\n            } else {\n                markers.updateBillboardsPositions(corners);\n            }\n        }\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n\n                if (cartesian) {\n                    if (extent == null) {\n                        // create the rectangle\n                        firstPoint = ellipsoid.cartesianToCartographic(cartesian);\n                        var value = getExtent(firstPoint, firstPoint);\n                        updateExtent(value);\n                    } else {\n                        _self.stopDrawing();\n                        if (typeof options.callback == 'function') {\n                            options.callback(getExtent(firstPoint, ellipsoid.cartesianToCartographic(cartesian), _self));\n                        }\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (extent == null) {\n                    tooltip.showAt(position, \"<p>Click to start drawing rectangle</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        var value = getExtent(firstPoint, ellipsoid.cartesianToCartographic(cartesian));\n                        updateExtent(value);\n                        tooltip.showAt(position, \"<p>Drag to change rectangle extent</p><p>Click again to finish drawing</p>\");\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.startDrawingCircle = function (options) {\n\n        var options = copyOptions(options, defaultSurfaceOptions);\n\n        this.startDrawing(function cleanUp() {\n            if (circle != null) {\n                primitives && primitives.remove(circle);\n            }\n            markers && markers.remove();\n            mouseHandler && mouseHandler.destroy();\n            tooltip && tooltip.setVisible(false);\n        });\n\n        var _self = this;\n        var scene = this._scene;\n        var viewer = this._viewer;\n        var primitives = this._scene.primitives;\n        var tooltip = this._tooltip;\n\n        var circle = null;\n        var markers = null;\n\n        var mouseHandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n\n        function pickPosition(position) {\n            if (Cesium.defined(viewer.scene.pick(position))) {\n                return getCesiumHightZero(viewer.scene.pickPosition(position));\n            } else {\n                return getCesiumHightZero(viewer.scene.camera.pickEllipsoid(position));\n            }\n        }\n\n        // Now wait for start\n        mouseHandler.setInputAction(function (movement) {\n            if (movement.position != null) {\n                // var cartesian = scene.camera.pickEllipsoid(movement.position, ellipsoid);\n                // var cartesian = scene.pickPosition(movement.position);\n                // cartesian = getCesiumHightZero(cartesian);\n                // var cartesian = pickPosition(movement.position);\n                var cartesian = options.strategy.pickStrategy(movement.position, viewer);\n                if (cartesian) {\n                    if (circle == null) {\n                        // create the circle\n                        circle = new _.CirclePrimitive({\n                            center: cartesian,\n                            radius: 0,\n                            asynchronous: false,\n                            material: options.material\n                        });\n                        primitives.add(circle);\n                        markers = new _.BillboardGroup(_self, defaultBillboard);\n                        markers.addBillboards([cartesian]);\n                    } else {\n                        if (typeof options.callback == 'function') {\n                            options.callback(circle.getCenter(), circle.getRadius(), _self);\n                        }\n                        _self.stopDrawing();\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n\n        mouseHandler.setInputAction(function (movement) {\n            var position = movement.endPosition;\n            if (position != null) {\n                if (circle == null) {\n                    tooltip.showAt(position, \"<p>Click to start drawing the circle</p>\");\n                } else {\n                    // var cartesian = scene.camera.pickEllipsoid(position, ellipsoid);\n                    // var cartesian = scene.pickPosition(position);\n                    var cartesian = options.strategy.pickStrategy(position, viewer);\n\n                    if (cartesian) {\n                        // Cesium.Cartographic.fromCartesian(circle.getCenter())\n                        circle.setRadius(Cesium.Cartesian3.distance(getCesiumHightZero(circle.getCenter()), getCesiumHightZero(cartesian)));\n                        // circle.setRadius(Cesium.Cartesian3.distance(circle.getCenter(), cartesian));\n                        markers.updateBillboardsPositions(cartesian);\n                        tooltip.showAt(position, \"<p>Move mouse to change circle radius</p><p>Click again to finish drawing</p>\");\n                    }\n                }\n            }\n        }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n    };\n\n    _.prototype.enhancePrimitives = function () {\n\n        var drawHelper = this;\n\n        Cesium.Billboard.prototype.setEditable = function () {\n\n            if (this._editable) {\n                return;\n            }\n\n            this._editable = true;\n\n            var billboard = this;\n\n            var _self = this;\n\n            function enableRotation(enable) {\n                drawHelper._scene.screenSpaceCameraController.enableRotate = enable;\n            }\n\n            setListener(billboard, 'leftDown', function (position) {\n                // TODO - start the drag handlers here\n                // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                function onDrag(position) {\n                    billboard.position = position;\n                    _self.executeListeners({ name: 'drag', positions: position });\n                }\n\n                function onDragEnd(position) {\n                    handler.destroy();\n                    enableRotation(true);\n                    _self.executeListeners({ name: 'dragEnd', positions: position });\n                }\n\n                var handler = new Cesium.ScreenSpaceEventHandler(drawHelper._scene.canvas);\n\n                handler.setInputAction(function (movement) {\n                    var cartesian = drawHelper._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                    if (cartesian) {\n                        onDrag(cartesian);\n                    } else {\n                        onDragEnd(cartesian);\n                    }\n                }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                handler.setInputAction(function (movement) {\n                    onDragEnd(drawHelper._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                enableRotation(false);\n            });\n\n            enhanceWithListeners(billboard);\n        };\n\n        Cesium.Entity.prototype.setEditable = function (editable) {\n            if (editable === false) {\n                var billboard = this;\n                removeListener(billboard, 'leftDown');\n                this._editable = false;\n                return;\n            }\n\n            if (this.modeType !== 'billboard' || this._editable) {\n                return;\n            }\n\n            this._editable = true;\n\n            var billboard = this;\n\n            var _self = this;\n\n            function enableRotation(enable) {\n                drawHelper._scene.screenSpaceCameraController.enableRotate = enable;\n            }\n\n            setListener(billboard, 'leftDown', function (position) {\n                // TODO - start the drag handlers here\n                // create handlers for mouseOut and leftUp for the billboard and a mouseMove\n                function onDrag(position) {\n                    billboard.position = position;\n                    _self.executeListeners({ name: 'drag', positions: position });\n                }\n\n                function onDragEnd(position) {\n                    handler.destroy();\n                    enableRotation(true);\n                    _self.executeListeners({ name: 'dragEnd', positions: position });\n                }\n\n                var handler = new Cesium.ScreenSpaceEventHandler(drawHelper._scene.canvas);\n\n                handler.setInputAction(function (movement) {\n                    var cartesian = drawHelper._scene.camera.pickEllipsoid(movement.endPosition, ellipsoid);\n                    if (cartesian) {\n                        onDrag(cartesian);\n                    } else {\n                        onDragEnd(cartesian);\n                    }\n                }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n\n                handler.setInputAction(function (movement) {\n                    onDragEnd(drawHelper._scene.camera.pickEllipsoid(movement.position, ellipsoid));\n                }, Cesium.ScreenSpaceEventType.LEFT_UP);\n\n                enableRotation(false);\n            });\n\n            enhanceWithListeners(billboard);\n        };\n\n        function setHighlighted(highlighted) {\n\n            var scene = drawHelper._scene;\n\n            // if no change\n            // if already highlighted, the outline polygon will be available\n            if (this._highlighted && this._highlighted == highlighted) {\n                return;\n            }\n            // disable if already in edit mode\n            if (this._editMode === true) {\n                return;\n            }\n            this._highlighted = highlighted;\n            // highlight by creating an outline polygon matching the polygon points\n            if (highlighted) {\n                // make sure all other shapes are not highlighted\n                drawHelper.setHighlighted(this);\n                this._strokeColor = this.strokeColor;\n                this.setStrokeStyle(Cesium.Color.fromCssColorString('white'), this.strokeWidth);\n            } else {\n                if (this._strokeColor) {\n                    this.setStrokeStyle(this._strokeColor, this.strokeWidth);\n                } else {\n                    this.setStrokeStyle(undefined, undefined);\n                }\n            }\n        }\n\n        function setEditMode(editMode) {\n            // if no change\n            if (this._editMode == editMode) {\n                return;\n            }\n            // make sure all other shapes are not in edit mode before starting the editing of this shape\n            drawHelper.disableAllHighlights();\n            // display markers\n            if (editMode) {\n                drawHelper.setEdited(this);\n                var scene = drawHelper._scene;\n                var _self = this;\n                // create the markers and handlers for the editing\n                if (this._markers == null) {\n\n                    // function for updating the edit markers around a certain point\n                    var updateHalfMarkers = function updateHalfMarkers(index, positions) {\n                        // update the half markers before and after the index\n                        var editIndex = index - 1 < 0 ? positions.length - 1 : index - 1;\n                        if (editIndex < editMarkers.countBillboards()) {\n                            editMarkers.getBillboard(editIndex).position = calculateHalfMarkerPosition(editIndex);\n                        }\n                        editIndex = index;\n                        if (editIndex < editMarkers.countBillboards()) {\n                            editMarkers.getBillboard(editIndex).position = calculateHalfMarkerPosition(editIndex);\n                        }\n                    };\n\n                    var onEdited = function onEdited() {\n                        _self.executeListeners({ name: 'onEdited', positions: _self.positions });\n                    };\n\n                    var calculateHalfMarkerPosition = function calculateHalfMarkerPosition(index) {\n                        var positions = _self.positions;\n                        return ellipsoid.cartographicToCartesian(new Cesium.EllipsoidGeodesic(ellipsoid.cartesianToCartographic(positions[index]), ellipsoid.cartesianToCartographic(positions[index < positions.length - 1 ? index + 1 : 0])).interpolateUsingFraction(0.5));\n                    };\n\n                    var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n                    var thisDragHalfBillboard = this.dragHalfBillboard ? this.dragHalfBillboard : dragBillboard;\n                    var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n                    var editMarkers = new _.BillboardGroup(drawHelper, thisDragHalfBillboard);\n\n                    var handleMarkerChanges = {\n                        dragHandlers: {\n                            onDrag: function onDrag(index, position) {\n                                _self.positions[index] = position;\n                                updateHalfMarkers(index, _self.positions);\n                                _self._createPrimitive = true;\n                            },\n                            onDragEnd: function onDragEnd(index, position) {\n                                _self._createPrimitive = true;\n                                onEdited();\n                            }\n                        },\n                        onDoubleClick: function onDoubleClick(index) {\n                            if (_self.positions.length < 4) {\n                                return;\n                            }\n                            // remove the point and the corresponding markers\n                            _self.positions.splice(index, 1);\n                            _self._createPrimitive = true;\n                            markers.removeBillboard(index);\n                            editMarkers.removeBillboard(index);\n                            updateHalfMarkers(index, _self.positions);\n                            onEdited();\n                        },\n                        tooltip: function tooltip() {\n                            if (_self.positions.length > 3) {\n                                return \"Double click to remove this point\";\n                            }\n                        }\n                    };\n                    // add billboards and keep an ordered list of them for the polygon edges\n                    markers.addBillboards(_self.positions, handleMarkerChanges);\n                    this._markers = markers;\n\n                    var halfPositions = [];\n                    var index = 0;\n                    var length = _self.positions.length + (this.isPolygon ? 0 : -1);\n                    for (; index < length; index++) {\n                        halfPositions.push(calculateHalfMarkerPosition(index));\n                    }\n                    var handleEditMarkerChanges = {\n                        dragHandlers: {\n                            onDragStart: function onDragStart(index, position) {\n                                // add a new position to the polygon but not a new marker yet\n                                this.index = index + 1;\n                                _self.positions.splice(this.index, 0, position);\n                                _self._createPrimitive = true;\n                            },\n                            onDrag: function onDrag(index, position) {\n                                _self.positions[this.index] = position;\n                                _self._createPrimitive = true;\n                            },\n                            onDragEnd: function onDragEnd(index, position) {\n                                // create new sets of makers for editing\n                                markers.insertBillboard(this.index, position, handleMarkerChanges);\n                                editMarkers.getBillboard(this.index - 1).position = calculateHalfMarkerPosition(this.index - 1);\n                                editMarkers.insertBillboard(this.index, calculateHalfMarkerPosition(this.index), handleEditMarkerChanges);\n                                _self._createPrimitive = true;\n                                onEdited();\n                            }\n                        },\n                        tooltip: function tooltip() {\n                            return \"Drag to create a new point\";\n                        }\n                    };\n                    editMarkers.addBillboards(halfPositions, handleEditMarkerChanges);\n                    this._editMarkers = editMarkers;\n                    // add a handler for clicking in the globe\n                    this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                    this._globeClickhandler.setInputAction(function (movement) {\n                        var pickedObject = scene.pick(movement.position);\n                        if (!(pickedObject && pickedObject.primitive)) {\n                            _self.setEditMode(false);\n                        }\n                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                    // set on top of the polygon\n                    markers.setOnTop();\n                    editMarkers.setOnTop();\n                }\n                this._editMode = true;\n            } else {\n                if (this._markers != null) {\n                    this._markers.remove();\n                    this._editMarkers.remove();\n                    this._markers = null;\n                    this._editMarkers = null;\n                    this._globeClickhandler.destroy();\n                }\n                this._editMode = false;\n            }\n        }\n\n        _.PolylinePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var polyline = this;\n            polyline.isPolygon = false;\n            polyline.asynchronous = false;\n\n            drawHelper.registerEditableShape(polyline);\n\n            polyline.setEditMode = setEditMode;\n\n            var originalWidth = this.width;\n\n            polyline.setHighlighted = function (highlighted) {\n                // disable if already in edit mode\n                if (this._editMode === true) {\n                    return;\n                }\n                if (highlighted) {\n                    drawHelper.setHighlighted(this);\n                    this.setWidth(originalWidth * 2);\n                } else {\n                    this.setWidth(originalWidth);\n                }\n            };\n\n            polyline.getExtent = function () {\n                return Cesium.Extent.fromCartographicArray(ellipsoid.cartesianArrayToCartographicArray(this.positions));\n            };\n\n            enhanceWithListeners(polyline);\n\n            polyline.setEditMode(false);\n        };\n\n        _.PolygonPrimitive.prototype.setEditable = function () {\n\n            var polygon = this;\n            polygon.asynchronous = false;\n\n            var scene = drawHelper._scene;\n\n            drawHelper.registerEditableShape(polygon);\n\n            polygon.setEditMode = setEditMode;\n\n            polygon.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(polygon);\n\n            polygon.setEditMode(false);\n        };\n\n        _.ExtentPrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var extent = this;\n            var scene = drawHelper._scene;\n\n            drawHelper.registerEditableShape(extent);\n            extent.asynchronous = false;\n\n            extent.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var onEdited = function onEdited() {\n                            extent.executeListeners({ name: 'onEdited', extent: extent.extent });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n                        var thisDragHalfBillboard = this.dragHalfBillboard ? this.dragHalfBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(thisDragBillboard, thisDragHalfBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    var corner = markers.getBillboard((index + 2) % 4).position;\n                                    extent.setExtent(getExtent(ellipsoid.cartesianToCartographic(corner), ellipsoid.cartesianToCartographic(position)));\n                                    markers.updateBillboardsPositions(getExtentCorners(extent.extent));\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the corners of this extent\";\n                            }\n                        };\n                        markers.addBillboards(getExtentCorners(extent.extent), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            // disable edit if pickedobject is different or not an object\n                            try {\n                                if (!(pickedObject && !pickedObject.isDestroyed() && pickedObject.primitive)) {\n                                    extent.setEditMode(false);\n                                }\n                            } catch (e) {\n                                extent.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            extent.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(extent);\n\n            extent.setEditMode(false);\n        };\n\n        _.EllipsePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var ellipse = this;\n            var scene = drawHelper._scene;\n\n            ellipse.asynchronous = false;\n\n            drawHelper.registerEditableShape(ellipse);\n\n            ellipse.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    var _self = this;\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var getMarkerPositions = function getMarkerPositions() {\n                            return Cesium.Shapes.computeEllipseBoundary(ellipsoid, ellipse.getCenter(), ellipse.getSemiMajorAxis(), ellipse.getSemiMinorAxis(), ellipse.getRotation() + Math.PI / 2, Math.PI / 2.0).splice(0, 4);\n                        };\n\n                        var onEdited = function onEdited() {\n                            ellipse.executeListeners({\n                                name: 'onEdited',\n                                center: ellipse.getCenter(),\n                                semiMajorAxis: ellipse.getSemiMajorAxis(),\n                                semiMinorAxis: ellipse.getSemiMinorAxis(),\n                                rotation: 0\n                            });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    var distance = Cesium.Cartesian3.distance(ellipse.getCenter(), position);\n                                    if (index % 2 == 0) {\n                                        ellipse.setSemiMajorAxis(distance);\n                                    } else {\n                                        ellipse.setSemiMinorAxis(distance);\n                                    }\n                                    markers.updateBillboardsPositions(getMarkerPositions());\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the excentricity and radius\";\n                            }\n                        };\n                        markers.addBillboards(getMarkerPositions(), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            if (!(pickedObject && pickedObject.primitive)) {\n                                _self.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            ellipse.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(ellipse);\n\n            ellipse.setEditMode(false);\n        };\n\n        _.CirclePrimitive.prototype.getCircleCartesianCoordinates = function (granularity) {\n            var geometry = Cesium.CircleOutlineGeometry.createGeometry(new Cesium.CircleOutlineGeometry({\n                ellipsoid: ellipsoid,\n                center: this.getCenter(),\n                radius: this.getRadius(),\n                granularity: granularity\n            }));\n            var count = 0,\n                value,\n                values = [];\n            for (; count < geometry.attributes.position.values.length; count += 3) {\n                value = geometry.attributes.position.values;\n                values.push(new Cesium.Cartesian3(value[count], value[count + 1], value[count + 2]));\n            }\n            return values;\n        };\n\n        _.CirclePrimitive.prototype.setEditable = function () {\n\n            if (this.setEditMode) {\n                return;\n            }\n\n            var circle = this;\n            var scene = drawHelper._scene;\n\n            circle.asynchronous = false;\n\n            drawHelper.registerEditableShape(circle);\n\n            circle.setEditMode = function (editMode) {\n                // if no change\n                if (this._editMode == editMode) {\n                    return;\n                }\n                drawHelper.disableAllHighlights();\n                // display markers\n                if (editMode) {\n                    // make sure all other shapes are not in edit mode before starting the editing of this shape\n                    drawHelper.setEdited(this);\n                    var _self = this;\n                    // create the markers and handlers for the editing\n                    if (this._markers == null) {\n                        var getMarkerPositions = function getMarkerPositions() {\n                            // return _self.getCircleCartesianCoordinates(Cesium.Math.PI_OVER_TWO);\n                            return _self.getCircleCartesianCoordinates(Cesium.Math.PI_OVER_TWO);\n                        };\n\n                        var onEdited = function onEdited() {\n                            circle.executeListeners({\n                                name: 'onEdited',\n                                center: circle.getCenter(),\n                                radius: circle.getRadius()\n                            });\n                        };\n\n                        var thisDragBillboard = this.dragBillboard ? this.dragBillboard : dragBillboard;\n\n                        var markers = new _.BillboardGroup(drawHelper, thisDragBillboard);\n\n                        var handleMarkerChanges = {\n                            dragHandlers: {\n                                onDrag: function onDrag(index, position) {\n                                    circle.setRadius(Cesium.Cartesian3.distance(circle.getCenter(), position));\n                                    markers.updateBillboardsPositions(getMarkerPositions());\n                                },\n                                onDragEnd: function onDragEnd(index, position) {\n                                    onEdited();\n                                }\n                            },\n                            tooltip: function tooltip() {\n                                return \"Drag to change the radius\";\n                            }\n                        };\n                        markers.addBillboards(getMarkerPositions(), handleMarkerChanges);\n                        this._markers = markers;\n                        // add a handler for clicking in the globe\n                        this._globeClickhandler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n                        this._globeClickhandler.setInputAction(function (movement) {\n                            var pickedObject = scene.pick(movement.position);\n                            if (!(pickedObject && pickedObject.primitive)) {\n                                _self.setEditMode(false);\n                            }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n                        // set on top of the polygon\n                        markers.setOnTop();\n                    }\n                    this._editMode = true;\n                } else {\n                    if (this._markers != null) {\n                        this._markers.remove();\n                        this._markers = null;\n                        this._globeClickhandler.destroy();\n                    }\n                    this._editMode = false;\n                }\n            };\n\n            circle.setHighlighted = setHighlighted;\n\n            enhanceWithListeners(circle);\n\n            circle.setEditMode(false);\n        };\n    };\n\n    _.DrawHelperWidget = function () {\n\n        // constructor\n        function _(drawHelper, options) {\n\n            // container must be specified\n            if (!Cesium.defined(options.container)) {\n                throw new Cesium.DeveloperError('Container is required');\n            }\n\n            var drawOptions = {\n                // markerIcon: \"./img/glyphicons_242_google_maps.png\",\n                // polylineIcon: \"./img/glyphicons_097_vector_path_line.png\",\n                // polygonIcon: \"./img/glyphicons_096_vector_path_polygon.png\",\n                // circleIcon: \"./img/glyphicons_095_vector_path_circle.png\",\n                // extentIcon: \"./img/glyphicons_094_vector_path_square.png\",\n                // clearIcon: \"./img/glyphicons_067_cleaning.png\",\n                markerIcon: \" marker\",\n                polylineIcon: \" polyline\",\n                polygonIcon: \" polygon\",\n                circleIcon: \" circle\",\n                extentIcon: \" extent\",\n                clearIcon: \" clear\",\n                polylineDrawingOptions: defaultPolylineOptions,\n                polygonDrawingOptions: defaultPolygonOptions,\n                extentDrawingOptions: defaultExtentOptions,\n                circleDrawingOptions: defaultCircleOptions,\n                strategy: {\n                    pickStrategy: options.pickStrategy ? options.pickStrategy : defaultPickStrategy\n                }\n            };\n\n            fillOptions(options, drawOptions);\n\n            var _self = this;\n\n            var toolbar = document.createElement('DIV');\n            toolbar.className = \"toolbar\";\n            options.container.appendChild(toolbar);\n\n            function addIcon(id, url, title, callback) {\n                var div = document.createElement('DIV');\n                div.className = 'button' + url;\n                div.title = title;\n                toolbar.appendChild(div);\n                div.onclick = callback;\n                // var span = document.createElement('SPAN');\n                // div.appendChild(span);\n                // var image = document.createElement('IMG');\n                // image.src = url;\n                // span.appendChild(image);\n                return div;\n            }\n\n            var scene = drawHelper._scene;\n            // console.log(options.buttons)\n\n            options.buttons.indexOf(\"marker\") !== -1 && addIcon('marker', options.markerIcon, 'Click to start drawing a 2D marker', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'markerClick'\n                });\n\n                drawHelper.startDrawingMarker({\n                    callback: function callback(position) {\n                        _self.executeListeners({ name: 'markerCreated', position: position });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"polyline\") !== -1 && addIcon('polyline', options.polylineIcon, 'Click to start drawing a 2D polyline', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'polylineClick'\n                });\n\n                drawHelper.startDrawingPolyline({\n                    callback: function callback(positions) {\n                        _self.executeListeners({ name: 'polylineCreated', positions: positions });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"polygon\") !== -1 && addIcon('polygon', options.polygonIcon, 'Click to start drawing a 2D polygon', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'polygonClick'\n                });\n\n                drawHelper.startDrawingPolygon({\n                    callback: function callback(positions) {\n                        _self.executeListeners({ name: 'polygonCreated', positions: positions });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"extent\") !== -1 && addIcon('extent', options.extentIcon, 'Click to start drawing an Extent', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'extentClick'\n                });\n\n                drawHelper.startDrawingExtent({\n                    callback: function callback(extent) {\n                        _self.executeListeners({ name: 'extentCreated', extent: extent });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            options.buttons.indexOf(\"circle\") !== -1 && addIcon('circle', options.circleIcon, 'Click to start drawing a Circle', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'circleClick'\n                });\n\n                drawHelper.startDrawingCircle({\n                    callback: function callback(center, radius) {\n                        _self.executeListeners({ name: 'circleCreated', center: center, radius: radius });\n                    },\n                    strategy: options.strategy\n                });\n            });\n\n            // add a clear button at the end\n            // add a divider first\n            var div = document.createElement('DIV');\n            div.className = 'divider';\n            toolbar.appendChild(div);\n\n            options.buttons.indexOf(\"clear\") !== -1 && addIcon('clear', options.clearIcon, 'Remove all primitives', function () {\n                typeof options.clickCallback === 'function' && options.clickCallback({\n                    name: 'clearClick'\n                });\n\n                scene.primitives.removeAll();\n            });\n\n            enhanceWithListeners(this);\n        }\n\n        return _;\n    }();\n\n    /**\r\n     * 新增工具栏点击回调\r\n     * @param container\r\n     * @param options\r\n     * @param {function(event)} options.clickCallback - event.name包括${toolbarName}Click\r\n     * @returns {_|*}\r\n     */\n    _.prototype.addToolbar = function (container, options) {\n        options = copyOptions(options, { container: container });\n        return new _.DrawHelperWidget(this, options);\n    };\n\n    function getExtent(mn, mx) {\n        var e = new Cesium.Rectangle();\n\n        // Re-order so west < east and south < north\n        e.west = Math.min(mn.longitude, mx.longitude);\n        e.east = Math.max(mn.longitude, mx.longitude);\n        e.south = Math.min(mn.latitude, mx.latitude);\n        e.north = Math.max(mn.latitude, mx.latitude);\n\n        // Check for approx equal (shouldn't require abs due to re-order)\n        var epsilon = Cesium.Math.EPSILON7;\n\n        if (e.east - e.west < epsilon) {\n            e.east += epsilon * 2.0;\n        }\n\n        if (e.north - e.south < epsilon) {\n            e.north += epsilon * 2.0;\n        }\n\n        return e;\n    };\n\n    function createTooltip(frameDiv) {\n\n        var tooltip = function tooltip(frameDiv) {\n\n            var div = document.createElement('DIV');\n            div.className = \"twipsy right\";\n\n            var arrow = document.createElement('DIV');\n            arrow.className = \"twipsy-arrow\";\n            div.appendChild(arrow);\n\n            var title = document.createElement('DIV');\n            title.className = \"twipsy-inner\";\n\n            div.appendChild(title);\n\n            this._div = div;\n            this._title = title;\n\n            // add to frame div and display coordinates\n            frameDiv.appendChild(div);\n            this.addEvent();\n            this.setVisible(false);\n        };\n\n        tooltip.prototype.setVisible = function (visible) {\n            this._div.style.display = visible ? 'block' : 'none';\n        };\n\n        tooltip.prototype.showAt = function (position, message) {\n            if (position && message) {\n                this.setVisible(true);\n                this._title.innerHTML = message;\n                // this._div.style.left = position.x + 10 + \"px\";\n                // this._div.style.top = (position.y - this._div.clientHeight / 2) + \"px\";\n            }\n        };\n\n        tooltip.prototype.show = function (message) {\n            if (message) {\n                this.setVisible(true);\n                this._title.innerHTML = message;\n            }\n        };\n\n        /**\r\n         * 解决拖动到tip上时宕机的问题\r\n         */\n        tooltip.prototype.addEvent = function () {\n            var me = this;\n            var count = 0;\n            document.body.addEventListener(\"mousemove\", function (ev) {\n                if (me._div.style.display === 'block' && (count = count++ % 3) === 0) {\n                    me._div.style.left = ev.offsetX + 20 + \"px\";\n                    me._div.style.top = ev.offsetY - me._div.clientHeight / 2 + \"px\";\n                }\n            });\n        };\n\n        return new tooltip(frameDiv);\n    }\n\n    function getDisplayLatLngString(cartographic, precision) {\n        return cartographic.longitude.toFixed(precision || 3) + \", \" + cartographic.latitude.toFixed(precision || 3);\n    }\n\n    function clone(from, to) {\n        if (from == null || (typeof from === 'undefined' ? 'undefined' : _typeof(from)) != \"object\") return from;\n        if (from.constructor != Object && from.constructor != Array) return from;\n        if (from.constructor == Date || from.constructor == RegExp || from.constructor == Function || from.constructor == String || from.constructor == Number || from.constructor == Boolean) return new from.constructor(from);\n\n        to = to || new from.constructor();\n\n        for (var name in from) {\n            to[name] = typeof to[name] == \"undefined\" ? clone(from[name], null) : to[name];\n        }\n\n        return to;\n    }\n\n    function fillOptions(options, defaultOptions) {\n        options = options || {};\n        var option;\n        for (option in defaultOptions) {\n            if (options[option] === undefined) {\n                options[option] = clone(defaultOptions[option]);\n            }\n        }\n    }\n\n    // shallow copy\n    function copyOptions(options, defaultOptions) {\n        var newOptions = clone(options),\n            option;\n        for (option in defaultOptions) {\n            if (newOptions[option] === undefined) {\n                newOptions[option] = clone(defaultOptions[option]);\n            }\n        }\n        return newOptions;\n    }\n\n    function extendOptions(options, defaultOptions) {\n        var newOptions = clone(options),\n            option;\n        for (option in defaultOptions) {\n            newOptions[option] = clone(defaultOptions[option]);\n        }\n        return newOptions;\n    }\n\n    function setListener(primitive, type, callback) {\n        primitive[type] = callback;\n    }\n\n    function removeListener(primitive, type) {\n        delete primitive[type];\n    }\n\n    function enhanceWithListeners(element) {\n\n        element._listeners = {};\n\n        element.addListener = function (name, callback) {\n            this._listeners[name] = this._listeners[name] || [];\n            this._listeners[name].push(callback);\n            return this._listeners[name].length;\n        };\n\n        element.executeListeners = function (event, defaultCallback) {\n            if (this._listeners[event.name] && this._listeners[event.name].length > 0) {\n                var index = 0;\n                for (; index < this._listeners[event.name].length; index++) {\n                    this._listeners[event.name][index](event);\n                }\n            } else {\n                if (defaultCallback) {\n                    defaultCallback(event);\n                }\n            }\n        };\n    }\n\n    /**\r\n     * 获取当前点位的近地点位\r\n     * @param {Cesium.Cartesian3} cesium3\r\n     * @returns {Cesium.Cartesian3}\r\n     */\n    function getCesiumHightZero(cesium3) {\n        var fromCartesian = Cesium.Cartographic.fromCartesian(cesium3);\n        return Cesium.Cartesian3.fromRadians(fromCartesian.longitude, fromCartesian.latitude, 0);\n    }\n\n    return _;\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(21)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmpzPzc0ZDIiXSwibmFtZXMiOlsid2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwid2luZG93IiwiQ2VzaXVtIiwiZWxsaXBzb2lkIiwiRWxsaXBzb2lkIiwiV0dTODQiLCJkZWZhdWx0UGlja1N0cmF0ZWd5IiwicG9zaXRpb24iLCJ2aWV3ZXIiLCJzY2VuZSIsImNhbWVyYSIsInBpY2tFbGxpcHNvaWQiLCJfIiwiY2VzaXVtV2lkZ2V0IiwiX3ZpZXdlciIsIl9zY2VuZSIsIl90b29sdGlwIiwiY3JlYXRlVG9vbHRpcCIsImNvbnRhaW5lciIsIl9zdXJmYWNlcyIsImRlZmluZWQiLCJDb250ZXh0TGltaXRzIiwiX21heGltdW1BbGlhc2VkTGluZVdpZHRoIiwiaW5pdGlhbGlzZUhhbmRsZXJzIiwiZW5oYW5jZVByaW1pdGl2ZXMiLCJlbmhhbmNlV2l0aExpc3RlbmVycyIsInByb3RvdHlwZSIsIl9zZWxmIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwiY2FudmFzIiwiY2FsbFByaW1pdGl2ZUNhbGxiYWNrIiwibmFtZSIsIl9oYW5kbGVyc011dGVkIiwicGlja2VkT2JqZWN0IiwicGljayIsInByaW1pdGl2ZSIsImlkIiwiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsIm1hdGNoIiwic2V0SW5wdXRBY3Rpb24iLCJtb3ZlbWVudCIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsIkxFRlRfRE9VQkxFX0NMSUNLIiwibW91c2VPdXRPYmplY3QiLCJtYXJrUG9zaXRpb24iLCJ4IiwiZW5kUG9zaXRpb24iLCJ5IiwiaXNEZXN0cm95ZWQiLCJtb3VzZU91dCIsIm1vdXNlTW92ZSIsIk1PVVNFX01PVkUiLCJMRUZUX1VQIiwiTEVGVF9ET1dOIiwic2V0TGlzdGVuZXIiLCJ0eXBlIiwiY2FsbGJhY2siLCJtdXRlSGFuZGxlcnMiLCJtdXRlZCIsInJlZ2lzdGVyRWRpdGFibGVTaGFwZSIsInN1cmZhY2UiLCJzZXRIaWdobGlnaHRlZCIsIl9lZGl0TW9kZSIsInNob3dBdCIsInNldFZpc2libGUiLCJzZXRFZGl0TW9kZSIsInN0YXJ0RHJhd2luZyIsImNsZWFuVXAiLCJkaXNhYmxlQWxsRWRpdE1vZGUiLCJlZGl0Q2xlYW5VcCIsInN0b3BEcmF3aW5nIiwiZGlzYWJsZUFsbEhpZ2hsaWdodHMiLCJ1bmRlZmluZWQiLCJfaGlnaGxpZ2h0ZWRTdXJmYWNlIiwic2V0RWRpdGVkIiwiX2VkaXRlZFN1cmZhY2UiLCJtYXRlcmlhbCIsIk1hdGVyaWFsIiwiZnJvbVR5cGUiLCJDb2xvclR5cGUiLCJ1bmlmb3JtcyIsImNvbG9yIiwiQ29sb3IiLCJkZWZhdWx0U2hhcGVPcHRpb25zIiwidGV4dHVyZVJvdGF0aW9uQW5nbGUiLCJoZWlnaHQiLCJhc3luY2hyb25vdXMiLCJzaG93IiwiZGVidWdTaG93Qm91bmRpbmdWb2x1bWUiLCJzdHJhdGVneSIsInBpY2tTdHJhdGVneSIsImRlZmF1bHRTdXJmYWNlT3B0aW9ucyIsImNvcHlPcHRpb25zIiwiYXBwZWFyYW5jZSIsIkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlIiwiYWJvdmVHcm91bmQiLCJncmFudWxhcml0eSIsIk1hdGgiLCJQSSIsImRlZmF1bHRQb2x5Z29uT3B0aW9ucyIsImRlZmF1bHRFeHRlbnRPcHRpb25zIiwiZGVmYXVsdENpcmNsZU9wdGlvbnMiLCJkZWZhdWx0RWxsaXBzZU9wdGlvbnMiLCJyb3RhdGlvbiIsImRlZmF1bHRQb2x5bGluZU9wdGlvbnMiLCJ3aWR0aCIsImdlb2Rlc2ljIiwiUG9seWxpbmVNYXRlcmlhbEFwcGVhcmFuY2UiLCJDaGFuZ2VhYmxlUHJpbWl0aXZlIiwiaW5pdGlhbGlzZU9wdGlvbnMiLCJvcHRpb25zIiwiZmlsbE9wdGlvbnMiLCJfZWxsaXBzb2lkIiwiX2dyYW51bGFyaXR5IiwiX2hlaWdodCIsIl90ZXh0dXJlUm90YXRpb25BbmdsZSIsIl9pZCIsIl9jcmVhdGVQcmltaXRpdmUiLCJfcHJpbWl0aXZlIiwiX291dGxpbmVQb2x5Z29uIiwic2V0QXR0cmlidXRlIiwidmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJ1cGRhdGUiLCJjb250ZXh0IiwiZnJhbWVTdGF0ZSIsImNvbW1hbmRMaXN0IiwiRGV2ZWxvcGVyRXJyb3IiLCJnZW9tZXRyeSIsImdldEdlb21ldHJ5IiwiZGVzdHJveSIsIm1lIiwiUHJpbWl0aXZlIiwiZ2VvbWV0cnlJbnN0YW5jZXMiLCJHZW9tZXRyeUluc3RhbmNlIiwicGlja1ByaW1pdGl2ZSIsInN0cm9rZUNvbG9yIiwiZ2V0T3V0bGluZUdlb21ldHJ5IiwiYXR0cmlidXRlcyIsIkNvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSIsImZyb21Db2xvciIsIlBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlIiwiZmxhdCIsInJlbmRlclN0YXRlIiwiZGVwdGhUZXN0IiwiZW5hYmxlZCIsImxpbmVXaWR0aCIsIm1pbiIsInN0cm9rZVdpZHRoIiwiZGVzdHJveU9iamVjdCIsInNldFN0cm9rZVN0eWxlIiwiZXF1YWxzIiwiRXh0ZW50UHJpbWl0aXZlIiwiZXh0ZW50Iiwic2V0RXh0ZW50IiwiZ2V0RXh0ZW50IiwiUmVjdGFuZ2xlR2VvbWV0cnkiLCJyZWN0YW5nbGUiLCJ2ZXJ0ZXhGb3JtYXQiLCJWRVJURVhfRk9STUFUIiwic3RSb3RhdGlvbiIsIlJlY3RhbmdsZU91dGxpbmVHZW9tZXRyeSIsIlBvbHlnb25QcmltaXRpdmUiLCJpc1BvbHlnb24iLCJzZXRQb3NpdGlvbnMiLCJwb3NpdGlvbnMiLCJnZXRQb3NpdGlvbnMiLCJsZW5ndGgiLCJQb2x5Z29uR2VvbWV0cnkiLCJmcm9tUG9zaXRpb25zIiwiUG9seWdvbk91dGxpbmVHZW9tZXRyeSIsIkNpcmNsZVByaW1pdGl2ZSIsImNlbnRlciIsInJhZGl1cyIsInNldFJhZGl1cyIsInNldENlbnRlciIsIm1heCIsImdldENlbnRlciIsImdldFJhZGl1cyIsIkNpcmNsZUdlb21ldHJ5IiwiQ2lyY2xlT3V0bGluZUdlb21ldHJ5IiwiRWxsaXBzZVByaW1pdGl2ZSIsInNlbWlNYWpvckF4aXMiLCJzZW1pTWlub3JBeGlzIiwic2V0U2VtaU1ham9yQXhpcyIsImdldFNlbWlNaW5vckF4aXMiLCJzZXRTZW1pTWlub3JBeGlzIiwiZ2V0U2VtaU1ham9yQXhpcyIsInNldFJvdGF0aW9uIiwiZ2V0Um90YXRpb24iLCJFbGxpcHNlR2VvbWV0cnkiLCJFbGxpcHNlT3V0bGluZUdlb21ldHJ5IiwiUG9seWxpbmVQcmltaXRpdmUiLCJzZXRXaWR0aCIsInNldEdlb2Rlc2ljIiwiZ2V0V2lkdGgiLCJnZXRHZW9kZXNpYyIsIlBvbHlsaW5lR2VvbWV0cnkiLCJkZWZhdWx0QmlsbGJvYXJkIiwiaWNvblVybCIsInNoaWZ0WCIsInNoaWZ0WSIsImRyYWdCaWxsYm9hcmQiLCJkcmFnSGFsZkJpbGxib2FyZCIsImNyZWF0ZUJpbGxib2FyZEdyb3VwIiwicG9pbnRzIiwiY2FsbGJhY2tzIiwibWFya2VycyIsIkJpbGxib2FyZEdyb3VwIiwiYWRkQmlsbGJvYXJkcyIsImRyYXdIZWxwZXIiLCJfZHJhd0hlbHBlciIsIl9vcHRpb25zIiwiYiIsIkJpbGxib2FyZENvbGxlY3Rpb24iLCJwcmltaXRpdmVzIiwiYWRkIiwiX2JpbGxib2FyZHMiLCJfb3JkZXJlZEJpbGxib2FyZHMiLCJjcmVhdGVCaWxsYm9hcmQiLCJiaWxsYm9hcmQiLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJleWVPZmZzZXQiLCJDYXJ0ZXNpYW4zIiwiaG9yaXpvbnRhbE9yaWdpbiIsIkhvcml6b250YWxPcmlnaW4iLCJDRU5URVIiLCJ2ZXJ0aWNhbE9yaWdpbiIsIlZlcnRpY2FsT3JpZ2luIiwic2NhbGUiLCJpbWFnZSIsImVuYWJsZVJvdGF0aW9uIiwiZW5hYmxlIiwic2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyIiwiZW5hYmxlUm90YXRlIiwiZ2V0SW5kZXgiLCJpIiwiSSIsImRyYWdIYW5kbGVycyIsIm9uRHJhZyIsIm9uRHJhZ0VuZCIsImNhcnRlc2lhbiIsIm9uRHJhZ1N0YXJ0Iiwib25Eb3VibGVDbGljayIsIm9uQ2xpY2siLCJ0b29sdGlwIiwiaW5zZXJ0QmlsbGJvYXJkIiwiaW5kZXgiLCJzcGxpY2UiLCJhZGRCaWxsYm9hcmQiLCJwdXNoIiwidXBkYXRlQmlsbGJvYXJkc1Bvc2l0aW9ucyIsImdldEJpbGxib2FyZCIsImNvdW50QmlsbGJvYXJkcyIsInJlbW92ZUJpbGxib2FyZCIsInJlbW92ZSIsInJlbW92ZUFsbCIsInNldE9uVG9wIiwicmFpc2VUb1RvcCIsInN0YXJ0RHJhd2luZ01hcmtlciIsIm1vdXNlSGFuZGxlciIsImdldERpc3BsYXlMYXRMbmdTdHJpbmciLCJjYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyIsInN0YXJ0RHJhd2luZ1BvbHlnb24iLCJzdGFydERyYXdpbmdQb2x5c2hhcGUiLCJzdGFydERyYXdpbmdQb2x5bGluZSIsInBvbHkiLCJtaW5Qb2ludHMiLCJnZXRDZXNpdW1IaWdodFplcm8iLCJjbG9uZSIsInBvcCIsIkVQU0lMT043IiwiZ2V0RXh0ZW50Q29ybmVycyIsImNhcnRvZ3JhcGhpY0FycmF5VG9DYXJ0ZXNpYW5BcnJheSIsIlJlY3RhbmdsZSIsIm5vcnRod2VzdCIsIm5vcnRoZWFzdCIsInNvdXRoZWFzdCIsInNvdXRod2VzdCIsInN0YXJ0RHJhd2luZ0V4dGVudCIsImZpcnN0UG9pbnQiLCJ1cGRhdGVFeHRlbnQiLCJjb3JuZXJzIiwic3RhcnREcmF3aW5nQ2lyY2xlIiwiY2lyY2xlIiwicGlja1Bvc2l0aW9uIiwiZGlzdGFuY2UiLCJCaWxsYm9hcmQiLCJzZXRFZGl0YWJsZSIsIl9lZGl0YWJsZSIsImV4ZWN1dGVMaXN0ZW5lcnMiLCJFbnRpdHkiLCJlZGl0YWJsZSIsInJlbW92ZUxpc3RlbmVyIiwibW9kZVR5cGUiLCJoaWdobGlnaHRlZCIsIl9oaWdobGlnaHRlZCIsIl9zdHJva2VDb2xvciIsImZyb21Dc3NDb2xvclN0cmluZyIsImVkaXRNb2RlIiwiX21hcmtlcnMiLCJ1cGRhdGVIYWxmTWFya2VycyIsImVkaXRJbmRleCIsImVkaXRNYXJrZXJzIiwiY2FsY3VsYXRlSGFsZk1hcmtlclBvc2l0aW9uIiwib25FZGl0ZWQiLCJjYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbiIsIkVsbGlwc29pZEdlb2Rlc2ljIiwiaW50ZXJwb2xhdGVVc2luZ0ZyYWN0aW9uIiwidGhpc0RyYWdCaWxsYm9hcmQiLCJ0aGlzRHJhZ0hhbGZCaWxsYm9hcmQiLCJoYW5kbGVNYXJrZXJDaGFuZ2VzIiwiaGFsZlBvc2l0aW9ucyIsImhhbmRsZUVkaXRNYXJrZXJDaGFuZ2VzIiwiX2VkaXRNYXJrZXJzIiwiX2dsb2JlQ2xpY2toYW5kbGVyIiwicG9seWxpbmUiLCJvcmlnaW5hbFdpZHRoIiwiRXh0ZW50IiwiZnJvbUNhcnRvZ3JhcGhpY0FycmF5IiwiY2FydGVzaWFuQXJyYXlUb0NhcnRvZ3JhcGhpY0FycmF5IiwicG9seWdvbiIsImNvcm5lciIsImUiLCJlbGxpcHNlIiwiZ2V0TWFya2VyUG9zaXRpb25zIiwiU2hhcGVzIiwiY29tcHV0ZUVsbGlwc2VCb3VuZGFyeSIsImdldENpcmNsZUNhcnRlc2lhbkNvb3JkaW5hdGVzIiwiY3JlYXRlR2VvbWV0cnkiLCJjb3VudCIsInZhbHVlcyIsIlBJX09WRVJfVFdPIiwiRHJhd0hlbHBlcldpZGdldCIsImRyYXdPcHRpb25zIiwibWFya2VySWNvbiIsInBvbHlsaW5lSWNvbiIsInBvbHlnb25JY29uIiwiY2lyY2xlSWNvbiIsImV4dGVudEljb24iLCJjbGVhckljb24iLCJwb2x5bGluZURyYXdpbmdPcHRpb25zIiwicG9seWdvbkRyYXdpbmdPcHRpb25zIiwiZXh0ZW50RHJhd2luZ09wdGlvbnMiLCJjaXJjbGVEcmF3aW5nT3B0aW9ucyIsInRvb2xiYXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsImFkZEljb24iLCJ1cmwiLCJ0aXRsZSIsImRpdiIsIm9uY2xpY2siLCJidXR0b25zIiwiaW5kZXhPZiIsImNsaWNrQ2FsbGJhY2siLCJhZGRUb29sYmFyIiwibW4iLCJteCIsIndlc3QiLCJsb25naXR1ZGUiLCJlYXN0Iiwic291dGgiLCJsYXRpdHVkZSIsIm5vcnRoIiwiZXBzaWxvbiIsImZyYW1lRGl2IiwiYXJyb3ciLCJfZGl2IiwiX3RpdGxlIiwiYWRkRXZlbnQiLCJ2aXNpYmxlIiwic3R5bGUiLCJkaXNwbGF5IiwibWVzc2FnZSIsImlubmVySFRNTCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJsZWZ0Iiwib2Zmc2V0WCIsInRvcCIsIm9mZnNldFkiLCJjbGllbnRIZWlnaHQiLCJjYXJ0b2dyYXBoaWMiLCJwcmVjaXNpb24iLCJ0b0ZpeGVkIiwiZnJvbSIsInRvIiwiT2JqZWN0IiwiQXJyYXkiLCJEYXRlIiwiUmVnRXhwIiwiRnVuY3Rpb24iLCJTdHJpbmciLCJOdW1iZXIiLCJCb29sZWFuIiwiZGVmYXVsdE9wdGlvbnMiLCJvcHRpb24iLCJuZXdPcHRpb25zIiwiZXh0ZW5kT3B0aW9ucyIsImVsZW1lbnQiLCJfbGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsImRlZmF1bHRDYWxsYmFjayIsImNlc2l1bTMiLCJmcm9tQ2FydGVzaWFuIiwiQ2FydG9ncmFwaGljIiwiZnJvbVJhZGlhbnMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQyxVQUFTQSxnQ0FBVCxDQUEwQ0MsSUFBMUMsRUFBZ0RDLE9BQWhELEVBQXlEO0FBQ3RELFFBQUksOEJBQU9DLE9BQVAsT0FBbUIsUUFBbkIsSUFBK0IsOEJBQU9DLE1BQVAsT0FBa0IsUUFBckQsRUFDSUEsT0FBT0QsT0FBUCxHQUFpQkQsUUFBUUcsbUJBQU9BLENBQUMsQ0FBUixDQUFSLENBQWpCLENBREosS0FFSyxJQUFJLElBQUosRUFDREMsaUNBQXFCLENBQUMsc0JBQUQsQ0FBckIsb0NBQWlDSixPQUFqQztBQUFBO0FBQUE7QUFB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SUMsZ0JBQWdCM1osT0FBTzRaLFlBQVAsQ0FBb0JELGFBQXBCLENBQWtDRCxPQUFsQyxDQUFwQjtBQUNBLGVBQU8xWixPQUFPaU8sVUFBUCxDQUFrQjRMLFdBQWxCLENBQThCRixjQUFjL0MsU0FBNUMsRUFBdUQrQyxjQUFjNUMsUUFBckUsRUFBK0UsQ0FBL0UsQ0FBUDtBQUNIOztBQUdELFdBQU9yVyxDQUFQO0FBQ0gsQ0Fsb0VBLENBQUQsQyIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHRob21hcyBvbiA5LzAxLzE0LlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogKGMpIHd3dy5nZW9jZW50by5jb21cclxuICogd3d3Lm1ldGFhcHMuY29tXHJcbiAqIDxwcmU+XHJcbiAqICAgICAgdXBkYXRlOlxyXG4gKiAgICAgICAgICAyMDE4LTktMTc6XHJcbiAqICAgICAgICAgICAgICAtIHBpY2tTdHJhdGVneeWxnuaAp+WFvOWuueaAp1xyXG4gKiAgICAgICAgICAgICAgLSDpgILphY1zdG9wRHJhd2luZ+WcqOacquW8gOWni+agh+e7mOeahOaDheWGtVxyXG4gKiAgICAgICAgICAyMDE5LTktMjQ6XHJcbiAqICAgICAgICAgICAgICAtIOWvueWxnuaAp+W4puaciW1vZGVUeXBlOmJpbGxib2FyZOeahGVudGl0eeWKoOWFpXNldEVkaXRhYmxlKGJvb2xlYW4p55qE5pa55rOVLOeUqOS6juaUueWPmOS9jee9rlxyXG4gKiA8L3ByZT5cclxuICpcclxuICovXHJcbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxyXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdDZXNpdW0nKSk7XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXHJcbiAgICAgICAgZGVmaW5lKCdEcmF3SGVscGVyJywgWydDZXNpdW0nXSwgZmFjdG9yeSk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByb290LkRyYXdIZWxwZXIgPSBmYWN0b3J5KHJvb3QuQ2VzaXVtKTtcclxuICAgIH1cclxufSh3aW5kb3csIGZ1bmN0aW9uIChDZXNpdW0pIHtcclxuICAgIC8vIHN0YXRpYyB2YXJpYWJsZXNcclxuICAgIHZhciBlbGxpcHNvaWQgPSBDZXNpdW0uRWxsaXBzb2lkLldHUzg0O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7IENlc2l1bS5DYXJ0ZXNpYW4yfSBwb3NpdGlvblxyXG4gICAgICogQHBhcmFtIHtDZXNpdW0uVmlld2VyfSB2aWV3ZXJcclxuICAgICAqIEByZXR1cm4ge0Nlc2l1bS5DYXJ0ZXNpYW4zfVxyXG4gICAgICovXHJcbiAgICB2YXIgZGVmYXVsdFBpY2tTdHJhdGVneSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmlld2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gY2VzaXVtV2lkZ2V0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfKGNlc2l1bVdpZGdldCkge1xyXG4gICAgICAgIHRoaXMuX3ZpZXdlciA9IGNlc2l1bVdpZGdldDtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IGNlc2l1bVdpZGdldC5zY2VuZTtcclxuICAgICAgICB0aGlzLl90b29sdGlwID0gY3JlYXRlVG9vbHRpcChjZXNpdW1XaWRnZXQuY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLl9zdXJmYWNlcyA9IFtdO1xyXG4gICAgICAgIC8v6YCC6YWNXHJcbiAgICAgICAgKENlc2l1bS5kZWZpbmVkKENlc2l1bS5Db250ZXh0TGltaXRzKSkgJiYgKFxyXG4gICAgICAgICAgICBDZXNpdW0uQ29udGV4dExpbWl0cy5fbWF4aW11bUFsaWFzZWRMaW5lV2lkdGggPSAxMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZUhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5oYW5jZVByaW1pdGl2ZXMoKTtcclxuICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5pbml0aWFsaXNlSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAvLyBzY2VuZSBldmVudHNcclxuICAgICAgICB2YXIgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoc2NlbmUuY2FudmFzKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2FsbFByaW1pdGl2ZUNhbGxiYWNrKG5hbWUsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChfc2VsZi5faGFuZGxlcnNNdXRlZCA9PSB0cnVlKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHBpY2tlZE9iamVjdCAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlICYmIHBpY2tlZE9iamVjdC5wcmltaXRpdmVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHBpY2tlZE9iamVjdC5wcmltaXRpdmVbbmFtZV0ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwaWNrZWRPYmplY3QgJiYgcGlja2VkT2JqZWN0LmlkICYmIHBpY2tlZE9iamVjdC5pZC5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9eZnVuY3Rpb25cXHMqKFteXFxzKF0rKS8pWzFdID09PSBcIkVudGl0eVwiICYmIHBpY2tlZE9iamVjdC5pZFtuYW1lXSl7XHJcbiAgICAgICAgICAgICAgICBwaWNrZWRPYmplY3QuaWRbbmFtZV0ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsUHJpbWl0aXZlQ2FsbGJhY2soJ2xlZnRDbGljaycsIG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrKCdsZWZ0RG91YmxlQ2xpY2snLCBtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0RPVUJMRV9DTElDSyk7XHJcbiAgICAgICAgdmFyIG1vdXNlT3V0T2JqZWN0O1xyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hcmtQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiBtb3ZlbWVudC5lbmRQb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IG1vdmVtZW50LmVuZFBvc2l0aW9uLnlcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zZWxmLl9oYW5kbGVyc011dGVkID09IHRydWUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKG1hcmtQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAobW91c2VPdXRPYmplY3QgJiYgKCFwaWNrZWRPYmplY3QgfHwgbW91c2VPdXRPYmplY3QgIT0gcGlja2VkT2JqZWN0LnByaW1pdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAhKG1vdXNlT3V0T2JqZWN0LmlzRGVzdHJveWVkICYmIG1vdXNlT3V0T2JqZWN0LmlzRGVzdHJveWVkKCkpICYmIG1vdXNlT3V0T2JqZWN0Lm1vdXNlT3V0KG1hcmtQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VPdXRPYmplY3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBpY2tlZE9iamVjdCAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlja2VkT2JqZWN0ID0gcGlja2VkT2JqZWN0LnByaW1pdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0Lm1vdXNlT3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlT3V0T2JqZWN0ID0gcGlja2VkT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGlja2VkT2JqZWN0Lm1vdXNlTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWNrZWRPYmplY3QubW91c2VNb3ZlKG1hcmtQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcbiAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbihcclxuICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsUHJpbWl0aXZlQ2FsbGJhY2soJ2xlZnRVcCcsIG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfVVApO1xyXG4gICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbFByaW1pdGl2ZUNhbGxiYWNrKCdsZWZ0RG93bicsIG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9XTik7XHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc2V0TGlzdGVuZXIgPSBmdW5jdGlvbiAocHJpbWl0aXZlLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHByaW1pdGl2ZVt0eXBlXSA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLm11dGVIYW5kbGVycyA9IGZ1bmN0aW9uIChtdXRlZCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzTXV0ZWQgPSBtdXRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGluZyBmb3IgYW4gZWRpdGFibGUgc2hhcGVcclxuICAgIC8vIHNoYXBlIHNob3VsZCBpbXBsZW1lbnQgc2V0RWRpdE1vZGUgYW5kIHNldEhpZ2hsaWdodGVkXHJcbiAgICBfLnByb3RvdHlwZS5yZWdpc3RlckVkaXRhYmxlU2hhcGUgPSBmdW5jdGlvbiAoc3VyZmFjZSkge1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZXJzIGZvciBpbnRlcmFjdGlvbnNcclxuICAgICAgICAvLyBoaWdobGlnaHQgcG9seWdvbiB3aGVuIG1vdXNlIGlzIGVudGVyaW5nXHJcbiAgICAgICAgc2V0TGlzdGVuZXIoc3VyZmFjZSwgJ21vdXNlTW92ZScsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzdXJmYWNlLnNldEhpZ2hsaWdodGVkKHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoIXN1cmZhY2UuX2VkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi5fdG9vbHRpcC5zaG93QXQocG9zaXRpb24sIFwiQ2xpY2sgdG8gZWRpdCB0aGlzIHNoYXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gaGlkZSB0aGUgaGlnaGxpZ2h0aW5nIHdoZW4gbW91c2UgaXMgbGVhdmluZyB0aGUgcG9seWdvblxyXG4gICAgICAgIHNldExpc3RlbmVyKHN1cmZhY2UsICdtb3VzZU91dCcsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzdXJmYWNlLnNldEhpZ2hsaWdodGVkKGZhbHNlKTtcclxuICAgICAgICAgICAgX3NlbGYuX3Rvb2x0aXAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0TGlzdGVuZXIoc3VyZmFjZSwgJ2xlZnRDbGljaycsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzdXJmYWNlLnNldEVkaXRNb2RlKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnN0YXJ0RHJhd2luZyA9IGZ1bmN0aW9uIChjbGVhblVwKSB7XHJcbiAgICAgICAgLy8gdW5kbyBhbnkgY3VycmVudCBlZGl0IG9mIHNoYXBlc1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUFsbEVkaXRNb2RlKCk7XHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNsZWFuVXAgZmlyc3RcclxuICAgICAgICBpZiAodGhpcy5lZGl0Q2xlYW5VcCkge1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRDbGVhblVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWRpdENsZWFuVXAgPSBjbGVhblVwO1xyXG4gICAgICAgIHRoaXMubXV0ZUhhbmRsZXJzKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnN0b3BEcmF3aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNoZWNrIGZvciBjbGVhblVwIGZpcnN0XHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdENsZWFuVXApIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0Q2xlYW5VcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRDbGVhblVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tdXRlSGFuZGxlcnMoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG1ha2Ugc3VyZSBvbmx5IG9uZSBzaGFwZSBpcyBoaWdobGlnaHRlZCBhdCBhIHRpbWVcclxuICAgIF8ucHJvdG90eXBlLmRpc2FibGVBbGxIaWdobGlnaHRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0SGlnaGxpZ2h0ZWQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zZXRIaWdobGlnaHRlZCA9IGZ1bmN0aW9uIChzdXJmYWNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hpZ2hsaWdodGVkU3VyZmFjZSAmJiAhdGhpcy5faGlnaGxpZ2h0ZWRTdXJmYWNlLmlzRGVzdHJveWVkKCkgJiYgdGhpcy5faGlnaGxpZ2h0ZWRTdXJmYWNlICE9IHN1cmZhY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0ZWRTdXJmYWNlLnNldEhpZ2hsaWdodGVkKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0ZWRTdXJmYWNlID0gc3VyZmFjZTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5kaXNhYmxlQWxsRWRpdE1vZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFZGl0ZWQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zZXRFZGl0ZWQgPSBmdW5jdGlvbiAoc3VyZmFjZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9lZGl0ZWRTdXJmYWNlICYmICF0aGlzLl9lZGl0ZWRTdXJmYWNlLmlzRGVzdHJveWVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWRpdGVkU3VyZmFjZS5zZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VkaXRlZFN1cmZhY2UgPSBzdXJmYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBtYXRlcmlhbCA9IENlc2l1bS5NYXRlcmlhbC5mcm9tVHlwZShDZXNpdW0uTWF0ZXJpYWwuQ29sb3JUeXBlKTtcclxuICAgIG1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yID0gbmV3IENlc2l1bS5Db2xvcigxLjAsIDEuMCwgMC4wLCAwLjUpO1xyXG5cclxuICAgIHZhciBkZWZhdWx0U2hhcGVPcHRpb25zID0ge1xyXG4gICAgICAgIGVsbGlwc29pZDogQ2VzaXVtLkVsbGlwc29pZC5XR1M4NCxcclxuICAgICAgICB0ZXh0dXJlUm90YXRpb25BbmdsZTogMC4wLFxyXG4gICAgICAgIGhlaWdodDogMC4wLFxyXG4gICAgICAgIGFzeW5jaHJvbm91czogdHJ1ZSxcclxuICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgIGRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lOiBmYWxzZSxcclxuICAgICAgICBzdHJhdGVneToge1xyXG4gICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IGRlZmF1bHRQaWNrU3RyYXRlZ3lcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRTdXJmYWNlT3B0aW9ucyA9IGNvcHlPcHRpb25zKGRlZmF1bHRTaGFwZU9wdGlvbnMsIHtcclxuICAgICAgICBhcHBlYXJhbmNlOiBuZXcgQ2VzaXVtLkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlKHtcclxuICAgICAgICAgICAgYWJvdmVHcm91bmQ6IGZhbHNlXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsLFxyXG4gICAgICAgIGdyYW51bGFyaXR5OiBNYXRoLlBJIC8gMTgwLjAsXHJcbiAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBkZWZhdWx0UGlja1N0cmF0ZWd5XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGRlZmF1bHRQb2x5Z29uT3B0aW9ucyA9IGNvcHlPcHRpb25zKGRlZmF1bHRTaGFwZU9wdGlvbnMsIHt9KTtcclxuICAgIHZhciBkZWZhdWx0RXh0ZW50T3B0aW9ucyA9IGNvcHlPcHRpb25zKGRlZmF1bHRTaGFwZU9wdGlvbnMsIHt9KTtcclxuICAgIHZhciBkZWZhdWx0Q2lyY2xlT3B0aW9ucyA9IGNvcHlPcHRpb25zKGRlZmF1bHRTaGFwZU9wdGlvbnMsIHt9KTtcclxuICAgIHZhciBkZWZhdWx0RWxsaXBzZU9wdGlvbnMgPSBjb3B5T3B0aW9ucyhkZWZhdWx0U3VyZmFjZU9wdGlvbnMsIHtyb3RhdGlvbjogMH0pO1xyXG5cclxuICAgIHZhciBkZWZhdWx0UG9seWxpbmVPcHRpb25zID0gY29weU9wdGlvbnMoZGVmYXVsdFNoYXBlT3B0aW9ucywge1xyXG4gICAgICAgIHdpZHRoOiA1LFxyXG4gICAgICAgIGdlb2Rlc2ljOiB0cnVlLFxyXG4gICAgICAgIGdyYW51bGFyaXR5OiAxMDAwMCxcclxuICAgICAgICBhcHBlYXJhbmNlOiBuZXcgQ2VzaXVtLlBvbHlsaW5lTWF0ZXJpYWxBcHBlYXJhbmNlKHtcclxuICAgICAgICAgICAgYWJvdmVHcm91bmQ6IGZhbHNlXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsXHJcbiAgICB9KTtcclxuXHJcblxyXG4vLyAgICBDZXNpdW0uUG9seWdvbi5wcm90b3R5cGUuc2V0U3Ryb2tlU3R5bGUgPSBzZXRTdHJva2VTdHlsZTtcclxuLy9cclxuLy8gICAgQ2VzaXVtLlBvbHlnb24ucHJvdG90eXBlLmRyYXdPdXRsaW5lID0gZHJhd091dGxpbmU7XHJcbi8vXHJcblxyXG4gICAgdmFyIENoYW5nZWFibGVQcmltaXRpdmUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIF8oKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5pbml0aWFsaXNlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBmaWxsT3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2VsbGlwc29pZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhbnVsYXJpdHkgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVJvdGF0aW9uQW5nbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IHRoZSBmbGFncyB0byBpbml0aWF0ZSBhIGZpcnN0IGRyYXdpbmdcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fcHJpbWl0aXZlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLl9vdXRsaW5lUG9seWdvbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVQcmltaXRpdmUgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgXy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUsIGNvbW1hbmRMaXN0KSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUNlc2l1bS5kZWZpbmVkKHRoaXMuZWxsaXBzb2lkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENlc2l1bS5EZXZlbG9wZXJFcnJvcigndGhpcy5lbGxpcHNvaWQgbXVzdCBiZSBkZWZpbmVkLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIUNlc2l1bS5kZWZpbmVkKHRoaXMuYXBwZWFyYW5jZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDZXNpdW0uRGV2ZWxvcGVyRXJyb3IoJ3RoaXMubWF0ZXJpYWwgbXVzdCBiZSBkZWZpbmVkLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ncmFudWxhcml0eSA8IDAuMCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENlc2l1bS5EZXZlbG9wZXJFcnJvcigndGhpcy5ncmFudWxhcml0eSBhbmQgc2NlbmUyRC9zY2VuZTNEIG92ZXJyaWRlcyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NyZWF0ZVByaW1pdGl2ZSAmJiAoIUNlc2l1bS5kZWZpbmVkKHRoaXMuX3ByaW1pdGl2ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBwb3NpdGlvbnMvaGllcmFyY2h5IHRvIGRyYXdcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NyZWF0ZVByaW1pdGl2ZSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuX2VsbGlwc29pZCAhPT0gdGhpcy5lbGxpcHNvaWQpIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5fZ3JhbnVsYXJpdHkgIT09IHRoaXMuZ3JhbnVsYXJpdHkpIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy5faGVpZ2h0ICE9PSB0aGlzLmhlaWdodCkgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLl90ZXh0dXJlUm90YXRpb25BbmdsZSAhPT0gdGhpcy50ZXh0dXJlUm90YXRpb25BbmdsZSkgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLl9pZCAhPT0gdGhpcy5pZCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVByaW1pdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxsaXBzb2lkID0gdGhpcy5lbGxpcHNvaWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVSb3RhdGlvbkFuZ2xlID0gdGhpcy50ZXh0dXJlUm90YXRpb25BbmdsZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lkID0gdGhpcy5pZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmltaXRpdmUgPSB0aGlzLl9wcmltaXRpdmUgJiYgdGhpcy5fcHJpbWl0aXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmltaXRpdmUgPSBuZXcgQ2VzaXVtLlByaW1pdGl2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tQcmltaXRpdmU6IHRoaXNcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlOiB0aGlzLmFwcGVhcmFuY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNocm9ub3VzOiB0aGlzLmFzeW5jaHJvbm91c1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9wcmltaXRpdmUgPSBuZXcgQ2VzaXVtLkdyb3VuZFByaW1pdGl2ZSh7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWQ6IG1lLmlkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBwaWNrUHJpbWl0aXZlOiBtZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gY29sb3IgOiAgQ2VzaXVtLkNvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3IoQ2VzaXVtLkNvbG9yLkJMVUUud2l0aEFscGhhKDAuNSkpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbG9yOiBDZXNpdW0uQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcih0aGlzLnN0cm9rZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX291dGxpbmVQb2x5Z29uID0gdGhpcy5fb3V0bGluZVBvbHlnb24gJiYgdGhpcy5fb3V0bGluZVBvbHlnb24uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlQ29sb3IgJiYgdGhpcy5nZXRPdXRsaW5lR2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGhpZ2hsaWdodGluZyBmcmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX291dGxpbmVQb2x5Z29uID0gbmV3IENlc2l1bS5QcmltaXRpdmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeUluc3RhbmNlczogbmV3IENlc2l1bS5HZW9tZXRyeUluc3RhbmNlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB0aGlzLmdldE91dGxpbmVHZW9tZXRyeSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDZXNpdW0uQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcih0aGlzLnN0cm9rZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZTogbmV3IENlc2l1bS5QZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGF0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyU3RhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aFRlc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiBNYXRoLm1pbih0aGlzLnN0cm9rZVdpZHRoIHx8IDQuMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHByaW1pdGl2ZSA9IHRoaXMuX3ByaW1pdGl2ZTtcclxuICAgICAgICAgICAgLy8gcHJpbWl0aXZlLmFwcGVhcmFuY2UubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgICAgICAvLyBwcmltaXRpdmUuYXBwZWFyYW5jZSA9IHRoaXMuYXBwZWFyYW5jZTtcclxuICAgICAgICAgICAgcHJpbWl0aXZlLmFwcGVhcmFuY2UubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xyXG4gICAgICAgICAgICAvLyBwcmltaXRpdmUuZGVidWdTaG93Qm91bmRpbmdWb2x1bWUgPSB0aGlzLmRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lO1xyXG4gICAgICAgICAgICBwcmltaXRpdmUudXBkYXRlKGNvbnRleHQsIGZyYW1lU3RhdGUsIGNvbW1hbmRMaXN0KTtcclxuICAgICAgICAgICAgLy9kZWJ1Z1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb250ZXh0KVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmcmFtZVN0YXRlKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb21tYW5kTGlzdClcclxuICAgICAgICAgICAgdGhpcy5fb3V0bGluZVBvbHlnb24gJiYgdGhpcy5fb3V0bGluZVBvbHlnb24udXBkYXRlKGNvbnRleHQsIGZyYW1lU3RhdGUsIGNvbW1hbmRMaXN0KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmltaXRpdmUgPSB0aGlzLl9wcmltaXRpdmUgJiYgdGhpcy5fcHJpbWl0aXZlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcmV0dXJuIENlc2l1bS5kZXN0cm95T2JqZWN0KHRoaXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKHN0cm9rZUNvbG9yLCBzdHJva2VXaWR0aCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3Ryb2tlQ29sb3IgfHwgIXRoaXMuc3Ryb2tlQ29sb3IuZXF1YWxzKHN0cm9rZUNvbG9yKSB8fCB0aGlzLnN0cm9rZVdpZHRoICE9IHN0cm9rZVdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVQcmltaXRpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VDb2xvciA9IHN0cm9rZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG4gICAgXy5FeHRlbnRQcmltaXRpdmUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIF8ob3B0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDZXNpdW0uZGVmaW5lZChvcHRpb25zLmV4dGVudCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDZXNpdW0uRGV2ZWxvcGVyRXJyb3IoJ0V4dGVudCBpcyByZXF1aXJlZCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFN1cmZhY2VPcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGlzZU9wdGlvbnMob3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldEV4dGVudChvcHRpb25zLmV4dGVudCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUgPSBuZXcgQ2hhbmdlYWJsZVByaW1pdGl2ZSgpO1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdleHRlbnQnLCBleHRlbnQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdleHRlbnQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghQ2VzaXVtLmRlZmluZWQodGhpcy5leHRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLlJlY3RhbmdsZUdlb21ldHJ5KHtcclxuICAgICAgICAgICAgICAgIHJlY3RhbmdsZTogdGhpcy5leHRlbnQsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgdmVydGV4Rm9ybWF0OiBDZXNpdW0uRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcclxuICAgICAgICAgICAgICAgIHN0Um90YXRpb246IHRoaXMudGV4dHVyZVJvdGF0aW9uQW5nbGUsXHJcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQ6IHRoaXMuZWxsaXBzb2lkLFxyXG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IHRoaXMuZ3JhbnVsYXJpdHlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0T3V0bGluZUdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5SZWN0YW5nbGVPdXRsaW5lR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgcmVjdGFuZ2xlOiB0aGlzLmV4dGVudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBfO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBfLlBvbHlnb25QcmltaXRpdmUgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBfKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U3VyZmFjZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNQb2x5Z29uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VhYmxlUHJpbWl0aXZlKCk7XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldFBvc2l0aW9ucyA9IGZ1bmN0aW9uIChwb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIHBvc2l0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0UG9zaXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDZXNpdW0uZGVmaW5lZCh0aGlzLnBvc2l0aW9ucykgfHwgdGhpcy5wb3NpdGlvbnMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gQ2VzaXVtLlBvbHlnb25HZW9tZXRyeS5mcm9tUG9zaXRpb25zKHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uczogdGhpcy5wb3NpdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgdmVydGV4Rm9ybWF0OiBDZXNpdW0uRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcclxuICAgICAgICAgICAgICAgIHN0Um90YXRpb246IHRoaXMudGV4dHVyZVJvdGF0aW9uQW5nbGUsXHJcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQ6IHRoaXMuZWxsaXBzb2lkLFxyXG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IHRoaXMuZ3JhbnVsYXJpdHlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0T3V0bGluZUdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ2VzaXVtLlBvbHlnb25PdXRsaW5lR2VvbWV0cnkuZnJvbVBvc2l0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IHRoaXMuZ2V0UG9zaXRpb25zKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG4gICAgXy5DaXJjbGVQcmltaXRpdmUgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBfKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghKENlc2l1bS5kZWZpbmVkKG9wdGlvbnMuY2VudGVyKSAmJiBDZXNpdW0uZGVmaW5lZChvcHRpb25zLnJhZGl1cykpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2VzaXVtLkRldmVsb3BlckVycm9yKCdDZW50ZXIgYW5kIHJhZGl1cyBhcmUgcmVxdWlyZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTdXJmYWNlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpc2VPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRSYWRpdXMob3B0aW9ucy5yYWRpdXMpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlID0gbmV3IENoYW5nZWFibGVQcmltaXRpdmUoKTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnY2VudGVyJywgY2VudGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRSYWRpdXMgPSBmdW5jdGlvbiAocmFkaXVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyYWRpdXMnLCBNYXRoLm1heCgwLjEsIHJhZGl1cykpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdjZW50ZXInKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRSYWRpdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgncmFkaXVzJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0R2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShDZXNpdW0uZGVmaW5lZCh0aGlzLmNlbnRlcikgJiYgQ2VzaXVtLmRlZmluZWQodGhpcy5yYWRpdXMpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5DaXJjbGVHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMuY2VudGVyLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhGb3JtYXQ6IENlc2l1bS5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5WRVJURVhfRk9STUFULFxyXG4gICAgICAgICAgICAgICAgc3RSb3RhdGlvbjogdGhpcy50ZXh0dXJlUm90YXRpb25BbmdsZSxcclxuICAgICAgICAgICAgICAgIGVsbGlwc29pZDogdGhpcy5lbGxpcHNvaWQsXHJcbiAgICAgICAgICAgICAgICBncmFudWxhcml0eTogdGhpcy5ncmFudWxhcml0eVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRPdXRsaW5lR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLkNpcmNsZU91dGxpbmVHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMuZ2V0Q2VudGVyKCksXHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG4gICAgXy5FbGxpcHNlUHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBfKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghKENlc2l1bS5kZWZpbmVkKG9wdGlvbnMuY2VudGVyKSAmJiBDZXNpdW0uZGVmaW5lZChvcHRpb25zLnNlbWlNYWpvckF4aXMpICYmIENlc2l1bS5kZWZpbmVkKG9wdGlvbnMuc2VtaU1pbm9yQXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2VzaXVtLkRldmVsb3BlckVycm9yKCdDZW50ZXIgYW5kIHNlbWkgbWFqb3IgYW5kIHNlbWkgbWlub3IgYXhpcyBhcmUgcmVxdWlyZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRFbGxpcHNlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpc2VPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlID0gbmV3IENoYW5nZWFibGVQcmltaXRpdmUoKTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnY2VudGVyJywgY2VudGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRTZW1pTWFqb3JBeGlzID0gZnVuY3Rpb24gKHNlbWlNYWpvckF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKHNlbWlNYWpvckF4aXMgPCB0aGlzLmdldFNlbWlNaW5vckF4aXMoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnc2VtaU1ham9yQXhpcycsIHNlbWlNYWpvckF4aXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLnNldFNlbWlNaW5vckF4aXMgPSBmdW5jdGlvbiAoc2VtaU1pbm9yQXhpcykge1xyXG4gICAgICAgICAgICBpZiAoc2VtaU1pbm9yQXhpcyA+IHRoaXMuZ2V0U2VtaU1ham9yQXhpcygpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzZW1pTWlub3JBeGlzJywgc2VtaU1pbm9yQXhpcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnY2VudGVyJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0U2VtaU1ham9yQXhpcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdzZW1pTWFqb3JBeGlzJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0U2VtaU1pbm9yQXhpcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdzZW1pTWlub3JBeGlzJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgncm90YXRpb24nKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghKENlc2l1bS5kZWZpbmVkKHRoaXMuY2VudGVyKSAmJiBDZXNpdW0uZGVmaW5lZCh0aGlzLnNlbWlNYWpvckF4aXMpICYmIENlc2l1bS5kZWZpbmVkKHRoaXMuc2VtaU1pbm9yQXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLkVsbGlwc2VHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICBlbGxpcHNvaWQ6IHRoaXMuZWxsaXBzb2lkLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcixcclxuICAgICAgICAgICAgICAgIHNlbWlNYWpvckF4aXM6IHRoaXMuc2VtaU1ham9yQXhpcyxcclxuICAgICAgICAgICAgICAgIHNlbWlNaW5vckF4aXM6IHRoaXMuc2VtaU1pbm9yQXhpcyxcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLnJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHZlcnRleEZvcm1hdDogQ2VzaXVtLkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQsXHJcbiAgICAgICAgICAgICAgICBzdFJvdGF0aW9uOiB0aGlzLnRleHR1cmVSb3RhdGlvbkFuZ2xlLFxyXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkOiB0aGlzLmVsbGlwc29pZCxcclxuICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiB0aGlzLmdyYW51bGFyaXR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldE91dGxpbmVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uRWxsaXBzZU91dGxpbmVHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMuZ2V0Q2VudGVyKCksXHJcbiAgICAgICAgICAgICAgICBzZW1pTWFqb3JBeGlzOiB0aGlzLmdldFNlbWlNYWpvckF4aXMoKSxcclxuICAgICAgICAgICAgICAgIHNlbWlNaW5vckF4aXM6IHRoaXMuZ2V0U2VtaU1pbm9yQXhpcygpLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBfO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBfLlBvbHlsaW5lUHJpbWl0aXZlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gXyhvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFBvbHlsaW5lT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpc2VPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlID0gbmV3IENoYW5nZWFibGVQcmltaXRpdmUoKTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0UG9zaXRpb25zID0gZnVuY3Rpb24gKHBvc2l0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb25zJywgcG9zaXRpb25zKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5zZXRXaWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgXy5wcm90b3R5cGUuc2V0R2VvZGVzaWMgPSBmdW5jdGlvbiAoZ2VvZGVzaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2dlb2Rlc2ljJywgZ2VvZGVzaWMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldFBvc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbnMnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8ucHJvdG90eXBlLmdldEdlb2Rlc2ljID0gZnVuY3Rpb24gKGdlb2Rlc2ljKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnZ2VvZGVzaWMnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghQ2VzaXVtLmRlZmluZWQodGhpcy5wb3NpdGlvbnMpIHx8IHRoaXMucG9zaXRpb25zLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uUG9seWxpbmVHZW9tZXRyeSh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IHRoaXMucG9zaXRpb25zLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoIDwgMSA/IDEgOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4Rm9ybWF0OiBDZXNpdW0uRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcclxuICAgICAgICAgICAgICAgIGVsbGlwc29pZDogdGhpcy5lbGxpcHNvaWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXztcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIHZhciBkZWZhdWx0QmlsbGJvYXJkID0ge1xyXG4gICAgICAgIGljb25Vcmw6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFMQ0FZQUFBQ3BySGNtQUFBQmJFbEVRVlFvVTJOa0lBRXd3dFI2ZW5xeWMzSnk2akV6TXl2OS8vK2ZsNUdSOGZQZnYzL3ZmZi8rL2RMMjdkdC9ndFNCRllNVWNuQndlUGo0K0FSWVcxdTdjSEZ4aVgvOSt2WGwwYU5IOTJ6ZHVuWERqeDgvZG9BMGdCVjdlWG1aKy9yNlpqbzRPTVIrLy82ZENXWWJPenY3djMzNzlpM2V2bjM3OUczYnRwMEVLM1ozZDQ5dGFtcHEvLzc5dS9ULy8vOFpmdjM2eGZENzkyK0dmLy8rTWJDd3NEeWRPSEZpNWM2ZE94ZURGVHM1T2VWMGRIVDB2WHIxaXZYTGwyOE1mLy8rZ1h1YmpZM3Q5L1RwMDRyMjdkczNCYXpZeXNvcXNhcXF0dVg3OTE5UzZJSHo3ZHZYWnpOblRxazVkdXpZZkxCaVkyTmpHMmRudDJ3N085ZXdmLy8rd2QzOC96L0R2NzE3dDY4NmV2VEExTE5ueng0QkszWndjT0I0OWVwVmlLT2p1NytOallzTkh4Ky95S2RQSDk0Y1ByejN5SUVET3plS2lZbXRPWERnd0E5NE9Ndkl5SEIrLy83ZCt2Ly8vN29NREF3Q0RBd01IeGdaR1M5emNuSWVmZkxreVhkNE9CTWJpUURIVTZBTSs5MWhNUUFBQUFCSlJVNUVya0pnZ2c9PVwiLFxyXG4gICAgICAgIHNoaWZ0WDogMCxcclxuICAgICAgICBzaGlmdFk6IDAsXHJcbiAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgcGlja1N0cmF0ZWd5OiBkZWZhdWx0UGlja1N0cmF0ZWd5XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkcmFnQmlsbGJvYXJkID0ge1xyXG4gICAgICAgIGljb25Vcmw6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFMQ0FZQUFBQ3BySGNtQUFBQmJFbEVRVlFvVTJOa0lBRXd3dFI2ZW5xeWMzSnk2akV6TXl2OS8vK2ZsNUdSOGZQZnYzL3ZmZi8rL2RMMjdkdC9ndFNCRllNVWNuQndlUGo0K0FSWVcxdTdjSEZ4aVgvOSt2WGwwYU5IOTJ6ZHVuWERqeDgvZG9BMGdCVjdlWG1aKy9yNlpqbzRPTVIrLy82ZENXWWJPenY3djMzNzlpM2V2bjM3OUczYnRwMEVLM1ozZDQ5dGFtcHEvLzc5dS9ULy8vOFpmdjM2eGZENzkyK0dmLy8rTWJDd3NEeWRPSEZpNWM2ZE94ZURGVHM1T2VWMGRIVDB2WHIxaXZYTGwyOE1mLy8rZ1h1YmpZM3Q5L1RwMDRyMjdkczNCYXpZeXNvcXNhcXF0dVg3OTE5UzZJSHo3ZHZYWnpOblRxazVkdXpZZkxCaVkyTmpHMmRudDJ3N085ZXdmLy8rd2QzOC96L0R2NzE3dDY4NmV2VEExTE5ueng0QkszWndjT0I0OWVwVmlLT2p1NytOallzTkh4Ky95S2RQSDk0Y1ByejN5SUVET3plS2lZbXRPWERnd0E5NE9Ndkl5SEIrLy83ZCt2Ly8vN29NREF3Q0RBd01IeGdaR1M5emNuSWVmZkxreVhkNE9CTWJpUURIVTZBTSs5MWhNUUFBQUFCSlJVNUVya0pnZ2c9PVwiLFxyXG4gICAgICAgIHNoaWZ0WDogMCxcclxuICAgICAgICBzaGlmdFk6IDBcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHJhZ0hhbGZCaWxsYm9hcmQgPSB7XHJcbiAgICAgICAgaWNvblVybDogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQUxDQVlBQUFDcHJIY21BQUFCQ2tsRVFWUW9VNVhSTVVpRWNCVEg4ZTgvaUJRTUFvWEFVTEJScVRXd0d4dmFhZ2kzR3hxanByYWdNV2hyS2hvYmJwT0cyaG9hTDZHMThNWVRsSVJBSVVqUUNES1U3bWh3cURkL0h2emU3d24rTVdKaTY3cWVBMWFCWldBZWVBZkd3Sk1RNHFOeExmNkJtOEEyc0FFc0FxL0FQWEFEM0RVTEU3d0c3QUY5WU9aWHNpOWdBRndLSVI1YlhKWmxYNUtrVTJDcDQ0U1hxcXFPWkZrZXREakxzZ05WVmMrQTJRNzhtZWY1b2FacDV5Mk80M2pYTUl3VFFPL0FhWklreDZacFhyVTRETU9lYmR2N2dOZVIyUitOUmhlTzR3eGJIRVdSbEticGp1dTZXMEFQMEpwMHdEQUlnbHRkMTY4dHk2cW1QZnUrTHhkRnNRNnNBQXZBRy9Dc0tNcUQ1M25sdE9lL1B2RWJtUFJUREFwUTNkOEFBQUFBU1VWT1JLNUNZSUk9XCIsXHJcbiAgICAgICAgc2hpZnRYOiAwLFxyXG4gICAgICAgIHNoaWZ0WTogMFxyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLmNyZWF0ZUJpbGxib2FyZEdyb3VwID0gZnVuY3Rpb24gKHBvaW50cywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdmFyIG1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cCh0aGlzLCBvcHRpb25zKTtcclxuICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZHMocG9pbnRzLCBjYWxsYmFja3MpO1xyXG4gICAgICAgIHJldHVybiBtYXJrZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAgPSBmdW5jdGlvbiAoZHJhd0hlbHBlciwgb3B0aW9ucykge1xyXG5cclxuICAgICAgICB0aGlzLl9kcmF3SGVscGVyID0gZHJhd0hlbHBlcjtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IGRyYXdIZWxwZXIuX3NjZW5lO1xyXG5cclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdEJpbGxib2FyZCk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBvbmUgY29tbW9uIGJpbGxib2FyZCBjb2xsZWN0aW9uIGZvciBhbGwgYmlsbGJvYXJkc1xyXG4gICAgICAgIHZhciBiID0gbmV3IENlc2l1bS5CaWxsYm9hcmRDb2xsZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUucHJpbWl0aXZlcy5hZGQoYik7XHJcbiAgICAgICAgdGhpcy5fYmlsbGJvYXJkcyA9IGI7XHJcbiAgICAgICAgLy8ga2VlcCBhbiBvcmRlcmVkIGxpc3Qgb2YgYmlsbGJvYXJkc1xyXG4gICAgICAgIHRoaXMuX29yZGVyZWRCaWxsYm9hcmRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgXy5CaWxsYm9hcmRHcm91cC5wcm90b3R5cGUuY3JlYXRlQmlsbGJvYXJkID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBjYWxsYmFja3MpIHtcclxuXHJcbiAgICAgICAgdmFyIGJpbGxib2FyZCA9IHRoaXMuX2JpbGxib2FyZHMuYWRkKHtcclxuICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxyXG4gICAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKHRoaXMuX29wdGlvbnMuc2hpZnRYLCB0aGlzLl9vcHRpb25zLnNoaWZ0WSksXHJcbiAgICAgICAgICAgIGV5ZU9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKDAuMCwgMC4wLCAwLjApLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOiBDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5DRU5URVIsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQ0VOVEVSLFxyXG4gICAgICAgICAgICBzY2FsZTogMS4wLFxyXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5fb3B0aW9ucy5pY29uVXJsLFxyXG4gICAgICAgICAgICBjb2xvcjogbmV3IENlc2l1bS5Db2xvcigxLjAsIDEuMCwgMS4wLCAxLjApXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGlmIGVkaXRhYmxlXHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyID0gdGhpcy5fc2NlbmUuc2NyZWVuU3BhY2VDYW1lcmFDb250cm9sbGVyO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZW5hYmxlUm90YXRpb24oZW5hYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JlZW5TcGFjZUNhbWVyYUNvbnRyb2xsZXIuZW5hYmxlUm90YXRlID0gZW5hYmxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRJbmRleCgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgaW5kZXhcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBJID0gX3NlbGYuX29yZGVyZWRCaWxsYm9hcmRzLmxlbmd0aDsgaSA8IEkgJiYgX3NlbGYuX29yZGVyZWRCaWxsYm9hcmRzW2ldICE9IGJpbGxib2FyZDsgKytpKSA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5kcmFnSGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdsZWZ0RG93bicsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBzdGFydCB0aGUgZHJhZyBoYW5kbGVycyBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGhhbmRsZXJzIGZvciBtb3VzZU91dCBhbmQgbGVmdFVwIGZvciB0aGUgYmlsbGJvYXJkIGFuZCBhIG1vdXNlTW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRHJhZyhwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaWxsYm9hcmQucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgSSA9IF9zZWxmLl9vcmRlcmVkQmlsbGJvYXJkcy5sZW5ndGg7IGkgPCBJICYmIF9zZWxmLl9vcmRlcmVkQmlsbGJvYXJkc1tpXSAhPSBiaWxsYm9hcmQ7ICsraSkgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZyAmJiBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZyhnZXRJbmRleCgpLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkRyYWdFbmQocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZ0VuZCAmJiBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZ0VuZChnZXRJbmRleCgpLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoX3NlbGYuX3NjZW5lLmNhbnZhcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBfc2VsZi5fc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQuZW5kUG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZyhjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZChfc2VsZi5fc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX1VQKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlUm90YXRpb24oZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MuZHJhZ0hhbmRsZXJzLm9uRHJhZ1N0YXJ0ICYmIGNhbGxiYWNrcy5kcmFnSGFuZGxlcnMub25EcmFnU3RhcnQoZ2V0SW5kZXgoKSwgX3NlbGYuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKHBvc2l0aW9uLCBlbGxpcHNvaWQpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3Mub25Eb3VibGVDbGljaykge1xyXG4gICAgICAgICAgICAgICAgc2V0TGlzdGVuZXIoYmlsbGJvYXJkLCAnbGVmdERvdWJsZUNsaWNrJywgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLm9uRG91YmxlQ2xpY2soZ2V0SW5kZXgoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzLm9uQ2xpY2spIHtcclxuICAgICAgICAgICAgICAgIHNldExpc3RlbmVyKGJpbGxib2FyZCwgJ2xlZnRDbGljaycsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbkNsaWNrKGdldEluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy50b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdtb3VzZU1vdmUnLCBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5fZHJhd0hlbHBlci5fdG9vbHRpcC5zaG93QXQocG9zaXRpb24sIGNhbGxiYWNrcy50b29sdGlwKCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdtb3VzZU91dCcsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLl9kcmF3SGVscGVyLl90b29sdGlwLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBiaWxsYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgXy5CaWxsYm9hcmRHcm91cC5wcm90b3R5cGUuaW5zZXJ0QmlsbGJvYXJkID0gZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbiwgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdGhpcy5fb3JkZXJlZEJpbGxib2FyZHMuc3BsaWNlKGluZGV4LCAwLCB0aGlzLmNyZWF0ZUJpbGxib2FyZChwb3NpdGlvbiwgY2FsbGJhY2tzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgXy5CaWxsYm9hcmRHcm91cC5wcm90b3R5cGUuYWRkQmlsbGJvYXJkID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBjYWxsYmFja3MpIHtcclxuICAgICAgICB0aGlzLl9vcmRlcmVkQmlsbGJvYXJkcy5wdXNoKHRoaXMuY3JlYXRlQmlsbGJvYXJkKHBvc2l0aW9uLCBjYWxsYmFja3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBfLkJpbGxib2FyZEdyb3VwLnByb3RvdHlwZS5hZGRCaWxsYm9hcmRzID0gZnVuY3Rpb24gKHBvc2l0aW9ucywgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICBmb3IgKDsgaW5kZXggPCBwb3NpdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQmlsbGJvYXJkKHBvc2l0aW9uc1tpbmRleF0sIGNhbGxiYWNrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLnVwZGF0ZUJpbGxib2FyZHNQb3NpdGlvbnMgPSBmdW5jdGlvbiAocG9zaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICBmb3IgKDsgaW5kZXggPCBwb3NpdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QmlsbGJvYXJkKGluZGV4KS5wb3NpdGlvbiA9IHBvc2l0aW9uc1tpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLmNvdW50QmlsbGJvYXJkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3JkZXJlZEJpbGxib2FyZHMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLmdldEJpbGxib2FyZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vcmRlcmVkQmlsbGJvYXJkc1tpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgXy5CaWxsYm9hcmRHcm91cC5wcm90b3R5cGUucmVtb3ZlQmlsbGJvYXJkID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5fYmlsbGJvYXJkcy5yZW1vdmUodGhpcy5nZXRCaWxsYm9hcmQoaW5kZXgpKTtcclxuICAgICAgICB0aGlzLl9vcmRlcmVkQmlsbGJvYXJkcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9iaWxsYm9hcmRzID0gdGhpcy5fYmlsbGJvYXJkcyAmJiB0aGlzLl9iaWxsYm9hcmRzLnJlbW92ZUFsbCgpICYmIHRoaXMuX2JpbGxib2FyZHMuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF8uQmlsbGJvYXJkR3JvdXAucHJvdG90eXBlLnNldE9uVG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3NjZW5lLnByaW1pdGl2ZXMucmFpc2VUb1RvcCh0aGlzLl9iaWxsYm9hcmRzKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmdNYXJrZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRCaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0RHJhd2luZyhcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbWFya2VycyAmJiBtYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgbW91c2VIYW5kbGVyICYmIG1vdXNlSGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwICYmIHRvb2x0aXAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzY2VuZSA9IHRoaXMuX3NjZW5lO1xyXG4gICAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLl92aWV3ZXI7XHJcblxyXG4gICAgICAgIHZhciBwcmltaXRpdmVzID0gc2NlbmUucHJpbWl0aXZlcztcclxuICAgICAgICB2YXIgdG9vbHRpcCA9IHRoaXMuX3Rvb2x0aXA7XHJcblxyXG4gICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAodGhpcywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHZhciBtb3VzZUhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcblxyXG4gICAgICAgIC8vIE5vdyB3YWl0IGZvciBzdGFydFxyXG4gICAgICAgIG1vdXNlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKG1vdmVtZW50LnBvc2l0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChtb3ZlbWVudC5wb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBvcHRpb25zLnN0cmF0ZWd5LnBpY2tTdHJhdGVneShtb3ZlbWVudC5wb3NpdGlvbiwgdmlld2VyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnN0b3BEcmF3aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhjYXJ0ZXNpYW4sIF9zZWxmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBtb3ZlbWVudC5lbmRQb3NpdGlvbjtcclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBvcHRpb25zLnN0cmF0ZWd5LnBpY2tTdHJhdGVneShwb3NpdGlvbiwgdmlld2VyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayB0byBhZGQgeW91ciBtYXJrZXIuIFBvc2l0aW9uIGlzOiA8L3A+XCIgKyBnZXREaXNwbGF5TGF0TG5nU3RyaW5nKGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIjxwPkNsaWNrIG9uIHRoZSBnbG9iZSB0byBhZGQgeW91ciBtYXJrZXIuPC9wPlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuc3RhcnREcmF3aW5nUG9seWdvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gdmFyIG9wdGlvbnMgPSBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U3VyZmFjZU9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nUG9seXNoYXBlKHRydWUsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnN0YXJ0RHJhd2luZ1BvbHlsaW5lID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAvLyB2YXIgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRQb2x5bGluZU9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nUG9seXNoYXBlKGZhbHNlLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmdQb2x5c2hhcGUgPSBmdW5jdGlvbiAoaXNQb2x5Z29uLCBvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGlzUG9seWdvbiA/IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTdXJmYWNlT3B0aW9ucykgOiBjb3B5T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0UG9seWxpbmVPcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydERyYXdpbmcoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByaW1pdGl2ZXMgJiYgcHJpbWl0aXZlcy5yZW1vdmUocG9seSk7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzICYmIG1hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBtb3VzZUhhbmRsZXIgJiYgbW91c2VIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXAgJiYgdG9vbHRpcC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgdmFyIHZpZXdlciA9IHRoaXMuX3ZpZXdlcjtcclxuICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IHNjZW5lLnByaW1pdGl2ZXM7XHJcbiAgICAgICAgdmFyIHRvb2x0aXAgPSB0aGlzLl90b29sdGlwO1xyXG5cclxuICAgICAgICB2YXIgbWluUG9pbnRzID0gaXNQb2x5Z29uID8gMyA6IDI7XHJcbiAgICAgICAgdmFyIHBvbHk7XHJcbiAgICAgICAgaWYgKGlzUG9seWdvbikge1xyXG4gICAgICAgICAgICBwb2x5ID0gbmV3IF8uUG9seWdvblByaW1pdGl2ZShvcHRpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwb2x5ID0gbmV3IF8uUG9seWxpbmVQcmltaXRpdmUob3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvbHkuYXN5bmNocm9ub3VzID0gZmFsc2U7XHJcbiAgICAgICAgcHJpbWl0aXZlcy5hZGQocG9seSk7XHJcblxyXG4gICAgICAgIHZhciBwb3NpdGlvbnMgPSBbXTtcclxuICAgICAgICB2YXIgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKHRoaXMsIGRlZmF1bHRCaWxsYm9hcmQpO1xyXG5cclxuICAgICAgICB2YXIgbW91c2VIYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG5cclxuXHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbW92ZW1lbnQucG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA8IG1pblBvaW50cyAvKisgMiovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KG1vdmVtZW50LnBvc2l0aW9uLCB2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLnN0b3BEcmF3aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3ZlcmxhcHBpbmcgb25lc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcG9zaXRpb25zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKHBvc2l0aW9ucywgX3NlbGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9VQkxFX0NMSUNLKTtcclxuICAgICAgICAvLyBOb3cgd2FpdCBmb3Igc3RhcnRcclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kobW92ZW1lbnQucG9zaXRpb24sIHZpZXdlcik7XHJcbiAgICAgICAgICAgIGNhcnRlc2lhbiA9IGdldENlc2l1bUhpZ2h0WmVybyhjYXJ0ZXNpYW4pO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vdmVtZW50LnBvc2l0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChtb3ZlbWVudC5wb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgY2xpY2tcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKGNhcnRlc2lhbi5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmQocG9zaXRpb25zWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPj0gbWluUG9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHkucG9zaXRpb25zID0gcG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Ll9jcmVhdGVQcmltaXRpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgbmV3IHBvaW50IHRvIHBvbHlnb25cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG9uZSB3aWxsIG1vdmUgd2l0aCB0aGUgbW91c2VcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBtYXJrZXIgYXQgdGhlIG5ldyBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG5cclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG1vdmVtZW50LmVuZFBvc2l0aW9uO1xyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIjxwPkNsaWNrIHRvIGFkZCBmaXJzdCBwb2ludDwvcD5cIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBjYXJ0ZXNpYW4gPSBzY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbiwgZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUucGlja1Bvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjYXJ0ZXNpYW4gPSBnZXRDZXNpdW1IaWdodFplcm8oY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kocG9zaXRpb24sIHZpZXdlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXQgaXMgc2xpZ2h0bHkgZGlmZmVyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhcnRlc2lhbi55ICs9ICgxICsgTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRlc2lhbi55ICs9IENlc2l1bS5NYXRoLkVQU0lMT043O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+PSBtaW5Qb2ludHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHkucG9zaXRpb25zID0gcG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9seS5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgbWFya2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuZ2V0QmlsbGJvYXJkKHBvc2l0aW9ucy5sZW5ndGggLSAxKS5wb3NpdGlvbiA9IGNhcnRlc2lhbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyB0b29sdGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIjxwPkNsaWNrIHRvIGFkZCBuZXcgcG9pbnQgKFwiICsgcG9zaXRpb25zLmxlbmd0aCArIFwiKTwvcD5cIiArIChwb3NpdGlvbnMubGVuZ3RoID4gbWluUG9pbnRzID8gXCI8cD5Eb3VibGUgY2xpY2sgdG8gZmluaXNoIGRyYXdpbmc8L3A+XCIgOiBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZW50Q29ybmVycyh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBlbGxpcHNvaWQuY2FydG9ncmFwaGljQXJyYXlUb0NhcnRlc2lhbkFycmF5KFtDZXNpdW0uUmVjdGFuZ2xlLm5vcnRod2VzdCh2YWx1ZSksIENlc2l1bS5SZWN0YW5nbGUubm9ydGhlYXN0KHZhbHVlKSwgQ2VzaXVtLlJlY3RhbmdsZS5zb3V0aGVhc3QodmFsdWUpLCBDZXNpdW0uUmVjdGFuZ2xlLnNvdXRod2VzdCh2YWx1ZSldKTtcclxuICAgIH1cclxuXHJcbiAgICBfLnByb3RvdHlwZS5zdGFydERyYXdpbmdFeHRlbnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGNvcHlPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTdXJmYWNlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnREcmF3aW5nKFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmltaXRpdmVzICYmIHByaW1pdGl2ZXMucmVtb3ZlKGV4dGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzICYmIG1hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBtb3VzZUhhbmRsZXIgJiYgbW91c2VIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXAgJiYgdG9vbHRpcC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgdmFyIHZpZXdlciA9IHRoaXMuX3ZpZXdlcjtcclxuICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IHRoaXMuX3NjZW5lLnByaW1pdGl2ZXM7XHJcbiAgICAgICAgdmFyIHRvb2x0aXAgPSB0aGlzLl90b29sdGlwO1xyXG5cclxuICAgICAgICB2YXIgZmlyc3RQb2ludCA9IG51bGw7XHJcbiAgICAgICAgdmFyIGV4dGVudCA9IG51bGw7XHJcbiAgICAgICAgdmFyIG1hcmtlcnMgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbW91c2VIYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVFeHRlbnQodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGV4dGVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbnQgPSBuZXcgXy5FeHRlbnRQcmltaXRpdmUoe2V4dGVudDogdmFsdWUsIG1hdGVyaWFsOiBvcHRpb25zLm1hdGVyaWFsLH0pO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW50LmFzeW5jaHJvbm91cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5hZGQoZXh0ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBleHRlbnQuc2V0RXh0ZW50KHZhbHVlKTtcclxuICAgICAgICAgICAgZXh0ZW50LnJlY3RhbmdsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgdmFyIGNvcm5lcnMgPSBnZXRFeHRlbnRDb3JuZXJzKHZhbHVlKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGlmIHRoZXkgZG8gbm90IHlldCBleGlzdFxyXG4gICAgICAgICAgICBpZiAobWFya2VycyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAoX3NlbGYsIGRlZmF1bHRCaWxsYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmRzKGNvcm5lcnMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWFya2Vycy51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zKGNvcm5lcnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3cgd2FpdCBmb3Igc3RhcnRcclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlbWVudC5wb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kobW92ZW1lbnQucG9zaXRpb24sIHZpZXdlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHJlY3RhbmdsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFBvaW50ID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldEV4dGVudChmaXJzdFBvaW50LCBmaXJzdFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRXh0ZW50KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zdG9wRHJhd2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhnZXRFeHRlbnQoZmlyc3RQb2ludCwgZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbiksIF9zZWxmKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9ET1dOKTtcclxuXHJcbiAgICAgICAgbW91c2VIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChtb3ZlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBtb3ZlbWVudC5lbmRQb3NpdGlvbjtcclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChleHRlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIjxwPkNsaWNrIHRvIHN0YXJ0IGRyYXdpbmcgcmVjdGFuZ2xlPC9wPlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKHBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ZXNpYW4gPSBvcHRpb25zLnN0cmF0ZWd5LnBpY2tTdHJhdGVneShwb3NpdGlvbiwgdmlld2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRFeHRlbnQoZmlyc3RQb2ludCwgZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNhcnRlc2lhbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVFeHRlbnQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5EcmFnIHRvIGNoYW5nZSByZWN0YW5nbGUgZXh0ZW50PC9wPjxwPkNsaWNrIGFnYWluIHRvIGZpbmlzaCBkcmF3aW5nPC9wPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF8ucHJvdG90eXBlLnN0YXJ0RHJhd2luZ0NpcmNsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIHZhciBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFN1cmZhY2VPcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydERyYXdpbmcoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2lyY2xlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmltaXRpdmVzICYmIHByaW1pdGl2ZXMucmVtb3ZlKGNpcmNsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzICYmIG1hcmtlcnMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBtb3VzZUhhbmRsZXIgJiYgbW91c2VIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXAgJiYgdG9vbHRpcC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNjZW5lID0gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgdmFyIHZpZXdlciA9IHRoaXMuX3ZpZXdlcjtcclxuICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IHRoaXMuX3NjZW5lLnByaW1pdGl2ZXM7XHJcbiAgICAgICAgdmFyIHRvb2x0aXAgPSB0aGlzLl90b29sdGlwO1xyXG5cclxuICAgICAgICB2YXIgY2lyY2xlID0gbnVsbDtcclxuICAgICAgICB2YXIgbWFya2VycyA9IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBtb3VzZUhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHBpY2tQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoQ2VzaXVtLmRlZmluZWQodmlld2VyLnNjZW5lLnBpY2socG9zaXRpb24pKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENlc2l1bUhpZ2h0WmVybyh2aWV3ZXIuc2NlbmUucGlja1Bvc2l0aW9uKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q2VzaXVtSGlnaHRaZXJvKHZpZXdlci5zY2VuZS5jYW1lcmEucGlja0VsbGlwc29pZChwb3NpdGlvbikpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBOb3cgd2FpdCBmb3Igc3RhcnRcclxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlbWVudC5wb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUucGlja1Bvc2l0aW9uKG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8vIGNhcnRlc2lhbiA9IGdldENlc2l1bUhpZ2h0WmVybyhjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHBpY2tQb3NpdGlvbihtb3ZlbWVudC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gb3B0aW9ucy5zdHJhdGVneS5waWNrU3RyYXRlZ3kobW92ZW1lbnQucG9zaXRpb24sIHZpZXdlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNpcmNsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgY2lyY2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZSA9IG5ldyBfLkNpcmNsZVByaW1pdGl2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGNhcnRlc2lhbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaHJvbm91czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogb3B0aW9ucy5tYXRlcmlhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlcy5hZGQoY2lyY2xlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKF9zZWxmLCBkZWZhdWx0QmlsbGJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmRzKFtjYXJ0ZXNpYW5dKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhjaXJjbGUuZ2V0Q2VudGVyKCksIGNpcmNsZS5nZXRSYWRpdXMoKSwgX3NlbGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLnN0b3BEcmF3aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfRE9XTik7XHJcblxyXG4gICAgICAgIG1vdXNlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbW92ZW1lbnQuZW5kUG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2lyY2xlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb3NpdGlvbiwgXCI8cD5DbGljayB0byBzdGFydCBkcmF3aW5nIHRoZSBjaXJjbGU8L3A+XCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgY2FydGVzaWFuID0gc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQocG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGNhcnRlc2lhbiA9IHNjZW5lLnBpY2tQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IG9wdGlvbnMuc3RyYXRlZ3kucGlja1N0cmF0ZWd5KHBvc2l0aW9uLCB2aWV3ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FydGVzaWFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjaXJjbGUuZ2V0Q2VudGVyKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5zZXRSYWRpdXMoQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UoZ2V0Q2VzaXVtSGlnaHRaZXJvKGNpcmNsZS5nZXRDZW50ZXIoKSksIGdldENlc2l1bUhpZ2h0WmVybyhjYXJ0ZXNpYW4pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNpcmNsZS5zZXRSYWRpdXMoQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UoY2lyY2xlLmdldENlbnRlcigpLCBjYXJ0ZXNpYW4pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvc2l0aW9uLCBcIjxwPk1vdmUgbW91c2UgdG8gY2hhbmdlIGNpcmNsZSByYWRpdXM8L3A+PHA+Q2xpY2sgYWdhaW4gdG8gZmluaXNoIGRyYXdpbmc8L3A+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgXy5wcm90b3R5cGUuZW5oYW5jZVByaW1pdGl2ZXMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBkcmF3SGVscGVyID0gdGhpcztcclxuXHJcbiAgICAgICAgQ2VzaXVtLkJpbGxib2FyZC5wcm90b3R5cGUuc2V0RWRpdGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZWRpdGFibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJpbGxib2FyZCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZW5hYmxlUm90YXRpb24oZW5hYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLl9zY2VuZS5zY3JlZW5TcGFjZUNhbWVyYUNvbnRyb2xsZXIuZW5hYmxlUm90YXRlID0gZW5hYmxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRMaXN0ZW5lcihiaWxsYm9hcmQsICdsZWZ0RG93bicsIGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIHN0YXJ0IHRoZSBkcmFnIGhhbmRsZXJzIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBoYW5kbGVycyBmb3IgbW91c2VPdXQgYW5kIGxlZnRVcCBmb3IgdGhlIGJpbGxib2FyZCBhbmQgYSBtb3VzZU1vdmVcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRHJhZyhwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbGxib2FyZC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdkcmFnJywgcG9zaXRpb25zOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdkcmFnRW5kJywgcG9zaXRpb25zOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihkcmF3SGVscGVyLl9zY2VuZS5jYW52YXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcnRlc2lhbiA9IGRyYXdIZWxwZXIuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LmVuZFBvc2l0aW9uLCBlbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKGRyYXdIZWxwZXIuX3NjZW5lLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmVtZW50LnBvc2l0aW9uLCBlbGxpcHNvaWQpKTtcclxuICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX1VQKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlbmFibGVSb3RhdGlvbihmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVuaGFuY2VXaXRoTGlzdGVuZXJzKGJpbGxib2FyZCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ2VzaXVtLkVudGl0eS5wcm90b3R5cGUuc2V0RWRpdGFibGUgPSBmdW5jdGlvbiAoZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgaWYoZWRpdGFibGUgPT09ICBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmlsbGJvYXJkID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGJpbGxib2FyZCwnbGVmdERvd24nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVUeXBlICE9PSAnYmlsbGJvYXJkJyB8fCB0aGlzLl9lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9lZGl0YWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgYmlsbGJvYXJkID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlbmFibGVSb3RhdGlvbihlbmFibGUpIHtcclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuX3NjZW5lLnNjcmVlblNwYWNlQ2FtZXJhQ29udHJvbGxlci5lbmFibGVSb3RhdGUgPSBlbmFibGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldExpc3RlbmVyKGJpbGxib2FyZCwgJ2xlZnREb3duJywgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gc3RhcnQgdGhlIGRyYWcgaGFuZGxlcnMgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGhhbmRsZXJzIGZvciBtb3VzZU91dCBhbmQgbGVmdFVwIGZvciB0aGUgYmlsbGJvYXJkIGFuZCBhIG1vdXNlTW92ZVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25EcmFnKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmlsbGJvYXJkLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2RyYWcnLCBwb3NpdGlvbnM6IHBvc2l0aW9ufSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25EcmFnRW5kKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlUm90YXRpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ2RyYWdFbmQnLCBwb3NpdGlvbnM6IHBvc2l0aW9ufSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKGRyYXdIZWxwZXIuX3NjZW5lLmNhbnZhcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FydGVzaWFuID0gZHJhd0hlbHBlci5fc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQuZW5kUG9zaXRpb24sIGVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcnRlc2lhbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWcoY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQoY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQoZHJhd0hlbHBlci5fc2NlbmUuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZW1lbnQucG9zaXRpb24sIGVsbGlwc29pZCkpO1xyXG4gICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfVVApO1xyXG5cclxuICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZW5oYW5jZVdpdGhMaXN0ZW5lcnMoYmlsbGJvYXJkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEhpZ2hsaWdodGVkKGhpZ2hsaWdodGVkKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIG5vIGNoYW5nZVxyXG4gICAgICAgICAgICAvLyBpZiBhbHJlYWR5IGhpZ2hsaWdodGVkLCB0aGUgb3V0bGluZSBwb2x5Z29uIHdpbGwgYmUgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9oaWdobGlnaHRlZCAmJiB0aGlzLl9oaWdobGlnaHRlZCA9PSBoaWdobGlnaHRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRpc2FibGUgaWYgYWxyZWFkeSBpbiBlZGl0IG1vZGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRNb2RlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faGlnaGxpZ2h0ZWQgPSBoaWdobGlnaHRlZDtcclxuICAgICAgICAgICAgLy8gaGlnaGxpZ2h0IGJ5IGNyZWF0aW5nIGFuIG91dGxpbmUgcG9seWdvbiBtYXRjaGluZyB0aGUgcG9seWdvbiBwb2ludHNcclxuICAgICAgICAgICAgaWYgKGhpZ2hsaWdodGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIG90aGVyIHNoYXBlcyBhcmUgbm90IGhpZ2hsaWdodGVkXHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnNldEhpZ2hsaWdodGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlQ29sb3IgPSB0aGlzLnN0cm9rZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZShDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKCd3aGl0ZScpLCB0aGlzLnN0cm9rZVdpZHRoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2VDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5fc3Ryb2tlQ29sb3IsIHRoaXMuc3Ryb2tlV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlKHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0RWRpdE1vZGUoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgLy8gaWYgbm8gY2hhbmdlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lZGl0TW9kZSA9PSBlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgb3RoZXIgc2hhcGVzIGFyZSBub3QgaW4gZWRpdCBtb2RlIGJlZm9yZSBzdGFydGluZyB0aGUgZWRpdGluZyBvZiB0aGlzIHNoYXBlXHJcbiAgICAgICAgICAgIGRyYXdIZWxwZXIuZGlzYWJsZUFsbEhpZ2hsaWdodHMoKTtcclxuICAgICAgICAgICAgLy8gZGlzcGxheSBtYXJrZXJzXHJcbiAgICAgICAgICAgIGlmIChlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zZXRFZGl0ZWQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuICAgICAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG1hcmtlcnMgYW5kIGhhbmRsZXJzIGZvciB0aGUgZWRpdGluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRHJhZ0JpbGxib2FyZCA9IHRoaXMuZHJhZ0JpbGxib2FyZD8gdGhpcy5kcmFnQmlsbGJvYXJkOiBkcmFnQmlsbGJvYXJkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRHJhZ0hhbGZCaWxsYm9hcmQgPSB0aGlzLmRyYWdIYWxmQmlsbGJvYXJkPyB0aGlzLmRyYWdIYWxmQmlsbGJvYXJkOiBkcmFnQmlsbGJvYXJkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAoZHJhd0hlbHBlciwgdGhpc0RyYWdCaWxsYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0TWFya2VycyA9IG5ldyBfLkJpbGxib2FyZEdyb3VwKGRyYXdIZWxwZXIsIHRoaXNEcmFnSGFsZkJpbGxib2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGZvciB1cGRhdGluZyB0aGUgZWRpdCBtYXJrZXJzIGFyb3VuZCBhIGNlcnRhaW4gcG9pbnRcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVIYWxmTWFya2VycyhpbmRleCwgcG9zaXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaGFsZiBtYXJrZXJzIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SW5kZXggPSBpbmRleCAtIDEgPCAwID8gcG9zaXRpb25zLmxlbmd0aCAtIDEgOiBpbmRleCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0SW5kZXggPCBlZGl0TWFya2Vycy5jb3VudEJpbGxib2FyZHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1hcmtlcnMuZ2V0QmlsbGJvYXJkKGVkaXRJbmRleCkucG9zaXRpb24gPSBjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24oZWRpdEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0SW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRJbmRleCA8IGVkaXRNYXJrZXJzLmNvdW50QmlsbGJvYXJkcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5nZXRCaWxsYm9hcmQoZWRpdEluZGV4KS5wb3NpdGlvbiA9IGNhbGN1bGF0ZUhhbGZNYXJrZXJQb3NpdGlvbihlZGl0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkVkaXRlZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ29uRWRpdGVkJywgcG9zaXRpb25zOiBfc2VsZi5wb3NpdGlvbnN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVNYXJrZXJDaGFuZ2VzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnSGFuZGxlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLnBvc2l0aW9uc1tpbmRleF0gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVIYWxmTWFya2VycyhpbmRleCwgX3NlbGYucG9zaXRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrOiBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfc2VsZi5wb3NpdGlvbnMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcG9pbnQgYW5kIHRoZSBjb3JyZXNwb25kaW5nIG1hcmtlcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLnBvc2l0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2NyZWF0ZVByaW1pdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnJlbW92ZUJpbGxib2FyZChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5yZW1vdmVCaWxsYm9hcmQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSGFsZk1hcmtlcnMoaW5kZXgsIF9zZWxmLnBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NlbGYucG9zaXRpb25zLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJEb3VibGUgY2xpY2sgdG8gcmVtb3ZlIHRoaXMgcG9pbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGJpbGxib2FyZHMgYW5kIGtlZXAgYW4gb3JkZXJlZCBsaXN0IG9mIHRoZW0gZm9yIHRoZSBwb2x5Z29uIGVkZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRCaWxsYm9hcmRzKF9zZWxmLnBvc2l0aW9ucywgaGFuZGxlTWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2VycyA9IG1hcmtlcnM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUhhbGZNYXJrZXJQb3NpdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb25zID0gX3NlbGYucG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxsaXBzb2lkLmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYyhlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMocG9zaXRpb25zW2luZGV4XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uc1tpbmRleCA8IHBvc2l0aW9ucy5sZW5ndGggLSAxID8gaW5kZXggKyAxIDogMF0pKS5pbnRlcnBvbGF0ZVVzaW5nRnJhY3Rpb24oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbGZQb3NpdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBfc2VsZi5wb3NpdGlvbnMubGVuZ3RoICsgKHRoaXMuaXNQb2x5Z29uID8gMCA6IC0xKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsZlBvc2l0aW9ucy5wdXNoKGNhbGN1bGF0ZUhhbGZNYXJrZXJQb3NpdGlvbihpbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlRWRpdE1hcmtlckNoYW5nZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdIYW5kbGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgcG9zaXRpb24gdG8gdGhlIHBvbHlnb24gYnV0IG5vdCBhIG5ldyBtYXJrZXIgeWV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5wb3NpdGlvbnMuc3BsaWNlKHRoaXMuaW5kZXgsIDAsIHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWc6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5wb3NpdGlvbnNbdGhpcy5pbmRleF0gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIChpbmRleCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbmV3IHNldHMgb2YgbWFrZXJzIGZvciBlZGl0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5pbnNlcnRCaWxsYm9hcmQodGhpcy5pbmRleCwgcG9zaXRpb24sIGhhbmRsZU1hcmtlckNoYW5nZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNYXJrZXJzLmdldEJpbGxib2FyZCh0aGlzLmluZGV4IC0gMSkucG9zaXRpb24gPSBjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24odGhpcy5pbmRleCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNYXJrZXJzLmluc2VydEJpbGxib2FyZCh0aGlzLmluZGV4LCBjYWxjdWxhdGVIYWxmTWFya2VyUG9zaXRpb24odGhpcy5pbmRleCksIGhhbmRsZUVkaXRNYXJrZXJDaGFuZ2VzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5fY3JlYXRlUHJpbWl0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJEcmFnIHRvIGNyZWF0ZSBhIG5ldyBwb2ludFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0TWFya2Vycy5hZGRCaWxsYm9hcmRzKGhhbGZQb3NpdGlvbnMsIGhhbmRsZUVkaXRNYXJrZXJDaGFuZ2VzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TWFya2VycyA9IGVkaXRNYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIGhhbmRsZXIgZm9yIGNsaWNraW5nIGluIHRoZSBnbG9iZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihzY2VuZS5jYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAobW92ZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaWNrZWRPYmplY3QgPSBzY2VuZS5waWNrKG1vdmVtZW50LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBpY2tlZE9iamVjdCAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLnNldEVkaXRNb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgb24gdG9wIG9mIHRoZSBwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5zZXRPblRvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRNYXJrZXJzLnNldE9uVG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWFya2VycyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8uUG9seWxpbmVQcmltaXRpdmUucHJvdG90eXBlLnNldEVkaXRhYmxlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0RWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBvbHlsaW5lID0gdGhpcztcclxuICAgICAgICAgICAgcG9seWxpbmUuaXNQb2x5Z29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHBvbHlsaW5lLmFzeW5jaHJvbm91cyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZHJhd0hlbHBlci5yZWdpc3RlckVkaXRhYmxlU2hhcGUocG9seWxpbmUpO1xyXG5cclxuICAgICAgICAgICAgcG9seWxpbmUuc2V0RWRpdE1vZGUgPSBzZXRFZGl0TW9kZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFdpZHRoID0gdGhpcy53aWR0aDtcclxuXHJcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldEhpZ2hsaWdodGVkID0gZnVuY3Rpb24gKGhpZ2hsaWdodGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGlmIGFscmVhZHkgaW4gZWRpdCBtb2RlXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWRpdE1vZGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnNldEhpZ2hsaWdodGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lkdGgob3JpZ2luYWxXaWR0aCAqIDIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpZHRoKG9yaWdpbmFsV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwb2x5bGluZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ2VzaXVtLkV4dGVudC5mcm9tQ2FydG9ncmFwaGljQXJyYXkoZWxsaXBzb2lkLmNhcnRlc2lhbkFycmF5VG9DYXJ0b2dyYXBoaWNBcnJheSh0aGlzLnBvc2l0aW9ucykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhwb2x5bGluZSk7XHJcblxyXG4gICAgICAgICAgICBwb2x5bGluZS5zZXRFZGl0TW9kZShmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5Qb2x5Z29uUHJpbWl0aXZlLnByb3RvdHlwZS5zZXRFZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb2x5Z29uID0gdGhpcztcclxuICAgICAgICAgICAgcG9seWdvbi5hc3luY2hyb25vdXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzY2VuZSA9IGRyYXdIZWxwZXIuX3NjZW5lO1xyXG5cclxuICAgICAgICAgICAgZHJhd0hlbHBlci5yZWdpc3RlckVkaXRhYmxlU2hhcGUocG9seWdvbik7XHJcblxyXG4gICAgICAgICAgICBwb2x5Z29uLnNldEVkaXRNb2RlID0gc2V0RWRpdE1vZGU7XHJcblxyXG4gICAgICAgICAgICBwb2x5Z29uLnNldEhpZ2hsaWdodGVkID0gc2V0SGlnaGxpZ2h0ZWQ7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhwb2x5Z29uKTtcclxuXHJcbiAgICAgICAgICAgIHBvbHlnb24uc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF8uRXh0ZW50UHJpbWl0aXZlLnByb3RvdHlwZS5zZXRFZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldEVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdIZWxwZXIucmVnaXN0ZXJFZGl0YWJsZVNoYXBlKGV4dGVudCk7XHJcbiAgICAgICAgICAgIGV4dGVudC5hc3luY2hyb25vdXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGV4dGVudC5zZXRFZGl0TW9kZSA9IGZ1bmN0aW9uIChlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWRpdE1vZGUgPT0gZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLmRpc2FibGVBbGxIaWdobGlnaHRzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG1hcmtlcnNcclxuICAgICAgICAgICAgICAgIGlmIChlZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgb3RoZXIgc2hhcGVzIGFyZSBub3QgaW4gZWRpdCBtb2RlIGJlZm9yZSBzdGFydGluZyB0aGUgZWRpdGluZyBvZiB0aGlzIHNoYXBlXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zZXRFZGl0ZWQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBtYXJrZXJzIGFuZCBoYW5kbGVycyBmb3IgdGhlIGVkaXRpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWFya2VycyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRHJhZ0JpbGxib2FyZCA9IHRoaXMuZHJhZ0JpbGxib2FyZD8gdGhpcy5kcmFnQmlsbGJvYXJkOiBkcmFnQmlsbGJvYXJkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RyYWdIYWxmQmlsbGJvYXJkID0gdGhpcy5kcmFnSGFsZkJpbGxib2FyZD8gdGhpcy5kcmFnSGFsZkJpbGxib2FyZDogZHJhZ0JpbGxib2FyZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gbmV3IF8uQmlsbGJvYXJkR3JvdXAodGhpc0RyYWdCaWxsYm9hcmQsdGhpc0RyYWdIYWxmQmlsbGJvYXJkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRWRpdGVkKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW50LmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdvbkVkaXRlZCcsIGV4dGVudDogZXh0ZW50LmV4dGVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTWFya2VyQ2hhbmdlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdIYW5kbGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29ybmVyID0gbWFya2Vycy5nZXRCaWxsYm9hcmQoKGluZGV4ICsgMikgJSA0KS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW50LnNldEV4dGVudChnZXRFeHRlbnQoZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKGNvcm5lciksIGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zKGdldEV4dGVudENvcm5lcnMoZXh0ZW50LmV4dGVudCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJEcmFnIHRvIGNoYW5nZSB0aGUgY29ybmVycyBvZiB0aGlzIGV4dGVudFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZEJpbGxib2FyZHMoZ2V0RXh0ZW50Q29ybmVycyhleHRlbnQuZXh0ZW50KSwgaGFuZGxlTWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMgPSBtYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBoYW5kbGVyIGZvciBjbGlja2luZyBpbiB0aGUgZ2xvYmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpY2tlZE9iamVjdCA9IHNjZW5lLnBpY2sobW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgZWRpdCBpZiBwaWNrZWRvYmplY3QgaXMgZGlmZmVyZW50IG9yIG5vdCBhbiBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwaWNrZWRPYmplY3QgJiYgIXBpY2tlZE9iamVjdC5pc0Rlc3Ryb3llZCgpICYmIHBpY2tlZE9iamVjdC5wcmltaXRpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnQuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnQuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBvbiB0b3Agb2YgdGhlIHBvbHlnb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5zZXRPblRvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXJrZXJzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2Vycy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya2VycyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWRpdE1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXh0ZW50LnNldEhpZ2hsaWdodGVkID0gc2V0SGlnaGxpZ2h0ZWQ7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhleHRlbnQpO1xyXG5cclxuICAgICAgICAgICAgZXh0ZW50LnNldEVkaXRNb2RlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfLkVsbGlwc2VQcmltaXRpdmUucHJvdG90eXBlLnNldEVkaXRhYmxlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0RWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGVsbGlwc2UgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgICAgIGVsbGlwc2UuYXN5bmNocm9ub3VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBkcmF3SGVscGVyLnJlZ2lzdGVyRWRpdGFibGVTaGFwZShlbGxpcHNlKTtcclxuXHJcbiAgICAgICAgICAgIGVsbGlwc2Uuc2V0RWRpdE1vZGUgPSBmdW5jdGlvbiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRNb2RlID09IGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5kaXNhYmxlQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzcGxheSBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIG90aGVyIHNoYXBlcyBhcmUgbm90IGluIGVkaXQgbW9kZSBiZWZvcmUgc3RhcnRpbmcgdGhlIGVkaXRpbmcgb2YgdGhpcyBzaGFwZVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc2V0RWRpdGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBtYXJrZXJzIGFuZCBoYW5kbGVycyBmb3IgdGhlIGVkaXRpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWFya2VycyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRHJhZ0JpbGxib2FyZCA9IHRoaXMuZHJhZ0JpbGxib2FyZD8gdGhpcy5kcmFnQmlsbGJvYXJkOiBkcmFnQmlsbGJvYXJkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cChkcmF3SGVscGVyLHRoaXNEcmFnQmlsbGJvYXJkICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRNYXJrZXJQb3NpdGlvbnMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2VzaXVtLlNoYXBlcy5jb21wdXRlRWxsaXBzZUJvdW5kYXJ5KGVsbGlwc29pZCwgZWxsaXBzZS5nZXRDZW50ZXIoKSwgZWxsaXBzZS5nZXRTZW1pTWFqb3JBeGlzKCksIGVsbGlwc2UuZ2V0U2VtaU1pbm9yQXhpcygpLCBlbGxpcHNlLmdldFJvdGF0aW9uKCkgKyBNYXRoLlBJIC8gMiwgTWF0aC5QSSAvIDIuMCkuc3BsaWNlKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkVkaXRlZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2UuZXhlY3V0ZUxpc3RlbmVycyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ29uRWRpdGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGVsbGlwc2UuZ2V0Q2VudGVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VtaU1ham9yQXhpczogZWxsaXBzZS5nZXRTZW1pTWFqb3JBeGlzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VtaU1pbm9yQXhpczogZWxsaXBzZS5nZXRTZW1pTWlub3JBeGlzKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTWFya2VyQ2hhbmdlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdIYW5kbGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZzogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBDZXNpdW0uQ2FydGVzaWFuMy5kaXN0YW5jZShlbGxpcHNlLmdldENlbnRlcigpLCBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRTZW1pTWFqb3JBeGlzKGRpc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0U2VtaU1pbm9yQXhpcyhkaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy51cGRhdGVCaWxsYm9hcmRzUG9zaXRpb25zKGdldE1hcmtlclBvc2l0aW9ucygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVkaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRHJhZyB0byBjaGFuZ2UgdGhlIGV4Y2VudHJpY2l0eSBhbmQgcmFkaXVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkcyhnZXRNYXJrZXJQb3NpdGlvbnMoKSwgaGFuZGxlTWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMgPSBtYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBoYW5kbGVyIGZvciBjbGlja2luZyBpbiB0aGUgZ2xvYmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpY2tlZE9iamVjdCA9IHNjZW5lLnBpY2sobW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBpY2tlZE9iamVjdCAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG9uIHRvcCBvZiB0aGUgcG9seWdvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnNldE9uVG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbGxpcHNlLnNldEhpZ2hsaWdodGVkID0gc2V0SGlnaGxpZ2h0ZWQ7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyhlbGxpcHNlKTtcclxuXHJcbiAgICAgICAgICAgIGVsbGlwc2Uuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXy5DaXJjbGVQcmltaXRpdmUucHJvdG90eXBlLmdldENpcmNsZUNhcnRlc2lhbkNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGdyYW51bGFyaXR5KSB7XHJcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IENlc2l1bS5DaXJjbGVPdXRsaW5lR2VvbWV0cnkuY3JlYXRlR2VvbWV0cnkobmV3IENlc2l1bS5DaXJjbGVPdXRsaW5lR2VvbWV0cnkoe1xyXG4gICAgICAgICAgICAgICAgZWxsaXBzb2lkOiBlbGxpcHNvaWQsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMuZ2V0Q2VudGVyKCksXHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKCksXHJcbiAgICAgICAgICAgICAgICBncmFudWxhcml0eTogZ3JhbnVsYXJpdHlcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSAwLCB2YWx1ZSwgdmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoOyBjb3VudCA8IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24udmFsdWVzLmxlbmd0aDsgY291bnQgKz0gMykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLnZhbHVlcztcclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKG5ldyBDZXNpdW0uQ2FydGVzaWFuMyh2YWx1ZVtjb3VudF0sIHZhbHVlW2NvdW50ICsgMV0sIHZhbHVlW2NvdW50ICsgMl0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF8uQ2lyY2xlUHJpbWl0aXZlLnByb3RvdHlwZS5zZXRFZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldEVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjaXJjbGUgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBkcmF3SGVscGVyLl9zY2VuZTtcclxuXHJcbiAgICAgICAgICAgIGNpcmNsZS5hc3luY2hyb25vdXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGRyYXdIZWxwZXIucmVnaXN0ZXJFZGl0YWJsZVNoYXBlKGNpcmNsZSk7XHJcblxyXG4gICAgICAgICAgICBjaXJjbGUuc2V0RWRpdE1vZGUgPSBmdW5jdGlvbiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRNb2RlID09IGVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5kaXNhYmxlQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzcGxheSBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIG90aGVyIHNoYXBlcyBhcmUgbm90IGluIGVkaXQgbW9kZSBiZWZvcmUgc3RhcnRpbmcgdGhlIGVkaXRpbmcgb2YgdGhpcyBzaGFwZVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc2V0RWRpdGVkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBtYXJrZXJzIGFuZCBoYW5kbGVycyBmb3IgdGhlIGVkaXRpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWFya2VycyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRHJhZ0JpbGxib2FyZCA9IHRoaXMuZHJhZ0JpbGxib2FyZD8gdGhpcy5kcmFnQmlsbGJvYXJkOiBkcmFnQmlsbGJvYXJkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBuZXcgXy5CaWxsYm9hcmRHcm91cChkcmF3SGVscGVyLCB0aGlzRHJhZ0JpbGxib2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRNYXJrZXJQb3NpdGlvbnMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gX3NlbGYuZ2V0Q2lyY2xlQ2FydGVzaWFuQ29vcmRpbmF0ZXMoQ2VzaXVtLk1hdGguUElfT1ZFUl9UV08pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zZWxmLmdldENpcmNsZUNhcnRlc2lhbkNvb3JkaW5hdGVzKENlc2l1bS5NYXRoLlBJX09WRVJfVFdPKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25FZGl0ZWQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUuZXhlY3V0ZUxpc3RlbmVycyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ29uRWRpdGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGNpcmNsZS5nZXRDZW50ZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGNpcmNsZS5nZXRSYWRpdXMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVNYXJrZXJDaGFuZ2VzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5zZXRSYWRpdXMoQ2VzaXVtLkNhcnRlc2lhbjMuZGlzdGFuY2UoY2lyY2xlLmdldENlbnRlcigpLCBwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnVwZGF0ZUJpbGxib2FyZHNQb3NpdGlvbnMoZ2V0TWFya2VyUG9zaXRpb25zKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kOiBmdW5jdGlvbiAoaW5kZXgsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJEcmFnIHRvIGNoYW5nZSB0aGUgcmFkaXVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkQmlsbGJvYXJkcyhnZXRNYXJrZXJQb3NpdGlvbnMoKSwgaGFuZGxlTWFya2VyQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtlcnMgPSBtYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBoYW5kbGVyIGZvciBjbGlja2luZyBpbiB0aGUgZ2xvYmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JlQ2xpY2toYW5kbGVyLnNldElucHV0QWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG1vdmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpY2tlZE9iamVjdCA9IHNjZW5lLnBpY2sobW92ZW1lbnQucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBpY2tlZE9iamVjdCAmJiBwaWNrZWRPYmplY3QucHJpbWl0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG9uIHRvcCBvZiB0aGUgcG9seWdvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnNldE9uVG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VkaXRNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcmtlcnMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmVDbGlja2hhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lZGl0TW9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjaXJjbGUuc2V0SGlnaGxpZ2h0ZWQgPSBzZXRIaWdobGlnaHRlZDtcclxuXHJcbiAgICAgICAgICAgIGVuaGFuY2VXaXRoTGlzdGVuZXJzKGNpcmNsZSk7XHJcblxyXG4gICAgICAgICAgICBjaXJjbGUuc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgXy5EcmF3SGVscGVyV2lkZ2V0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gY29uc3RydWN0b3JcclxuICAgICAgICBmdW5jdGlvbiBfKGRyYXdIZWxwZXIsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnRhaW5lciBtdXN0IGJlIHNwZWNpZmllZFxyXG4gICAgICAgICAgICBpZiAoIShDZXNpdW0uZGVmaW5lZChvcHRpb25zLmNvbnRhaW5lcikpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2VzaXVtLkRldmVsb3BlckVycm9yKCdDb250YWluZXIgaXMgcmVxdWlyZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGRyYXdPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gbWFya2VySWNvbjogXCIuL2ltZy9nbHlwaGljb25zXzI0Ml9nb29nbGVfbWFwcy5wbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIHBvbHlsaW5lSWNvbjogXCIuL2ltZy9nbHlwaGljb25zXzA5N192ZWN0b3JfcGF0aF9saW5lLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gcG9seWdvbkljb246IFwiLi9pbWcvZ2x5cGhpY29uc18wOTZfdmVjdG9yX3BhdGhfcG9seWdvbi5wbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIGNpcmNsZUljb246IFwiLi9pbWcvZ2x5cGhpY29uc18wOTVfdmVjdG9yX3BhdGhfY2lyY2xlLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gZXh0ZW50SWNvbjogXCIuL2ltZy9nbHlwaGljb25zXzA5NF92ZWN0b3JfcGF0aF9zcXVhcmUucG5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhckljb246IFwiLi9pbWcvZ2x5cGhpY29uc18wNjdfY2xlYW5pbmcucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBtYXJrZXJJY29uOiBcIiBtYXJrZXJcIixcclxuICAgICAgICAgICAgICAgIHBvbHlsaW5lSWNvbjogXCIgcG9seWxpbmVcIixcclxuICAgICAgICAgICAgICAgIHBvbHlnb25JY29uOiBcIiBwb2x5Z29uXCIsXHJcbiAgICAgICAgICAgICAgICBjaXJjbGVJY29uOiBcIiBjaXJjbGVcIixcclxuICAgICAgICAgICAgICAgIGV4dGVudEljb246IFwiIGV4dGVudFwiLFxyXG4gICAgICAgICAgICAgICAgY2xlYXJJY29uOiBcIiBjbGVhclwiLFxyXG4gICAgICAgICAgICAgICAgcG9seWxpbmVEcmF3aW5nT3B0aW9uczogZGVmYXVsdFBvbHlsaW5lT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHBvbHlnb25EcmF3aW5nT3B0aW9uczogZGVmYXVsdFBvbHlnb25PcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgZXh0ZW50RHJhd2luZ09wdGlvbnM6IGRlZmF1bHRFeHRlbnRPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgY2lyY2xlRHJhd2luZ09wdGlvbnM6IGRlZmF1bHRDaXJjbGVPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3k6IHtcclxuICAgICAgICAgICAgICAgICAgICBwaWNrU3RyYXRlZ3k6IG9wdGlvbnMucGlja1N0cmF0ZWd5ID8gb3B0aW9ucy5waWNrU3RyYXRlZ3kgOiBkZWZhdWx0UGlja1N0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmaWxsT3B0aW9ucyhvcHRpb25zLCBkcmF3T3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRvb2xiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgdG9vbGJhci5jbGFzc05hbWUgPSBcInRvb2xiYXJcIjtcclxuICAgICAgICAgICAgb3B0aW9ucy5jb250YWluZXIuYXBwZW5kQ2hpbGQodG9vbGJhcik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRJY29uKGlkLCB1cmwsIHRpdGxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdidXR0b24nICsgdXJsO1xyXG4gICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgICAgICBkaXYub25jbGljayA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdJTUcnKTtcclxuICAgICAgICAgICAgICAgIC8vIGltYWdlLnNyYyA9IHVybDtcclxuICAgICAgICAgICAgICAgIC8vIHNwYW4uYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHNjZW5lID0gZHJhd0hlbHBlci5fc2NlbmU7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbnMuYnV0dG9ucylcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwibWFya2VyXCIpICE9PSAtMSAmJiBhZGRJY29uKCdtYXJrZXInLCBvcHRpb25zLm1hcmtlckljb24sICdDbGljayB0byBzdGFydCBkcmF3aW5nIGEgMkQgbWFya2VyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuY2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbGlja0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWFya2VyQ2xpY2snXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnN0YXJ0RHJhd2luZ01hcmtlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnbWFya2VyQ3JlYXRlZCcsIHBvc2l0aW9uOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IG9wdGlvbnMuc3RyYXRlZ3lcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgb3B0aW9ucy5idXR0b25zLmluZGV4T2YoXCJwb2x5bGluZVwiKSAhPT0gLTEgJiYgYWRkSWNvbigncG9seWxpbmUnLCBvcHRpb25zLnBvbHlsaW5lSWNvbiwgJ0NsaWNrIHRvIHN0YXJ0IGRyYXdpbmcgYSAyRCBwb2x5bGluZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xpY2tDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BvbHlsaW5lQ2xpY2snXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnN0YXJ0RHJhd2luZ1BvbHlsaW5lKHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHBvc2l0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAncG9seWxpbmVDcmVhdGVkJywgcG9zaXRpb25zOiBwb3NpdGlvbnN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBvcHRpb25zLnN0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwicG9seWdvblwiKSAhPT0gLTEgJiYgYWRkSWNvbigncG9seWdvbicsIG9wdGlvbnMucG9seWdvbkljb24sICdDbGljayB0byBzdGFydCBkcmF3aW5nIGEgMkQgcG9seWdvbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xpY2tDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BvbHlnb25DbGljaydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRyYXdIZWxwZXIuc3RhcnREcmF3aW5nUG9seWdvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChwb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGYuZXhlY3V0ZUxpc3RlbmVycyh7bmFtZTogJ3BvbHlnb25DcmVhdGVkJywgcG9zaXRpb25zOiBwb3NpdGlvbnN9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBvcHRpb25zLnN0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwiZXh0ZW50XCIpICE9PSAtMSAmJiBhZGRJY29uKCdleHRlbnQnLCBvcHRpb25zLmV4dGVudEljb24sICdDbGljayB0byBzdGFydCBkcmF3aW5nIGFuIEV4dGVudCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xpY2tDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2V4dGVudENsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJhd0hlbHBlci5zdGFydERyYXdpbmdFeHRlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZXh0ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxmLmV4ZWN1dGVMaXN0ZW5lcnMoe25hbWU6ICdleHRlbnRDcmVhdGVkJywgZXh0ZW50OiBleHRlbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBvcHRpb25zLnN0cmF0ZWd5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwiY2lyY2xlXCIpICE9PSAtMSAmJiBhZGRJY29uKCdjaXJjbGUnLCBvcHRpb25zLmNpcmNsZUljb24sICdDbGljayB0byBzdGFydCBkcmF3aW5nIGEgQ2lyY2xlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuY2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbGlja0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY2lyY2xlQ2xpY2snXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3SGVscGVyLnN0YXJ0RHJhd2luZ0NpcmNsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjZW50ZXIsIHJhZGl1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZi5leGVjdXRlTGlzdGVuZXJzKHtuYW1lOiAnY2lyY2xlQ3JlYXRlZCcsIGNlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1c30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IG9wdGlvbnMuc3RyYXRlZ3lcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gYWRkIGEgY2xlYXIgYnV0dG9uIGF0IHRoZSBlbmRcclxuICAgICAgICAgICAgLy8gYWRkIGEgZGl2aWRlciBmaXJzdFxyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZGl2aWRlcic7XHJcbiAgICAgICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYnV0dG9ucy5pbmRleE9mKFwiY2xlYXJcIikgIT09IC0xICYmXHJcbiAgICAgICAgICAgIGFkZEljb24oJ2NsZWFyJywgb3B0aW9ucy5jbGVhckljb24sICdSZW1vdmUgYWxsIHByaW1pdGl2ZXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNsaWNrQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjbGVhckNsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2NlbmUucHJpbWl0aXZlcy5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBlbmhhbmNlV2l0aExpc3RlbmVycyh0aGlzKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIF87XHJcblxyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaWsOWinuW3peWFt+agj+eCueWHu+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIGNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQpfSBvcHRpb25zLmNsaWNrQ2FsbGJhY2sgLSBldmVudC5uYW1l5YyF5ousJHt0b29sYmFyTmFtZX1DbGlja1xyXG4gICAgICogQHJldHVybnMge198Kn1cclxuICAgICAqL1xyXG4gICAgXy5wcm90b3R5cGUuYWRkVG9vbGJhciA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gY29weU9wdGlvbnMob3B0aW9ucywge2NvbnRhaW5lcjogY29udGFpbmVyfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBfLkRyYXdIZWxwZXJXaWRnZXQodGhpcywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZW50KG1uLCBteCkge1xyXG4gICAgICAgIHZhciBlID0gbmV3IENlc2l1bS5SZWN0YW5nbGUoKTtcclxuXHJcbiAgICAgICAgLy8gUmUtb3JkZXIgc28gd2VzdCA8IGVhc3QgYW5kIHNvdXRoIDwgbm9ydGhcclxuICAgICAgICBlLndlc3QgPSBNYXRoLm1pbihtbi5sb25naXR1ZGUsIG14LmxvbmdpdHVkZSk7XHJcbiAgICAgICAgZS5lYXN0ID0gTWF0aC5tYXgobW4ubG9uZ2l0dWRlLCBteC5sb25naXR1ZGUpO1xyXG4gICAgICAgIGUuc291dGggPSBNYXRoLm1pbihtbi5sYXRpdHVkZSwgbXgubGF0aXR1ZGUpO1xyXG4gICAgICAgIGUubm9ydGggPSBNYXRoLm1heChtbi5sYXRpdHVkZSwgbXgubGF0aXR1ZGUpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgYXBwcm94IGVxdWFsIChzaG91bGRuJ3QgcmVxdWlyZSBhYnMgZHVlIHRvIHJlLW9yZGVyKVxyXG4gICAgICAgIHZhciBlcHNpbG9uID0gQ2VzaXVtLk1hdGguRVBTSUxPTjc7XHJcblxyXG4gICAgICAgIGlmICgoZS5lYXN0IC0gZS53ZXN0KSA8IGVwc2lsb24pIHtcclxuICAgICAgICAgICAgZS5lYXN0ICs9IGVwc2lsb24gKiAyLjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoKGUubm9ydGggLSBlLnNvdXRoKSA8IGVwc2lsb24pIHtcclxuICAgICAgICAgICAgZS5ub3J0aCArPSBlcHNpbG9uICogMi4wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoZnJhbWVEaXYpIHtcclxuXHJcbiAgICAgICAgdmFyIHRvb2x0aXAgPSBmdW5jdGlvbiAoZnJhbWVEaXYpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwidHdpcHN5IHJpZ2h0XCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgICAgICAgICAgYXJyb3cuY2xhc3NOYW1lID0gXCJ0d2lwc3ktYXJyb3dcIjtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGFycm93KTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgICAgICAgICB0aXRsZS5jbGFzc05hbWUgPSBcInR3aXBzeS1pbm5lclwiO1xyXG5cclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcclxuICAgICAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCB0byBmcmFtZSBkaXYgYW5kIGRpc3BsYXkgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgZnJhbWVEaXYuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG9vbHRpcC5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpdi5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0b29sdGlwLnByb3RvdHlwZS5zaG93QXQgPSBmdW5jdGlvbiAocG9zaXRpb24sIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uICYmIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpdGxlLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9kaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyAxMCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSAocG9zaXRpb24ueSAtIHRoaXMuX2Rpdi5jbGllbnRIZWlnaHQgLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aXRsZS5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDop6PlhrPmi5bliqjliLB0aXDkuIrml7blrpXmnLrnmoTpl67pophcclxuICAgICAgICAgKi9cclxuICAgICAgICB0b29sdGlwLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lLl9kaXYuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJyAmJiAoY291bnQgPSAoKGNvdW50KyspICUgMykpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWUuX2Rpdi5zdHlsZS5sZWZ0ID0gZXYub2Zmc2V0WCArIDIwICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lLl9kaXYuc3R5bGUudG9wID0gKGV2Lm9mZnNldFkgLSBtZS5fZGl2LmNsaWVudEhlaWdodCAvIDIpICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyB0b29sdGlwKGZyYW1lRGl2KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5TGF0TG5nU3RyaW5nKGNhcnRvZ3JhcGhpYywgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhcnRvZ3JhcGhpYy5sb25naXR1ZGUudG9GaXhlZChwcmVjaXNpb24gfHwgMykgKyBcIiwgXCIgKyBjYXJ0b2dyYXBoaWMubGF0aXR1ZGUudG9GaXhlZChwcmVjaXNpb24gfHwgMyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvbmUoZnJvbSwgdG8pIHtcclxuICAgICAgICBpZiAoZnJvbSA9PSBudWxsIHx8IHR5cGVvZiBmcm9tICE9IFwib2JqZWN0XCIpIHJldHVybiBmcm9tO1xyXG4gICAgICAgIGlmIChmcm9tLmNvbnN0cnVjdG9yICE9IE9iamVjdCAmJiBmcm9tLmNvbnN0cnVjdG9yICE9IEFycmF5KSByZXR1cm4gZnJvbTtcclxuICAgICAgICBpZiAoZnJvbS5jb25zdHJ1Y3RvciA9PSBEYXRlIHx8IGZyb20uY29uc3RydWN0b3IgPT0gUmVnRXhwIHx8IGZyb20uY29uc3RydWN0b3IgPT0gRnVuY3Rpb24gfHxcclxuICAgICAgICAgICAgZnJvbS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcgfHwgZnJvbS5jb25zdHJ1Y3RvciA9PSBOdW1iZXIgfHwgZnJvbS5jb25zdHJ1Y3RvciA9PSBCb29sZWFuKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IGZyb20uY29uc3RydWN0b3IoZnJvbSk7XHJcblxyXG4gICAgICAgIHRvID0gdG8gfHwgbmV3IGZyb20uY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBmcm9tKSB7XHJcbiAgICAgICAgICAgIHRvW25hbWVdID0gdHlwZW9mIHRvW25hbWVdID09IFwidW5kZWZpbmVkXCIgPyBjbG9uZShmcm9tW25hbWVdLCBudWxsKSA6IHRvW25hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbGxPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgdmFyIG9wdGlvbjtcclxuICAgICAgICBmb3IgKG9wdGlvbiBpbiBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uc1tvcHRpb25dID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IGNsb25lKGRlZmF1bHRPcHRpb25zW29wdGlvbl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNoYWxsb3cgY29weVxyXG4gICAgZnVuY3Rpb24gY29weU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IGNsb25lKG9wdGlvbnMpLCBvcHRpb247XHJcbiAgICAgICAgZm9yIChvcHRpb24gaW4gZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKG5ld09wdGlvbnNbb3B0aW9uXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdPcHRpb25zW29wdGlvbl0gPSBjbG9uZShkZWZhdWx0T3B0aW9uc1tvcHRpb25dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHRlbmRPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG5ld09wdGlvbnMgPSBjbG9uZShvcHRpb25zKSwgb3B0aW9uO1xyXG4gICAgICAgIGZvciAob3B0aW9uIGluIGRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIG5ld09wdGlvbnNbb3B0aW9uXSA9IGNsb25lKGRlZmF1bHRPcHRpb25zW29wdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRMaXN0ZW5lcihwcmltaXRpdmUsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcHJpbWl0aXZlW3R5cGVdID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIocHJpbWl0aXZlLCB0eXBlKSB7XHJcbiAgICAgICAgZGVsZXRlIHByaW1pdGl2ZVt0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlbmhhbmNlV2l0aExpc3RlbmVycyhlbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuX2xpc3RlbmVycyA9IHt9O1xyXG5cclxuICAgICAgICBlbGVtZW50LmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9ICh0aGlzLl9saXN0ZW5lcnNbbmFtZV0gfHwgW10pO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbbmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV0ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudC5leGVjdXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50LCBkZWZhdWx0Q2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2xpc3RlbmVyc1tldmVudC5uYW1lXSAmJiB0aGlzLl9saXN0ZW5lcnNbZXZlbnQubmFtZV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAoOyBpbmRleCA8IHRoaXMuX2xpc3RlbmVyc1tldmVudC5uYW1lXS5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZlbnQubmFtZV1baW5kZXhdKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0Q2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2FsbGJhY2soZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluW9k+WJjeeCueS9jeeahOi/keWcsOeCueS9jVxyXG4gICAgICogQHBhcmFtIHtDZXNpdW0uQ2FydGVzaWFuM30gY2VzaXVtM1xyXG4gICAgICogQHJldHVybnMge0Nlc2l1bS5DYXJ0ZXNpYW4zfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRDZXNpdW1IaWdodFplcm8oY2VzaXVtMykge1xyXG4gICAgICAgIHZhciBmcm9tQ2FydGVzaWFuID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGNlc2l1bTMpO1xyXG4gICAgICAgIHJldHVybiBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhmcm9tQ2FydGVzaWFuLmxvbmdpdHVkZSwgZnJvbUNhcnRlc2lhbi5sYXRpdHVkZSwgMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiBfO1xyXG59KSk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n")},function(module,exports){eval('module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, "loaded", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, "id", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2NlZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvVGhpcmRQYXJ0eS9EcmF3SGVscGVyLmNzcz9lZmE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n")}])});